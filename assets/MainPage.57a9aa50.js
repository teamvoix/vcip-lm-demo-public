import{k as Ae,c as p,h as S,l as He,g as Ce,v as Pr,L as Je,p as tl,r as j,w as we,M as Cr,N as Yo,O as Hi,P as to,n as ot,q as Ve,o as Rt,t as bt,B as io,m as il,R as kr,i as Wo,S as Lr,U as Qt,V as et,W as Ct,X as nl,Y as Un,Z as Xo,$ as Jo,a0 as ol,a1 as al,a2 as rl,a3 as sl,a4 as ll,a5 as fn,a6 as ul,a7 as $a,a8 as cl,a9 as Tr,aa as jn,a as dl,ab as hl,ac as fl,ad as ml,ae as ea,af as kt,ag as vl,ah as Mr,ai as Kn,aj as _l,ak as gl,al as on,am as Gt,an as Er,ao as qi,ap as jo,aq as Wa,ar as pl,as as yl,Q as Ie,at as bl,au as wl,y as xl,u as Ii,x as Sl,z as Pl,av as Cl,_ as kl,d as Ll,aw as Ao,D as ei,E as Ri,G as ze,I as Re,f as de,ax as ct,ay as qo,az as Tl,aA as Rn,aB as an,H as rn,aC as ja,aD as Ua,aE as di}from"./index.dbce683f.js";import{s as zr,g as Br,c as Ml,b as El,a as zl,h as Bl}from"./scroll.dde0fd0c.js";var ti=Ae({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(i,{slots:r}){const s=p(()=>`q-card__section q-card__section--${i.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>S(i.tag,{class:s.value},He(r.default))}}),Ol=Ae({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(i,{slots:r}){const s=Ce(),c=p(()=>"q-td"+(i.autoWidth===!0?" q-table--col-auto-width":"")+(i.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(i.props===void 0)return S("td",{class:c.value},He(r.default));const d=s.vnode.key,h=(i.props.colsMap!==void 0?i.props.colsMap[d]:null)||i.props.col;if(h===void 0)return;const{row:u}=i.props;return S("td",{class:c.value+h.__tdClass(u),style:h.__tdStyle(u)},He(r.default))}}}),Al=Ae({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(i,{slots:r,emit:s}){const c=Ce(),{proxy:{$q:d}}=c,h=u=>{s("click",u)};return()=>{if(i.props===void 0)return S("th",{class:i.autoWidth===!0?"q-table--col-auto-width":"",onClick:h},He(r.default));let u,_;const g=c.vnode.key;if(g){if(u=i.props.colsMap[g],u===void 0)return}else u=i.props.col;if(u.sortable===!0){const m=u.align==="right"?"unshift":"push";_=Pr(r.default,[]),_[m](S(Je,{class:u.__iconClass,name:d.iconSet.table.arrowUp}))}else _=He(r.default);const C={class:u.__thClass+(i.autoWidth===!0?" q-table--col-auto-width":""),style:u.headerStyle,onClick:m=>{u.sortable===!0&&i.props.sort(u),h(m)}};return S("th",C,_)}}});const Lt={dark:{type:Boolean,default:null}};function Tt(i,r){return p(()=>i.dark===null?r.dark.isActive:i.dark)}const ql={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Io={xs:2,sm:4,md:8,lg:16,xl:24};var Il=Ae({name:"QSeparator",props:{...Lt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(i){const r=Ce(),s=Tt(i,r.proxy.$q),c=p(()=>i.vertical===!0?"vertical":"horizontal"),d=p(()=>` q-separator--${c.value}`),h=p(()=>i.inset!==!1?`${d.value}-${ql[i.inset]}`:""),u=p(()=>`q-separator${d.value}${h.value}`+(i.color!==void 0?` bg-${i.color}`:"")+(s.value===!0?" q-separator--dark":"")),_=p(()=>{const g={};if(i.size!==void 0&&(g[i.vertical===!0?"width":"height"]=i.size),i.spaced!==!1){const C=i.spaced===!0?`${Io.md}px`:i.spaced in Io?`${Io[i.spaced]}px`:i.spaced,m=i.vertical===!0?["Left","Right"]:["Top","Bottom"];g[`margin${m[0]}`]=g[`margin${m[1]}`]=C}return g});return()=>S("hr",{class:u.value,style:_.value,"aria-orientation":c.value})}}),Rl=Ae({name:"QList",props:{...Lt,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(i,{slots:r}){const s=Ce(),c=Tt(i,s.proxy.$q),d=p(()=>"q-list"+(i.bordered===!0?" q-list--bordered":"")+(i.dense===!0?" q-list--dense":"")+(i.separator===!0?" q-list--separator":"")+(c.value===!0?" q-list--dark":"")+(i.padding===!0?" q-list--padding":""));return()=>S(i.tag,{class:d.value},He(r.default))}});const Vl=["horizontal","vertical","cell","none"];var Dl=Ae({name:"QMarkupTable",props:{...Lt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:i=>Vl.includes(i)}},setup(i,{slots:r}){const s=Ce(),c=Tt(i,s.proxy.$q),d=p(()=>`q-markup-table q-table__container q-table__card q-table--${i.separator}-separator`+(c.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(i.dense===!0?" q-table--dense":"")+(i.flat===!0?" q-table--flat":"")+(i.bordered===!0?" q-table--bordered":"")+(i.square===!0?" q-table--square":"")+(i.wrapCells===!1?" q-table--no-wrap":""));return()=>S("div",{class:d.value},[S("table",{class:"q-table"},He(r.default))])}});function Or(i,r){return S("div",i,[S("table",{class:"q-table"},r)])}let Gn=!1;{const i=document.createElement("div");i.setAttribute("dir","rtl"),Object.assign(i.style,{width:"1px",height:"1px",overflow:"auto"});const r=document.createElement("div");Object.assign(r.style,{width:"1000px",height:"1px"}),document.body.appendChild(i),i.appendChild(r),i.scrollLeft=-1e3,Gn=i.scrollLeft>=0,i.remove()}const Pt=1e3,Fl=["start","center","end","start-force","center-force","end-force"],Ar=Array.prototype.filter,Zl=window.getComputedStyle(document.body).overflowAnchor===void 0?tl:function(i,r){i!==null&&(i._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(i._qOverflowAnimationFrame),i._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(i===null)return;i._qOverflowAnimationFrame=void 0;const s=i.children||[];Ar.call(s,d=>d.dataset&&d.dataset.qVsAnchor!==void 0).forEach(d=>{delete d.dataset.qVsAnchor});const c=s[r];c&&c.dataset&&(c.dataset.qVsAnchor="")}))};function Fi(i,r){return i+r}function Ro(i,r,s,c,d,h,u,_){const g=i===window?document.scrollingElement||document.documentElement:i,C=d===!0?"offsetWidth":"offsetHeight",m={scrollStart:0,scrollViewSize:-u-_,scrollMaxSize:0,offsetStart:-u,offsetEnd:-_};if(d===!0?(i===window?(m.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,m.scrollViewSize+=document.documentElement.clientWidth):(m.scrollStart=g.scrollLeft,m.scrollViewSize+=g.clientWidth),m.scrollMaxSize=g.scrollWidth,h===!0&&(m.scrollStart=(Gn===!0?m.scrollMaxSize-m.scrollViewSize:0)-m.scrollStart)):(i===window?(m.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,m.scrollViewSize+=document.documentElement.clientHeight):(m.scrollStart=g.scrollTop,m.scrollViewSize+=g.clientHeight),m.scrollMaxSize=g.scrollHeight),s!==null)for(let w=s.previousElementSibling;w!==null;w=w.previousElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetStart+=w[C]);if(c!==null)for(let w=c.nextElementSibling;w!==null;w=w.nextElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetEnd+=w[C]);if(r!==i){const w=g.getBoundingClientRect(),D=r.getBoundingClientRect();d===!0?(m.offsetStart+=D.left-w.left,m.offsetEnd-=D.width):(m.offsetStart+=D.top-w.top,m.offsetEnd-=D.height),i!==window&&(m.offsetStart+=m.scrollStart),m.offsetEnd+=m.scrollMaxSize-m.offsetStart}return m}function Ka(i,r,s,c){r==="end"&&(r=(i===window?document.body:i)[s===!0?"scrollWidth":"scrollHeight"]),i===window?s===!0?(c===!0&&(r=(Gn===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-r),window.scrollTo(r,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r):s===!0?(c===!0&&(r=(Gn===!0?i.scrollWidth-i.offsetWidth:0)-r),i.scrollLeft=r):i.scrollTop=r}function sn(i,r,s,c){if(s>=c)return 0;const d=r.length,h=Math.floor(s/Pt),u=Math.floor((c-1)/Pt)+1;let _=i.slice(h,u).reduce(Fi,0);return s%Pt!==0&&(_-=r.slice(h*Pt,s).reduce(Fi,0)),c%Pt!==0&&c!==d&&(_-=r.slice(c,u*Pt).reduce(Fi,0)),_}const qr={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ir=Object.keys(qr),Uo={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...qr};function Rr({virtualScrollLength:i,getVirtualScrollTarget:r,getVirtualScrollEl:s,virtualScrollItemSizeComputed:c}){const d=Ce(),{props:h,emit:u,proxy:_}=d,{$q:g}=_;let C,m,w,D=[],x;const E=j(0),z=j(0),I=j({}),le=j(null),A=j(null),R=j(null),N=j({from:0,to:0}),Q=p(()=>h.tableColspan!==void 0?h.tableColspan:100);c===void 0&&(c=p(()=>h.virtualScrollItemSize));const Z=p(()=>c.value+";"+h.virtualScrollHorizontal),Y=p(()=>Z.value+";"+h.virtualScrollSliceRatioBefore+";"+h.virtualScrollSliceRatioAfter);we(Y,()=>{ee()}),we(Z,ce);function ce(){ye(m,!0)}function O(y){ye(y===void 0?m:y)}function V(y,b){const U=r();if(U==null||U.nodeType===8)return;const re=Ro(U,s(),le.value,A.value,h.virtualScrollHorizontal,g.lang.rtl,h.virtualScrollStickySizeStart,h.virtualScrollStickySizeEnd);w!==re.scrollViewSize&&ee(re.scrollViewSize),T(U,re,Math.min(i.value-1,Math.max(0,parseInt(y,10)||0)),0,Fl.indexOf(b)!==-1?b:m!==-1&&y>m?"end":"start")}function H(){const y=r();if(y==null||y.nodeType===8)return;const b=Ro(y,s(),le.value,A.value,h.virtualScrollHorizontal,g.lang.rtl,h.virtualScrollStickySizeStart,h.virtualScrollStickySizeEnd),U=i.value-1,re=b.scrollMaxSize-b.offsetStart-b.offsetEnd-z.value;if(C===b.scrollStart)return;if(b.scrollMaxSize<=0){T(y,b,0,0);return}w!==b.scrollViewSize&&ee(b.scrollViewSize),ue(N.value.from);const ne=Math.floor(b.scrollMaxSize-Math.max(b.scrollViewSize,b.offsetEnd)-Math.min(x[U],b.scrollViewSize/2));if(ne>0&&Math.ceil(b.scrollStart)>=ne){T(y,b,U,b.scrollMaxSize-b.offsetEnd-D.reduce(Fi,0));return}let q=0,G=b.scrollStart-b.offsetStart,ge=G;if(G<=re&&G+b.scrollViewSize>=E.value)G-=E.value,q=N.value.from,ge=G;else for(let K=0;G>=D[K]&&q<U;K++)G-=D[K],q+=Pt;for(;G>0&&q<U;)G-=x[q],G>-b.scrollViewSize?(q++,ge=G):ge=x[q]+G;T(y,b,q,ge)}function T(y,b,U,re,ne){const q=typeof ne=="string"&&ne.indexOf("-force")!==-1,G=q===!0?ne.replace("-force",""):ne,ge=G!==void 0?G:"start";let K=Math.max(0,U-I.value[ge]),ke=K+I.value.total;ke>i.value&&(ke=i.value,K=Math.max(0,ke-I.value.total)),C=b.scrollStart;const $e=K!==N.value.from||ke!==N.value.to;if($e===!1&&G===void 0){M(U);return}const{activeElement:at}=document,We=R.value;$e===!0&&We!==null&&We!==at&&We.contains(at)===!0&&(We.addEventListener("focusout",ae),setTimeout(()=>{We!==null&&We.removeEventListener("focusout",ae)})),Zl(We,U-K);const Mt=G!==void 0?x.slice(K,U).reduce(Fi,0):0;if($e===!0){const rt=ke>=N.value.from&&K<=N.value.to?N.value.to:ke;N.value={from:K,to:rt},E.value=sn(D,x,0,K),z.value=sn(D,x,ke,i.value),requestAnimationFrame(()=>{N.value.to!==ke&&C===b.scrollStart&&(N.value={from:N.value.from,to:ke},z.value=sn(D,x,ke,i.value))})}requestAnimationFrame(()=>{if(C!==b.scrollStart)return;$e===!0&&ue(K);const rt=x.slice(K,U).reduce(Fi,0),st=rt+b.offsetStart+E.value,mt=st+x[U];let vt=st+re;if(G!==void 0){const ii=rt-Mt,Et=b.scrollStart+ii;vt=q!==!0&&Et<st&&mt<Et+b.scrollViewSize?Et:G==="end"?mt-b.scrollViewSize:st-(G==="start"?0:Math.round((b.scrollViewSize-x[U])/2))}C=vt,Ka(y,vt,h.virtualScrollHorizontal,g.lang.rtl),M(U)})}function ue(y){const b=R.value;if(b){const U=Ar.call(b.children,K=>K.classList&&K.classList.contains("q-virtual-scroll--skip")===!1),re=U.length,ne=h.virtualScrollHorizontal===!0?K=>K.getBoundingClientRect().width:K=>K.offsetHeight;let q=y,G,ge;for(let K=0;K<re;){for(G=ne(U[K]),K++;K<re&&U[K].classList.contains("q-virtual-scroll--with-prev")===!0;)G+=ne(U[K]),K++;ge=G-x[q],ge!==0&&(x[q]+=ge,D[Math.floor(q/Pt)]+=ge),q++}}}function ae(){R.value!==null&&R.value!==void 0&&R.value.focus()}function ye(y,b){const U=1*c.value;(b===!0||Array.isArray(x)===!1)&&(x=[]);const re=x.length;x.length=i.value;for(let q=i.value-1;q>=re;q--)x[q]=U;const ne=Math.floor((i.value-1)/Pt);D=[];for(let q=0;q<=ne;q++){let G=0;const ge=Math.min((q+1)*Pt,i.value);for(let K=q*Pt;K<ge;K++)G+=x[K];D.push(G)}m=-1,C=void 0,E.value=sn(D,x,0,N.value.from),z.value=sn(D,x,N.value.to,i.value),y>=0?(ue(N.value.from),Ve(()=>{V(y)})):te()}function ee(y){if(y===void 0&&typeof window!="undefined"){const G=r();G!=null&&G.nodeType!==8&&(y=Ro(G,s(),le.value,A.value,h.virtualScrollHorizontal,g.lang.rtl,h.virtualScrollStickySizeStart,h.virtualScrollStickySizeEnd).scrollViewSize)}w=y;const b=parseFloat(h.virtualScrollSliceRatioBefore)||0,U=parseFloat(h.virtualScrollSliceRatioAfter)||0,re=1+b+U,ne=y===void 0||y<=0?1:Math.ceil(y/c.value),q=Math.max(1,ne,Math.ceil((h.virtualScrollSliceSize>0?h.virtualScrollSliceSize:10)/re));I.value={total:Math.ceil(q*re),start:Math.ceil(q*b),center:Math.ceil(q*(.5+b)),end:Math.ceil(q*(1+b)),view:ne}}function W(y,b){const U=h.virtualScrollHorizontal===!0?"width":"height",re={["--q-virtual-scroll-item-"+U]:c.value+"px"};return[y==="tbody"?S(y,{class:"q-virtual-scroll__padding",key:"before",ref:le},[S("tr",[S("td",{style:{[U]:`${E.value}px`,...re},colspan:Q.value})])]):S(y,{class:"q-virtual-scroll__padding",key:"before",ref:le,style:{[U]:`${E.value}px`,...re}}),S(y,{class:"q-virtual-scroll__content",key:"content",ref:R,tabindex:-1},b.flat()),y==="tbody"?S(y,{class:"q-virtual-scroll__padding",key:"after",ref:A},[S("tr",[S("td",{style:{[U]:`${z.value}px`,...re},colspan:Q.value})])]):S(y,{class:"q-virtual-scroll__padding",key:"after",ref:A,style:{[U]:`${z.value}px`,...re}})]}function M(y){m!==y&&(h.onVirtualScroll!==void 0&&u("virtualScroll",{index:y,from:N.value.from,to:N.value.to-1,direction:y<m?"decrease":"increase",ref:_}),m=y)}ee();const te=Cr(H,g.platform.is.ios===!0?120:35);Yo(()=>{ee()});let $=!1;return Hi(()=>{$=!0}),to(()=>{if($!==!0)return;const y=r();C!==void 0&&y!==void 0&&y!==null&&y.nodeType!==8?Ka(y,C,h.virtualScrollHorizontal,g.lang.rtl):V(m)}),ot(()=>{te.cancel()}),Object.assign(_,{scrollTo:V,reset:ce,refresh:O}),{virtualScrollSliceRange:N,virtualScrollSliceSizeComputed:I,setVirtualScrollSize:ee,onVirtualScrollEvt:te,localResetVirtualScroll:ye,padVirtualScroll:W,scrollTo:V,reset:ce,refresh:O}}const Nl={list:Rl,table:Dl},Hl=["list","table","__qtable"];var $l=Ae({name:"QVirtualScroll",props:{...Uo,type:{type:String,default:"list",validator:i=>Hl.includes(i)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:zr},setup(i,{slots:r,attrs:s}){let c;const d=j(null),h=p(()=>i.itemsSize>=0&&i.itemsFn!==void 0?parseInt(i.itemsSize,10):Array.isArray(i.items)?i.items.length:0),{virtualScrollSliceRange:u,localResetVirtualScroll:_,padVirtualScroll:g,onVirtualScrollEvt:C}=Rr({virtualScrollLength:h,getVirtualScrollTarget:E,getVirtualScrollEl:x}),m=p(()=>{if(h.value===0)return[];const A=(R,N)=>({index:u.value.from+N,item:R});return i.itemsFn===void 0?i.items.slice(u.value.from,u.value.to).map(A):i.itemsFn(u.value.from,u.value.to-u.value.from).map(A)}),w=p(()=>"q-virtual-scroll q-virtual-scroll"+(i.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(i.scrollTarget!==void 0?"":" scroll")),D=p(()=>i.scrollTarget!==void 0?{}:{tabindex:0});we(h,()=>{_()}),we(()=>i.scrollTarget,()=>{I(),z()});function x(){return d.value.$el||d.value}function E(){return c}function z(){c=Br(x(),i.scrollTarget),c.addEventListener("scroll",C,bt.passive)}function I(){c!==void 0&&(c.removeEventListener("scroll",C,bt.passive),c=void 0)}function le(){let A=g(i.type==="list"?"div":"tbody",m.value.map(r.default));return r.before!==void 0&&(A=r.before().concat(A)),io(r.after,A)}return Yo(()=>{_()}),Rt(()=>{z()}),to(()=>{z()}),Hi(()=>{I()}),ot(()=>{I()}),()=>{if(r.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return i.type==="__qtable"?Or({ref:d,class:"q-table__middle "+w.value},le()):S(Nl[i.type],{...s,ref:d,class:[s.class,w.value],...D.value},le)}}});let Vo,Vn=0;const Xe=new Array(256);for(let i=0;i<256;i++)Xe[i]=(i+256).toString(16).substring(1);const Wl=(()=>{const i=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(i!==void 0){if(i.randomBytes!==void 0)return i.randomBytes;if(i.getRandomValues!==void 0)return r=>{const s=new Uint8Array(r);return i.getRandomValues(s),s}}return r=>{const s=[];for(let c=r;c>0;c--)s.push(Math.floor(Math.random()*256));return s}})(),Ga=4096;function Ko(){(Vo===void 0||Vn+16>Ga)&&(Vn=0,Vo=Wl(Ga));const i=Array.prototype.slice.call(Vo,Vn,Vn+=16);return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Xe[i[0]]+Xe[i[1]]+Xe[i[2]]+Xe[i[3]]+"-"+Xe[i[4]]+Xe[i[5]]+"-"+Xe[i[6]]+Xe[i[7]]+"-"+Xe[i[8]]+Xe[i[9]]+"-"+Xe[i[10]]+Xe[i[11]]+Xe[i[12]]+Xe[i[13]]+Xe[i[14]]+Xe[i[15]]}function jl(i){return i==null?null:i}function Qa(i,r){return i==null?r===!0?`f_${Ko()}`:null:i}function Ul({getValue:i,required:r=!0}={}){if(il.value===!0){const s=i!==void 0?j(jl(i())):j(null);return r===!0&&s.value===null&&Rt(()=>{s.value=`f_${Ko()}`}),i!==void 0&&we(i,c=>{s.value=Qa(c,r)}),s}return i!==void 0?p(()=>Qa(i(),r)):j(`f_${Ko()}`)}const Ya=/^on[A-Z]/;function Kl(){const{attrs:i,vnode:r}=Ce(),s={listeners:j({}),attributes:j({})};function c(){const d={},h={};for(const u in i)u!=="class"&&u!=="style"&&Ya.test(u)===!1&&(d[u]=i[u]);for(const u in r.props)Ya.test(u)===!0&&(h[u]=r.props[u]);s.attributes.value=d,s.listeners.value=h}return kr(c),c(),s}function Gl({validate:i,resetValidation:r,requiresQForm:s}){const c=Wo(Lr,!1);if(c!==!1){const{props:d,proxy:h}=Ce();Object.assign(h,{validate:i,resetValidation:r}),we(()=>d.disable,u=>{u===!0?(typeof r=="function"&&r(),c.unbindComponent(h)):c.bindComponent(h)}),Rt(()=>{d.disable!==!0&&c.bindComponent(h)}),ot(()=>{d.disable!==!0&&c.unbindComponent(h)})}else s===!0&&console.error("Parent QForm not found on useFormChild()!")}const Xa=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Ja=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,er=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Dn=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Fn=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Do={date:i=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(i),time:i=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(i),fulltime:i=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(i),timeOrFulltime:i=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(i),email:i=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i),hexColor:i=>Xa.test(i),hexaColor:i=>Ja.test(i),hexOrHexaColor:i=>er.test(i),rgbColor:i=>Dn.test(i),rgbaColor:i=>Fn.test(i),rgbOrRgbaColor:i=>Dn.test(i)||Fn.test(i),hexOrRgbColor:i=>Xa.test(i)||Dn.test(i),hexaOrRgbaColor:i=>Ja.test(i)||Fn.test(i),anyColor:i=>er.test(i)||Dn.test(i)||Fn.test(i)},Ql=[!0,!1,"ondemand"],Yl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:i=>Ql.includes(i)}};function Xl(i,r){const{props:s,proxy:c}=Ce(),d=j(!1),h=j(null),u=j(!1);Gl({validate:z,resetValidation:E});let _=0,g;const C=p(()=>s.rules!==void 0&&s.rules!==null&&s.rules.length!==0),m=p(()=>s.disable!==!0&&C.value===!0&&r.value===!1),w=p(()=>s.error===!0||d.value===!0),D=p(()=>typeof s.errorMessage=="string"&&s.errorMessage.length!==0?s.errorMessage:h.value);we(()=>s.modelValue,()=>{u.value=!0,m.value===!0&&s.lazyRules===!1&&I()});function x(){s.lazyRules!=="ondemand"&&m.value===!0&&u.value===!0&&I()}we(()=>s.reactiveRules,le=>{le===!0?g===void 0&&(g=we(()=>s.rules,x,{immediate:!0,deep:!0})):g!==void 0&&(g(),g=void 0)},{immediate:!0}),we(()=>s.lazyRules,x),we(i,le=>{le===!0?u.value=!0:m.value===!0&&s.lazyRules!=="ondemand"&&I()});function E(){_++,r.value=!1,u.value=!1,d.value=!1,h.value=null,I.cancel()}function z(le=s.modelValue){if(s.disable===!0||C.value===!1)return!0;const A=++_,R=r.value!==!0?()=>{u.value=!0}:()=>{},N=(Z,Y)=>{Z===!0&&R(),d.value=Z,h.value=Y||null,r.value=!1},Q=[];for(let Z=0;Z<s.rules.length;Z++){const Y=s.rules[Z];let ce;if(typeof Y=="function"?ce=Y(le,Do):typeof Y=="string"&&Do[Y]!==void 0&&(ce=Do[Y](le)),ce===!1||typeof ce=="string")return N(!0,ce),!1;ce!==!0&&ce!==void 0&&Q.push(ce)}return Q.length===0?(N(!1),!0):(r.value=!0,Promise.all(Q).then(Z=>{if(Z===void 0||Array.isArray(Z)===!1||Z.length===0)return A===_&&N(!1),!0;const Y=Z.find(ce=>ce===!1||typeof ce=="string");return A===_&&N(Y!==void 0,Y),Y===void 0},Z=>(A===_&&(console.error(Z),N(!0)),!1)))}const I=Cr(z,0);return ot(()=>{g!==void 0&&g(),I.cancel()}),Object.assign(c,{resetValidation:E,validate:z}),Qt(c,"hasError",()=>w.value),{isDirtyModel:u,hasRules:C,hasError:w,errorMessage:D,validate:z,resetValidation:E}}let fi=[],hn=[];function Vr(i){hn=hn.filter(r=>r!==i)}function Jl(i){Vr(i),hn.push(i)}function tr(i){Vr(i),hn.length===0&&fi.length!==0&&(fi[fi.length-1](),fi=[])}function mn(i){hn.length===0?i():fi.push(i)}function eu(i){fi=fi.filter(r=>r!==i)}function gi(i){return i!=null&&(""+i).length!==0}const Dr={...Lt,...Yl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},no={...Dr,maxlength:[Number,String]},oo=["update:modelValue","clear","focus","blur"];function ao({requiredForAttr:i=!0,tagProp:r,changeEvent:s=!1}={}){const{props:c,proxy:d}=Ce(),h=Tt(c,d.$q),u=Ul({required:i,getValue:()=>c.for});return{requiredForAttr:i,changeEvent:s,tag:r===!0?p(()=>c.tag):{value:"label"},isDark:h,editable:p(()=>c.disable!==!0&&c.readonly!==!0),innerLoading:j(!1),focused:j(!1),hasPopupOpen:!1,splitAttrs:Kl(),targetUid:u,rootRef:j(null),targetRef:j(null),controlRef:j(null)}}function ro(i){const{props:r,emit:s,slots:c,attrs:d,proxy:h}=Ce(),{$q:u}=h;let _=null;i.hasValue===void 0&&(i.hasValue=p(()=>gi(r.modelValue))),i.emitValue===void 0&&(i.emitValue=M=>{s("update:modelValue",M)}),i.controlEvents===void 0&&(i.controlEvents={onFocusin:O,onFocusout:V}),Object.assign(i,{clearValue:H,onControlFocusin:O,onControlFocusout:V,focus:Y}),i.computedCounter===void 0&&(i.computedCounter=p(()=>{if(r.counter!==!1){const M=typeof r.modelValue=="string"||typeof r.modelValue=="number"?(""+r.modelValue).length:Array.isArray(r.modelValue)===!0?r.modelValue.length:0,te=r.maxlength!==void 0?r.maxlength:r.maxValues;return M+(te!==void 0?" / "+te:"")}}));const{isDirtyModel:g,hasRules:C,hasError:m,errorMessage:w,resetValidation:D}=Xl(i.focused,i.innerLoading),x=i.floatingLabel!==void 0?p(()=>r.stackLabel===!0||i.focused.value===!0||i.floatingLabel.value===!0):p(()=>r.stackLabel===!0||i.focused.value===!0||i.hasValue.value===!0),E=p(()=>r.bottomSlots===!0||r.hint!==void 0||C.value===!0||r.counter===!0||r.error!==null),z=p(()=>r.filled===!0?"filled":r.outlined===!0?"outlined":r.borderless===!0?"borderless":r.standout?"standout":"standard"),I=p(()=>`q-field row no-wrap items-start q-field--${z.value}`+(i.fieldClass!==void 0?` ${i.fieldClass.value}`:"")+(r.rounded===!0?" q-field--rounded":"")+(r.square===!0?" q-field--square":"")+(x.value===!0?" q-field--float":"")+(A.value===!0?" q-field--labeled":"")+(r.dense===!0?" q-field--dense":"")+(r.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(i.isDark.value===!0?" q-field--dark":"")+(i.getControl===void 0?" q-field--auto-height":"")+(i.focused.value===!0?" q-field--focused":"")+(m.value===!0?" q-field--error":"")+(m.value===!0||i.focused.value===!0?" q-field--highlighted":"")+(r.hideBottomSpace!==!0&&E.value===!0?" q-field--with-bottom":"")+(r.disable===!0?" q-field--disabled":r.readonly===!0?" q-field--readonly":"")),le=p(()=>"q-field__control relative-position row no-wrap"+(r.bgColor!==void 0?` bg-${r.bgColor}`:"")+(m.value===!0?" text-negative":typeof r.standout=="string"&&r.standout.length!==0&&i.focused.value===!0?` ${r.standout}`:r.color!==void 0?` text-${r.color}`:"")),A=p(()=>r.labelSlot===!0||r.label!==void 0),R=p(()=>"q-field__label no-pointer-events absolute ellipsis"+(r.labelColor!==void 0&&m.value!==!0?` text-${r.labelColor}`:"")),N=p(()=>({id:i.targetUid.value,editable:i.editable.value,focused:i.focused.value,floatingLabel:x.value,modelValue:r.modelValue,emitValue:i.emitValue})),Q=p(()=>{const M={};return i.targetUid.value&&(M.for=i.targetUid.value),r.disable===!0&&(M["aria-disabled"]="true"),M});function Z(){const M=document.activeElement;let te=i.targetRef!==void 0&&i.targetRef.value;te&&(M===null||M.id!==i.targetUid.value)&&(te.hasAttribute("tabindex")===!0||(te=te.querySelector("[tabindex]")),te&&te!==M&&te.focus({preventScroll:!0}))}function Y(){mn(Z)}function ce(){eu(Z);const M=document.activeElement;M!==null&&i.rootRef.value.contains(M)&&M.blur()}function O(M){_!==null&&(clearTimeout(_),_=null),i.editable.value===!0&&i.focused.value===!1&&(i.focused.value=!0,s("focus",M))}function V(M,te){_!==null&&clearTimeout(_),_=setTimeout(()=>{_=null,!(document.hasFocus()===!0&&(i.hasPopupOpen===!0||i.controlRef===void 0||i.controlRef.value===null||i.controlRef.value.contains(document.activeElement)!==!1))&&(i.focused.value===!0&&(i.focused.value=!1,s("blur",M)),te!==void 0&&te())})}function H(M){et(M),u.platform.is.mobile!==!0?(i.targetRef!==void 0&&i.targetRef.value||i.rootRef.value).focus():i.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),r.type==="file"&&(i.inputRef.value.value=null),s("update:modelValue",null),i.changeEvent===!0&&s("change",null),s("clear",r.modelValue),Ve(()=>{const te=g.value;D(),g.value=te})}function T(M){[13,32].includes(M.keyCode)&&H(M)}function ue(){const M=[];return c.prepend!==void 0&&M.push(S("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ct},c.prepend())),M.push(S("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},ae())),m.value===!0&&r.noErrorIcon===!1&&M.push(ee("error",[S(Je,{name:u.iconSet.field.error,color:"negative"})])),r.loading===!0||i.innerLoading.value===!0?M.push(ee("inner-loading-append",c.loading!==void 0?c.loading():[S(nl,{color:r.color})])):r.clearable===!0&&i.hasValue.value===!0&&i.editable.value===!0&&M.push(ee("inner-clearable-append",[S(Je,{class:"q-field__focusable-action",name:r.clearIcon||u.iconSet.field.clear,tabindex:0,role:"button","aria-label":u.lang.label.clear,onKeyup:T,onClick:H})])),c.append!==void 0&&M.push(S("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ct},c.append())),i.getInnerAppend!==void 0&&M.push(ee("inner-append",i.getInnerAppend())),i.getControlChild!==void 0&&M.push(i.getControlChild()),M}function ae(){const M=[];return r.prefix!==void 0&&r.prefix!==null&&M.push(S("div",{class:"q-field__prefix no-pointer-events row items-center"},r.prefix)),i.getShadowControl!==void 0&&i.hasShadow.value===!0&&M.push(i.getShadowControl()),i.getControl!==void 0?M.push(i.getControl()):c.rawControl!==void 0?M.push(c.rawControl()):c.control!==void 0&&M.push(S("div",{ref:i.targetRef,class:"q-field__native row",tabindex:-1,...i.splitAttrs.attributes.value,"data-autofocus":r.autofocus===!0||void 0},c.control(N.value))),A.value===!0&&M.push(S("div",{class:R.value},He(c.label,r.label))),r.suffix!==void 0&&r.suffix!==null&&M.push(S("div",{class:"q-field__suffix no-pointer-events row items-center"},r.suffix)),M.concat(He(c.default))}function ye(){let M,te;m.value===!0?w.value!==null?(M=[S("div",{role:"alert"},w.value)],te=`q--slot-error-${w.value}`):(M=He(c.error),te="q--slot-error"):(r.hideHint!==!0||i.focused.value===!0)&&(r.hint!==void 0?(M=[S("div",r.hint)],te=`q--slot-hint-${r.hint}`):(M=He(c.hint),te="q--slot-hint"));const $=r.counter===!0||c.counter!==void 0;if(r.hideBottomSpace===!0&&$===!1&&M===void 0)return;const y=S("div",{key:te,class:"q-field__messages col"},M);return S("div",{class:"q-field__bottom row items-start q-field__bottom--"+(r.hideBottomSpace!==!0?"animated":"stale"),onClick:Ct},[r.hideBottomSpace===!0?y:S(Un,{name:"q-transition--field-message"},()=>y),$===!0?S("div",{class:"q-field__counter"},c.counter!==void 0?c.counter():i.computedCounter.value):null])}function ee(M,te){return te===null?null:S("div",{key:M,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},te)}let W=!1;return Hi(()=>{W=!0}),to(()=>{W===!0&&r.autofocus===!0&&h.focus()}),r.autofocus===!0&&Rt(()=>{h.focus()}),ot(()=>{_!==null&&clearTimeout(_)}),Object.assign(h,{focus:Y,blur:ce}),function(){const te=i.getControl===void 0&&c.control===void 0?{...i.splitAttrs.attributes.value,"data-autofocus":r.autofocus===!0||void 0,...Q.value}:Q.value;return S(i.tag.value,{ref:i.rootRef,class:[I.value,d.class],style:d.style,...te},[c.before!==void 0?S("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ct},c.before()):null,S("div",{class:"q-field__inner relative-position col self-stretch"},[S("div",{ref:i.controlRef,class:le.value,tabindex:-1,...i.controlEvents},ue()),E.value===!0?ye():null]),c.after!==void 0?S("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ct},c.after()):null])}}var tu=Ae({name:"QField",inheritAttrs:!1,props:{...no,tag:{type:String,default:"label"}},emits:oo,setup(){return ro(ao({tagProp:!0}))}});const iu={xs:8,sm:10,md:14,lg:20,xl:24};var Fr=Ae({name:"QChip",props:{...Lt,...Xo,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(i,{slots:r,emit:s}){const{proxy:{$q:c}}=Ce(),d=Tt(i,c),h=Jo(i,iu),u=p(()=>i.selected===!0||i.icon!==void 0),_=p(()=>i.selected===!0?i.iconSelected||c.iconSet.chip.selected:i.icon),g=p(()=>i.iconRemove||c.iconSet.chip.remove),C=p(()=>i.disable===!1&&(i.clickable===!0||i.selected!==null)),m=p(()=>{const I=i.outline===!0&&i.color||i.textColor;return"q-chip row inline no-wrap items-center"+(i.outline===!1&&i.color!==void 0?` bg-${i.color}`:"")+(I?` text-${I} q-chip--colored`:"")+(i.disable===!0?" disabled":"")+(i.dense===!0?" q-chip--dense":"")+(i.outline===!0?" q-chip--outline":"")+(i.selected===!0?" q-chip--selected":"")+(C.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(i.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),w=p(()=>{const I=i.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:i.tabindex||0},le={...I,role:"button","aria-hidden":"false","aria-label":i.removeAriaLabel||c.lang.label.remove};return{chip:I,remove:le}});function D(I){I.keyCode===13&&x(I)}function x(I){i.disable||(s("update:selected",!i.selected),s("click",I))}function E(I){(I.keyCode===void 0||I.keyCode===13)&&(et(I),i.disable===!1&&(s("update:modelValue",!1),s("remove")))}function z(){const I=[];C.value===!0&&I.push(S("div",{class:"q-focus-helper"})),u.value===!0&&I.push(S(Je,{class:"q-chip__icon q-chip__icon--left",name:_.value}));const le=i.label!==void 0?[S("div",{class:"ellipsis"},[i.label])]:void 0;return I.push(S("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},al(r.default,le))),i.iconRight&&I.push(S(Je,{class:"q-chip__icon q-chip__icon--right",name:i.iconRight})),i.removable===!0&&I.push(S(Je,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...w.value.remove,onClick:E,onKeyup:E})),I}return()=>{if(i.modelValue===!1)return;const I={class:m.value,style:h.value};return C.value===!0&&Object.assign(I,w.value.chip,{onClick:x,onKeyup:D}),ol("div",I,z(),"ripple",i.ripple!==!1&&i.disable!==!0,()=>[[rl,i.ripple]])}}}),nu=Ae({name:"QItem",props:{...Lt,...sl,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(i,{slots:r,emit:s}){const{proxy:{$q:c}}=Ce(),d=Tt(i,c),{hasLink:h,linkAttrs:u,linkClass:_,linkTag:g,navigateOnClick:C}=ll(),m=j(null),w=j(null),D=p(()=>i.clickable===!0||h.value===!0||i.tag==="label"),x=p(()=>i.disable!==!0&&D.value===!0),E=p(()=>"q-item q-item-type row no-wrap"+(i.dense===!0?" q-item--dense":"")+(d.value===!0?" q-item--dark":"")+(h.value===!0&&i.active===null?_.value:i.active===!0?` q-item--active${i.activeClass!==void 0?` ${i.activeClass}`:""}`:"")+(i.disable===!0?" disabled":"")+(x.value===!0?" q-item--clickable q-link cursor-pointer "+(i.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(i.focused===!0?" q-manual-focusable--focused":""):"")),z=p(()=>{if(i.insetLevel===void 0)return null;const R=c.lang.rtl===!0?"Right":"Left";return{["padding"+R]:16+i.insetLevel*56+"px"}});function I(R){x.value===!0&&(w.value!==null&&(R.qKeyEvent!==!0&&document.activeElement===m.value?w.value.focus():document.activeElement===w.value&&m.value.focus()),C(R))}function le(R){if(x.value===!0&&fn(R,[13,32])===!0){et(R),R.qKeyEvent=!0;const N=new MouseEvent("click",R);N.qKeyEvent=!0,m.value.dispatchEvent(N)}s("keyup",R)}function A(){const R=Pr(r.default,[]);return x.value===!0&&R.unshift(S("div",{class:"q-focus-helper",tabindex:-1,ref:w})),R}return()=>{const R={ref:m,class:E.value,style:z.value,role:"listitem",onClick:I,onKeyup:le};return x.value===!0?(R.tabindex=i.tabindex||"0",Object.assign(R,u.value)):D.value===!0&&(R["aria-disabled"]="true"),S(g.value,R,A())}}}),ou=Ae({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(i,{slots:r}){const s=p(()=>`q-item__section column q-item__section--${i.avatar===!0||i.side===!0||i.thumbnail===!0?"side":"main"}`+(i.top===!0?" q-item__section--top justify-start":" justify-center")+(i.avatar===!0?" q-item__section--avatar":"")+(i.thumbnail===!0?" q-item__section--thumbnail":"")+(i.noWrap===!0?" q-item__section--nowrap":""));return()=>S("div",{class:s.value},He(r.default))}}),au=Ae({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(i,{slots:r}){const s=p(()=>parseInt(i.lines,10)),c=p(()=>"q-item__label"+(i.overline===!0?" q-item__label--overline text-overline":"")+(i.caption===!0?" q-item__label--caption text-caption":"")+(i.header===!0?" q-item__label--header":"")+(s.value===1?" ellipsis":"")),d=p(()=>i.lines!==void 0&&s.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":s.value}:null);return()=>S("div",{style:d.value,class:c.value},He(r.default))}});function ru(){if(window.getSelection!==void 0){const i=window.getSelection();i.empty!==void 0?i.empty():i.removeAllRanges!==void 0&&(i.removeAllRanges(),ul.is.mobile!==!0&&i.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const su={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},lu={...su,contextMenu:Boolean};function uu({showing:i,avoidEmit:r,configureAnchorEl:s}){const{props:c,proxy:d,emit:h}=Ce(),u=j(null);let _=null;function g(x){return u.value===null?!1:x===void 0||x.touches===void 0||x.touches.length<=1}const C={};s===void 0&&(Object.assign(C,{hide(x){d.hide(x)},toggle(x){d.toggle(x),x.qAnchorHandled=!0},toggleKey(x){fn(x,13)===!0&&C.toggle(x)},contextClick(x){d.hide(x),Ct(x),Ve(()=>{d.show(x),x.qAnchorHandled=!0})},prevent:Ct,mobileTouch(x){if(C.mobileCleanup(x),g(x)!==!0)return;d.hide(x),u.value.classList.add("non-selectable");const E=x.target;$a(C,"anchor",[[E,"touchmove","mobileCleanup","passive"],[E,"touchend","mobileCleanup","passive"],[E,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),_=setTimeout(()=>{_=null,d.show(x),x.qAnchorHandled=!0},300)},mobileCleanup(x){u.value.classList.remove("non-selectable"),_!==null&&(clearTimeout(_),_=null),i.value===!0&&x!==void 0&&ru()}}),s=function(x=c.contextMenu){if(c.noParentEvent===!0||u.value===null)return;let E;x===!0?d.$q.platform.is.mobile===!0?E=[[u.value,"touchstart","mobileTouch","passive"]]:E=[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:E=[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],$a(C,"anchor",E)});function m(){cl(C,"anchor")}function w(x){for(u.value=x;u.value.classList.contains("q-anchor--skip");)u.value=u.value.parentNode;s()}function D(){if(c.target===!1||c.target===""||d.$el.parentNode===null)u.value=null;else if(c.target===!0)w(d.$el.parentNode);else{let x=c.target;if(typeof c.target=="string")try{x=document.querySelector(c.target)}catch{x=void 0}x!=null?(u.value=x.$el||x,s()):(u.value=null,console.error(`Anchor: target "${c.target}" not found`))}}return we(()=>c.contextMenu,x=>{u.value!==null&&(m(),s(x))}),we(()=>c.target,()=>{u.value!==null&&m(),D()}),we(()=>c.noParentEvent,x=>{u.value!==null&&(x===!0?m():s())}),Rt(()=>{D(),r!==!0&&c.modelValue===!0&&u.value===null&&h("update:modelValue",!1)}),ot(()=>{_!==null&&clearTimeout(_),m()}),{anchorEl:u,canShow:g,anchorEvents:C}}function cu(i,r){const s=j(null);let c;function d(_,g){const C=`${g!==void 0?"add":"remove"}EventListener`,m=g!==void 0?g:c;_!==window&&_[C]("scroll",m,bt.passive),window[C]("scroll",m,bt.passive),c=g}function h(){s.value!==null&&(d(s.value),s.value=null)}const u=we(()=>i.noParentEvent,()=>{s.value!==null&&(h(),r())});return ot(u),{localScrollTarget:s,unconfigureScrollTarget:h,changeScrollEvent:d}}const Zr={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Nr=["beforeShow","show","beforeHide","hide"];function Hr({showing:i,canShow:r,hideOnRouteChange:s,handleShow:c,handleHide:d,processOnMount:h}){const u=Ce(),{props:_,emit:g,proxy:C}=u;let m;function w(A){i.value===!0?E(A):D(A)}function D(A){if(_.disable===!0||A!==void 0&&A.qAnchorHandled===!0||r!==void 0&&r(A)!==!0)return;const R=_["onUpdate:modelValue"]!==void 0;R===!0&&(g("update:modelValue",!0),m=A,Ve(()=>{m===A&&(m=void 0)})),(_.modelValue===null||R===!1)&&x(A)}function x(A){i.value!==!0&&(i.value=!0,g("beforeShow",A),c!==void 0?c(A):g("show",A))}function E(A){if(_.disable===!0)return;const R=_["onUpdate:modelValue"]!==void 0;R===!0&&(g("update:modelValue",!1),m=A,Ve(()=>{m===A&&(m=void 0)})),(_.modelValue===null||R===!1)&&z(A)}function z(A){i.value!==!1&&(i.value=!1,g("beforeHide",A),d!==void 0?d(A):g("hide",A))}function I(A){_.disable===!0&&A===!0?_["onUpdate:modelValue"]!==void 0&&g("update:modelValue",!1):A===!0!==i.value&&(A===!0?x:z)(m)}we(()=>_.modelValue,I),s!==void 0&&Tr(u)===!0&&we(()=>C.$route.fullPath,()=>{s.value===!0&&i.value===!0&&E()}),h===!0&&Rt(()=>{I(_.modelValue)});const le={show:D,hide:E,toggle:w};return Object.assign(C,le),le}const Zi=[];function du(i){return Zi.find(r=>r.contentEl!==null&&r.contentEl.contains(i))}function $r(i,r){do{if(i.$options.name==="QMenu"){if(i.hide(r),i.$props.separateClosePopup===!0)return jn(i)}else if(i.__qPortal===!0){const s=jn(i);return s!==void 0&&s.$options.name==="QPopupProxy"?(i.hide(r),s):i}i=jn(i)}while(i!=null)}function hu(i,r,s){for(;s!==0&&i!==void 0&&i!==null;){if(i.__qPortal===!0){if(s--,i.$options.name==="QMenu"){i=$r(i,r);continue}i.hide(r)}i=jn(i)}}const fu=Ae({name:"QPortal",setup(i,{slots:r}){return()=>r.default()}});function mu(i){for(i=i.parent;i!=null;){if(i.type.name==="QGlobalDialog")return!0;if(i.type.name==="QDialog"||i.type.name==="QMenu")return!1;i=i.parent}return!1}function Wr(i,r,s,c){const d=j(!1),h=j(!1);let u=null;const _={},g=c==="dialog"&&mu(i);function C(w){if(w===!0){tr(_),h.value=!0;return}h.value=!1,d.value===!1&&(g===!1&&u===null&&(u=fl(!1,c)),d.value=!0,Zi.push(i.proxy),Jl(_))}function m(w){if(h.value=!1,w!==!0)return;tr(_),d.value=!1;const D=Zi.indexOf(i.proxy);D!==-1&&Zi.splice(D,1),u!==null&&(ml(u),u=null)}return dl(()=>{m(!0)}),i.proxy.__qPortal=!0,Qt(i.proxy,"contentEl",()=>r.value),{showPortal:C,hidePortal:m,portalIsActive:d,portalIsAccessible:h,renderPortal:()=>g===!0?s():d.value===!0?[S(hl,{to:u},S(fu,s))]:void 0}}const jr={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Ur(i,r=()=>{},s=()=>{}){return{transitionProps:p(()=>{const c=`q-transition--${i.transitionShow||r()}`,d=`q-transition--${i.transitionHide||s()}`;return{appear:!0,enterFromClass:`${c}-enter-from`,enterActiveClass:`${c}-enter-active`,enterToClass:`${c}-enter-to`,leaveFromClass:`${d}-leave-from`,leaveActiveClass:`${d}-leave-active`,leaveToClass:`${d}-leave-to`}}),transitionStyle:p(()=>`--q-transition-duration: ${i.transitionDuration}ms`)}}function Kr(){let i;const r=Ce();function s(){i=void 0}return Hi(s),ot(s),{removeTick:s,registerTick(c){i=c,Ve(()=>{i===c&&(ea(r)===!1&&i(),i=void 0)})}}}function Gr(){let i=null;const r=Ce();function s(){i!==null&&(clearTimeout(i),i=null)}return Hi(s),ot(s),{removeTimeout:s,registerTimeout(c,d){s(),ea(r)===!1&&(i=setTimeout(()=>{i=null,c()},d))}}}const mi=[];let Ni;function vu(i){Ni=i.keyCode===27}function _u(){Ni===!0&&(Ni=!1)}function gu(i){Ni===!0&&(Ni=!1,fn(i,27)===!0&&mi[mi.length-1](i))}function Qr(i){window[i]("keydown",vu),window[i]("blur",_u),window[i]("keyup",gu),Ni=!1}function Yr(i){kt.is.desktop===!0&&(mi.push(i),mi.length===1&&Qr("addEventListener"))}function Qn(i){const r=mi.indexOf(i);r!==-1&&(mi.splice(r,1),mi.length===0&&Qr("removeEventListener"))}const vi=[];function Xr(i){vi[vi.length-1](i)}function Jr(i){kt.is.desktop===!0&&(vi.push(i),vi.length===1&&document.body.addEventListener("focusin",Xr))}function Go(i){const r=vi.indexOf(i);r!==-1&&(vi.splice(r,1),vi.length===0&&document.body.removeEventListener("focusin",Xr))}const{notPassiveCapture:Yn}=bt,_i=[];function Xn(i){const r=i.target;if(r===void 0||r.nodeType===8||r.classList.contains("no-pointer-events")===!0)return;let s=Zi.length-1;for(;s>=0;){const c=Zi[s].$;if(c.type.name==="QTooltip"){s--;continue}if(c.type.name!=="QDialog")break;if(c.props.seamless!==!0)return;s--}for(let c=_i.length-1;c>=0;c--){const d=_i[c];if((d.anchorEl.value===null||d.anchorEl.value.contains(r)===!1)&&(r===document.body||d.innerRef.value!==null&&d.innerRef.value.contains(r)===!1))i.qClickOutside=!0,d.onClickOutside(i);else return}}function pu(i){_i.push(i),_i.length===1&&(document.addEventListener("mousedown",Xn,Yn),document.addEventListener("touchstart",Xn,Yn))}function ir(i){const r=_i.findIndex(s=>s===i);r!==-1&&(_i.splice(r,1),_i.length===0&&(document.removeEventListener("mousedown",Xn,Yn),document.removeEventListener("touchstart",Xn,Yn)))}let nr,or;function ar(i){const r=i.split(" ");return r.length!==2?!1:["top","center","bottom"].includes(r[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(r[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function yu(i){return i?!(i.length!==2||typeof i[0]!="number"||typeof i[1]!="number"):!0}const Qo={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(i=>{Qo[`${i}#ltr`]=i,Qo[`${i}#rtl`]=i});function rr(i,r){const s=i.split(" ");return{vertical:s[0],horizontal:Qo[`${s[1]}#${r===!0?"rtl":"ltr"}`]}}function bu(i,r){let{top:s,left:c,right:d,bottom:h,width:u,height:_}=i.getBoundingClientRect();return r!==void 0&&(s-=r[1],c-=r[0],h+=r[1],d+=r[0],u+=r[0],_+=r[1]),{top:s,bottom:h,height:_,left:c,right:d,width:u,middle:c+(d-c)/2,center:s+(h-s)/2}}function wu(i,r,s){let{top:c,left:d}=i.getBoundingClientRect();return c+=r.top,d+=r.left,s!==void 0&&(c+=s[1],d+=s[0]),{top:c,bottom:c+1,height:1,left:d,right:d+1,width:1,middle:d,center:c}}function xu(i,r){return{top:0,center:r/2,bottom:r,left:0,middle:i/2,right:i}}function sr(i,r,s,c){return{top:i[s.vertical]-r[c.vertical],left:i[s.horizontal]-r[c.horizontal]}}function es(i,r=0){if(i.targetEl===null||i.anchorEl===null||r>5)return;if(i.targetEl.offsetHeight===0||i.targetEl.offsetWidth===0){setTimeout(()=>{es(i,r+1)},10);return}const{targetEl:s,offset:c,anchorEl:d,anchorOrigin:h,selfOrigin:u,absoluteOffset:_,fit:g,cover:C,maxHeight:m,maxWidth:w}=i;if(kt.is.ios===!0&&window.visualViewport!==void 0){const Z=document.body.style,{offsetLeft:Y,offsetTop:ce}=window.visualViewport;Y!==nr&&(Z.setProperty("--q-pe-left",Y+"px"),nr=Y),ce!==or&&(Z.setProperty("--q-pe-top",ce+"px"),or=ce)}const{scrollLeft:D,scrollTop:x}=s,E=_===void 0?bu(d,C===!0?[0,0]:c):wu(d,_,c);Object.assign(s.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:w||"100vw",maxHeight:m||"100vh",visibility:"visible"});const{offsetWidth:z,offsetHeight:I}=s,{elWidth:le,elHeight:A}=g===!0||C===!0?{elWidth:Math.max(E.width,z),elHeight:C===!0?Math.max(E.height,I):I}:{elWidth:z,elHeight:I};let R={maxWidth:w,maxHeight:m};(g===!0||C===!0)&&(R.minWidth=E.width+"px",C===!0&&(R.minHeight=E.height+"px")),Object.assign(s.style,R);const N=xu(le,A);let Q=sr(E,N,h,u);if(_===void 0||c===void 0)Fo(Q,E,N,h,u);else{const{top:Z,left:Y}=Q;Fo(Q,E,N,h,u);let ce=!1;if(Q.top!==Z){ce=!0;const O=2*c[1];E.center=E.top-=O,E.bottom-=O+2}if(Q.left!==Y){ce=!0;const O=2*c[0];E.middle=E.left-=O,E.right-=O+2}ce===!0&&(Q=sr(E,N,h,u),Fo(Q,E,N,h,u))}R={top:Q.top+"px",left:Q.left+"px"},Q.maxHeight!==void 0&&(R.maxHeight=Q.maxHeight+"px",E.height>Q.maxHeight&&(R.minHeight=R.maxHeight)),Q.maxWidth!==void 0&&(R.maxWidth=Q.maxWidth+"px",E.width>Q.maxWidth&&(R.minWidth=R.maxWidth)),Object.assign(s.style,R),s.scrollTop!==x&&(s.scrollTop=x),s.scrollLeft!==D&&(s.scrollLeft=D)}function Fo(i,r,s,c,d){const h=s.bottom,u=s.right,_=Ml(),g=window.innerHeight-_,C=document.body.clientWidth;if(i.top<0||i.top+h>g)if(d.vertical==="center")i.top=r[c.vertical]>g/2?Math.max(0,g-h):0,i.maxHeight=Math.min(h,g);else if(r[c.vertical]>g/2){const m=Math.min(g,c.vertical==="center"?r.center:c.vertical===d.vertical?r.bottom:r.top);i.maxHeight=Math.min(h,m),i.top=Math.max(0,m-h)}else i.top=Math.max(0,c.vertical==="center"?r.center:c.vertical===d.vertical?r.top:r.bottom),i.maxHeight=Math.min(h,g-i.top);if(i.left<0||i.left+u>C)if(i.maxWidth=Math.min(u,C),d.horizontal==="middle")i.left=r[c.horizontal]>C/2?Math.max(0,C-u):0;else if(r[c.horizontal]>C/2){const m=Math.min(C,c.horizontal==="middle"?r.middle:c.horizontal===d.horizontal?r.right:r.left);i.maxWidth=Math.min(u,m),i.left=Math.max(0,m-i.maxWidth)}else i.left=Math.max(0,c.horizontal==="middle"?r.middle:c.horizontal===d.horizontal?r.left:r.right),i.maxWidth=Math.min(u,C-i.left)}var Su=Ae({name:"QMenu",inheritAttrs:!1,props:{...lu,...Zr,...Lt,...jr,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ar},self:{type:String,validator:ar},offset:{type:Array,validator:yu},scrollTarget:zr,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Nr,"click","escapeKey"],setup(i,{slots:r,emit:s,attrs:c}){let d=null,h,u,_;const g=Ce(),{proxy:C}=g,{$q:m}=C,w=j(null),D=j(!1),x=p(()=>i.persistent!==!0&&i.noRouteDismiss!==!0),E=Tt(i,m),{registerTick:z,removeTick:I}=Kr(),{registerTimeout:le}=Gr(),{transitionProps:A,transitionStyle:R}=Ur(i),{localScrollTarget:N,changeScrollEvent:Q,unconfigureScrollTarget:Z}=cu(i,U),{anchorEl:Y,canShow:ce}=uu({showing:D}),{hide:O}=Hr({showing:D,canShow:ce,handleShow:$,handleHide:y,hideOnRouteChange:x,processOnMount:!0}),{showPortal:V,hidePortal:H,renderPortal:T}=Wr(g,w,ge,"menu"),ue={anchorEl:Y,innerRef:w,onClickOutside(K){if(i.persistent!==!0&&D.value===!0)return O(K),(K.type==="touchstart"||K.target.classList.contains("q-dialog__backdrop"))&&et(K),!0}},ae=p(()=>rr(i.anchor||(i.cover===!0?"center middle":"bottom start"),m.lang.rtl)),ye=p(()=>i.cover===!0?ae.value:rr(i.self||"top start",m.lang.rtl)),ee=p(()=>(i.square===!0?" q-menu--square":"")+(E.value===!0?" q-menu--dark q-dark":"")),W=p(()=>i.autoClose===!0?{onClick:re}:{}),M=p(()=>D.value===!0&&i.persistent!==!0);we(M,K=>{K===!0?(Yr(q),pu(ue)):(Qn(q),ir(ue))});function te(){mn(()=>{let K=w.value;K&&K.contains(document.activeElement)!==!0&&(K=K.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||K.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||K.querySelector("[autofocus], [data-autofocus]")||K,K.focus({preventScroll:!0}))})}function $(K){if(d=i.noRefocus===!1?document.activeElement:null,Jr(ne),V(),U(),h=void 0,K!==void 0&&(i.touchPosition||i.contextMenu)){const ke=vl(K);if(ke.left!==void 0){const{top:$e,left:at}=Y.value.getBoundingClientRect();h={left:ke.left-at,top:ke.top-$e}}}u===void 0&&(u=we(()=>m.screen.width+"|"+m.screen.height+"|"+i.self+"|"+i.anchor+"|"+m.lang.rtl,G)),i.noFocus!==!0&&document.activeElement.blur(),z(()=>{G(),i.noFocus!==!0&&te()}),le(()=>{m.platform.is.ios===!0&&(_=i.autoClose,w.value.click()),G(),V(!0),s("show",K)},i.transitionDuration)}function y(K){I(),H(),b(!0),d!==null&&(K===void 0||K.qClickOutside!==!0)&&(((K&&K.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),le(()=>{H(!0),s("hide",K)},i.transitionDuration)}function b(K){h=void 0,u!==void 0&&(u(),u=void 0),(K===!0||D.value===!0)&&(Go(ne),Z(),ir(ue),Qn(q)),K!==!0&&(d=null)}function U(){(Y.value!==null||i.scrollTarget!==void 0)&&(N.value=Br(Y.value,i.scrollTarget),Q(N.value,G))}function re(K){_!==!0?($r(C,K),s("click",K)):_=!1}function ne(K){M.value===!0&&i.noFocus!==!0&&Mr(w.value,K.target)!==!0&&te()}function q(K){s("escapeKey"),O(K)}function G(){es({targetEl:w.value,offset:i.offset,anchorEl:Y.value,anchorOrigin:ae.value,selfOrigin:ye.value,absoluteOffset:h,fit:i.fit,cover:i.cover,maxHeight:i.maxHeight,maxWidth:i.maxWidth})}function ge(){return S(Un,A.value,()=>D.value===!0?S("div",{role:"menu",...c,ref:w,tabindex:-1,class:["q-menu q-position-engine scroll"+ee.value,c.class],style:[c.style,R.value],...W.value},He(r.default)):null)}return ot(b),Object.assign(C,{focus:te,updatePosition:G}),T}});function Pu(i,r,s){let c;function d(){c!==void 0&&(Kn.remove(c),c=void 0)}return ot(()=>{i.value===!0&&d()}),{removeFromHistory:d,addToHistory(){c={condition:()=>s.value===!0,handler:r},Kn.add(c)}}}let ln=0,Zo,No,cn,Ho=!1,lr,ur,cr,hi=null;function Cu(i){ku(i)&&et(i)}function ku(i){if(i.target===document.body||i.target.classList.contains("q-layout__backdrop"))return!0;const r=_l(i),s=i.shiftKey&&!i.deltaX,c=!s&&Math.abs(i.deltaX)<=Math.abs(i.deltaY),d=s||c?i.deltaY:i.deltaX;for(let h=0;h<r.length;h++){const u=r[h];if(Bl(u,c))return c?d<0&&u.scrollTop===0?!0:d>0&&u.scrollTop+u.clientHeight===u.scrollHeight:d<0&&u.scrollLeft===0?!0:d>0&&u.scrollLeft+u.clientWidth===u.scrollWidth}return!0}function dr(i){i.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Zn(i){Ho!==!0&&(Ho=!0,requestAnimationFrame(()=>{Ho=!1;const{height:r}=i.target,{clientHeight:s,scrollTop:c}=document.scrollingElement;(cn===void 0||r!==window.innerHeight)&&(cn=s-r,document.scrollingElement.scrollTop=c),c>cn&&(document.scrollingElement.scrollTop-=Math.ceil((c-cn)/8))}))}function hr(i){const r=document.body,s=window.visualViewport!==void 0;if(i==="add"){const{overflowY:c,overflowX:d}=window.getComputedStyle(r);Zo=El(window),No=zl(window),lr=r.style.left,ur=r.style.top,cr=window.location.href,r.style.left=`-${Zo}px`,r.style.top=`-${No}px`,d!=="hidden"&&(d==="scroll"||r.scrollWidth>window.innerWidth)&&r.classList.add("q-body--force-scrollbar-x"),c!=="hidden"&&(c==="scroll"||r.scrollHeight>window.innerHeight)&&r.classList.add("q-body--force-scrollbar-y"),r.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,kt.is.ios===!0&&(s===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Zn,bt.passiveCapture),window.visualViewport.addEventListener("scroll",Zn,bt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",dr,bt.passiveCapture))}kt.is.desktop===!0&&kt.is.mac===!0&&window[`${i}EventListener`]("wheel",Cu,bt.notPassive),i==="remove"&&(kt.is.ios===!0&&(s===!0?(window.visualViewport.removeEventListener("resize",Zn,bt.passiveCapture),window.visualViewport.removeEventListener("scroll",Zn,bt.passiveCapture)):window.removeEventListener("scroll",dr,bt.passiveCapture)),r.classList.remove("q-body--prevent-scroll"),r.classList.remove("q-body--force-scrollbar-x"),r.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,r.style.left=lr,r.style.top=ur,window.location.href===cr&&window.scrollTo(Zo,No),cn=void 0)}function Lu(i){let r="add";if(i===!0){if(ln++,hi!==null){clearTimeout(hi),hi=null;return}if(ln>1)return}else{if(ln===0||(ln--,ln>0))return;if(r="remove",kt.is.ios===!0&&kt.is.nativeMobile===!0){hi!==null&&clearTimeout(hi),hi=setTimeout(()=>{hr(r),hi=null},100);return}}hr(r)}function Tu(){let i;return{preventBodyScroll(r){r!==i&&(i!==void 0||r===!0)&&(i=r,Lu(r))}}}let Nn=0;const Mu={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},fr={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var ts=Ae({name:"QDialog",inheritAttrs:!1,props:{...Zr,...jr,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:i=>["standard","top","bottom","left","right"].includes(i)}},emits:[...Nr,"shake","click","escapeKey"],setup(i,{slots:r,emit:s,attrs:c}){const d=Ce(),h=j(null),u=j(!1),_=j(!1);let g=null,C=null,m,w;const D=p(()=>i.persistent!==!0&&i.noRouteDismiss!==!0&&i.seamless!==!0),{preventBodyScroll:x}=Tu(),{registerTimeout:E}=Gr(),{registerTick:z,removeTick:I}=Kr(),{transitionProps:le,transitionStyle:A}=Ur(i,()=>fr[i.position][0],()=>fr[i.position][1]),R=p(()=>A.value+(i.backdropFilter!==void 0?`;backdrop-filter:${i.backdropFilter};-webkit-backdrop-filter:${i.backdropFilter}`:"")),{showPortal:N,hidePortal:Q,portalIsAccessible:Z,renderPortal:Y}=Wr(d,h,ne,"dialog"),{hide:ce}=Hr({showing:u,hideOnRouteChange:D,handleShow:ye,handleHide:ee,processOnMount:!0}),{addToHistory:O,removeFromHistory:V}=Pu(u,ce,D),H=p(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${i.maximized===!0?"maximized":"minimized"} q-dialog__inner--${i.position} ${Mu[i.position]}`+(_.value===!0?" q-dialog__inner--animating":"")+(i.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(i.fullHeight===!0?" q-dialog__inner--fullheight":"")+(i.square===!0?" q-dialog__inner--square":"")),T=p(()=>u.value===!0&&i.seamless!==!0),ue=p(()=>i.autoClose===!0?{onClick:b}:{}),ae=p(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${T.value===!0?"modal":"seamless"}`,c.class]);we(()=>i.maximized,q=>{u.value===!0&&y(q)}),we(T,q=>{x(q),q===!0?(Jr(re),Yr(te)):(Go(re),Qn(te))});function ye(q){O(),C=i.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,y(i.maximized),N(),_.value=!0,i.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),z(W)):I(),E(()=>{if(d.proxy.$q.platform.is.ios===!0){if(i.seamless!==!0&&document.activeElement){const{top:G,bottom:ge}=document.activeElement.getBoundingClientRect(),{innerHeight:K}=window,ke=window.visualViewport!==void 0?window.visualViewport.height:K;G>0&&ge>ke/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ke,ge>=K?1/0:Math.ceil(document.scrollingElement.scrollTop+ge-ke/2))),document.activeElement.scrollIntoView()}w=!0,h.value.click(),w=!1}N(!0),_.value=!1,s("show",q)},i.transitionDuration)}function ee(q){I(),V(),$(!0),_.value=!0,Q(),C!==null&&(((q&&q.type.indexOf("key")===0?C.closest('[tabindex]:not([tabindex^="-"])'):void 0)||C).focus(),C=null),E(()=>{Q(!0),_.value=!1,s("hide",q)},i.transitionDuration)}function W(q){mn(()=>{let G=h.value;if(G!==null){if(q!==void 0){const ge=G.querySelector(q);if(ge!==null){ge.focus({preventScroll:!0});return}}G.contains(document.activeElement)!==!0&&(G=G.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||G.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||G.querySelector("[autofocus], [data-autofocus]")||G,G.focus({preventScroll:!0}))}})}function M(q){q&&typeof q.focus=="function"?q.focus({preventScroll:!0}):W(),s("shake");const G=h.value;G!==null&&(G.classList.remove("q-animate--scale"),G.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,h.value!==null&&(G.classList.remove("q-animate--scale"),W())},170))}function te(){i.seamless!==!0&&(i.persistent===!0||i.noEscDismiss===!0?i.maximized!==!0&&i.noShake!==!0&&M():(s("escapeKey"),ce()))}function $(q){g!==null&&(clearTimeout(g),g=null),(q===!0||u.value===!0)&&(y(!1),i.seamless!==!0&&(x(!1),Go(re),Qn(te))),q!==!0&&(C=null)}function y(q){q===!0?m!==!0&&(Nn<1&&document.body.classList.add("q-body--dialog"),Nn++,m=!0):m===!0&&(Nn<2&&document.body.classList.remove("q-body--dialog"),Nn--,m=!1)}function b(q){w!==!0&&(ce(q),s("click",q))}function U(q){i.persistent!==!0&&i.noBackdropDismiss!==!0?ce(q):i.noShake!==!0&&M()}function re(q){i.allowFocusOutside!==!0&&Z.value===!0&&Mr(h.value,q.target)!==!0&&W('[tabindex]:not([tabindex="-1"])')}Object.assign(d.proxy,{focus:W,shake:M,__updateRefocusTarget(q){C=q||null}}),ot($);function ne(){return S("div",{role:"dialog","aria-modal":T.value===!0?"true":"false",...c,class:ae.value},[S(Un,{name:"q-transition--fade",appear:!0},()=>T.value===!0?S("div",{class:"q-dialog__backdrop fixed-full",style:R.value,"aria-hidden":"true",tabindex:-1,onClick:U}):null),S(Un,le.value,()=>u.value===!0?S("div",{ref:h,class:H.value,style:A.value,tabindex:-1,...ue.value},He(r.default)):null)])}return Y}});const so={name:String};function Eu(i={}){return(r,s,c)=>{r[s](S("input",{class:"hidden"+(c||""),...i.value}))}}function ta(i){return p(()=>i.name||i.for)}const zu=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Bu=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ou=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Au=/[a-z0-9_ -]$/i;function is(i){return function(s){if(s.type==="compositionend"||s.type==="change"){if(s.target.qComposing!==!0)return;s.target.qComposing=!1,i(s)}else s.type==="compositionupdate"&&s.target.qComposing!==!0&&typeof s.data=="string"&&(kt.is.firefox===!0?Au.test(s.data)===!1:zu.test(s.data)===!0||Bu.test(s.data)===!0||Ou.test(s.data)===!0)===!0&&(s.target.qComposing=!0)}}const mr=["B","KB","MB","GB","TB","PB"];function qu(i,r=1){let s=0;for(;parseInt(i,10)>=1024&&s<mr.length-1;)i/=1024,++s;return`${i.toFixed(r)}${mr[s]}`}function vr(i,r,s){if(s<=r)return r;const c=s-r+1;let d=r+(i-r)%c;return d<r&&(d=c+d),d===0?0:d}const _r=i=>["add","add-unique","toggle"].includes(i),Iu=".*+?^${}()|[]\\",Ru=Object.keys(no);var Kt=Ae({name:"QSelect",inheritAttrs:!1,props:{...Uo,...so,...no,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:_r},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:i=>["default","menu","dialog"].includes(i),default:"default"},virtualScrollItemSize:Uo.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...oo,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(i,{slots:r,emit:s}){const{proxy:c}=Ce(),{$q:d}=c,h=j(!1),u=j(!1),_=j(-1),g=j(""),C=j(!1),m=j(!1);let w=null,D=null,x,E,z,I=null,le,A,R,N;const Q=j(null),Z=j(null),Y=j(null),ce=j(null),O=j(null),V=ta(i),H=is(oe),T=p(()=>Array.isArray(i.options)?i.options.length:0),ue=p(()=>i.virtualScrollItemSize===void 0?i.optionsDense===!0?24:48:i.virtualScrollItemSize),{virtualScrollSliceRange:ae,virtualScrollSliceSizeComputed:ye,localResetVirtualScroll:ee,padVirtualScroll:W,onVirtualScrollEvt:M,scrollTo:te,setVirtualScrollSize:$}=Rr({virtualScrollLength:T,getVirtualScrollTarget:Si,getVirtualScrollEl:ai,virtualScrollItemSizeComputed:ue}),y=ao(),b=p(()=>{const v=i.mapOptions===!0&&i.multiple!==!0,X=i.modelValue!==void 0&&(i.modelValue!==null||v===!0)?i.multiple===!0&&Array.isArray(i.modelValue)?i.modelValue:[i.modelValue]:[];if(i.mapOptions===!0&&Array.isArray(i.options)===!0){const J=i.mapOptions===!0&&x!==void 0?x:[],_e=X.map(Te=>wi(Te,J));return i.modelValue===null&&v===!0?_e.filter(Te=>Te!==null):_e}return X}),U=p(()=>{const v={};return Ru.forEach(X=>{const J=i[X];J!==void 0&&(v[X]=J)}),v}),re=p(()=>i.optionsDark===null?y.isDark.value:i.optionsDark),ne=p(()=>gi(b.value)),q=p(()=>{let v="q-field__input q-placeholder col";return i.hideSelected===!0||b.value.length===0?[v,i.inputClass]:(v+=" q-field__input--padding",i.inputClass===void 0?v:[v,i.inputClass])}),G=p(()=>(i.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(i.popupContentClass?" "+i.popupContentClass:"")),ge=p(()=>T.value===0),K=p(()=>b.value.map(v=>Ue.value(v)).join(", ")),ke=p(()=>i.displayValue!==void 0?i.displayValue:K.value),$e=p(()=>i.optionsHtml===!0?()=>!0:v=>v!=null&&v.html===!0),at=p(()=>i.displayValueHtml===!0||i.displayValue===void 0&&(i.optionsHtml===!0||b.value.some($e.value))),We=p(()=>y.focused.value===!0?i.tabindex:-1),Mt=p(()=>{const v={tabindex:i.tabindex,role:"combobox","aria-label":i.label,"aria-readonly":i.readonly===!0?"true":"false","aria-autocomplete":i.useInput===!0?"list":"none","aria-expanded":h.value===!0?"true":"false","aria-controls":`${y.targetUid.value}_lb`};return _.value>=0&&(v["aria-activedescendant"]=`${y.targetUid.value}_${_.value}`),v}),rt=p(()=>({id:`${y.targetUid.value}_lb`,role:"listbox","aria-multiselectable":i.multiple===!0?"true":"false"})),st=p(()=>b.value.map((v,X)=>({index:X,opt:v,html:$e.value(v),selected:!0,removeAtIndex:yi,toggleOption:lt,tabindex:We.value}))),mt=p(()=>{if(T.value===0)return[];const{from:v,to:X}=ae.value;return i.options.slice(v,X).map((J,_e)=>{const Te=wt.value(J)===!0,Le=Ft(J)===!0,je=v+_e,Oe={clickable:!0,active:Le,activeClass:Et.value,manualFocus:!0,focused:!1,disable:Te,tabindex:-1,dense:i.optionsDense,dark:re.value,role:"option","aria-selected":Le===!0?"true":"false",id:`${y.targetUid.value}_${je}`,onClick:()=>{lt(J)}};return Te!==!0&&(_.value===je&&(Oe.focused=!0),d.platform.is.desktop===!0&&(Oe.onMousemove=()=>{h.value===!0&&it(je)})),{index:je,opt:J,html:$e.value(J),label:Ue.value(J),selected:Oe.active,focused:Oe.focused,toggleOption:lt,setOptionIndex:it,itemProps:Oe}})}),vt=p(()=>i.dropdownIcon!==void 0?i.dropdownIcon:d.iconSet.arrow.dropdown),ii=p(()=>i.optionsCover===!1&&i.outlined!==!0&&i.standout!==!0&&i.borderless!==!0&&i.rounded!==!0),Et=p(()=>i.optionsSelectedClass!==void 0?i.optionsSelectedClass:i.color!==void 0?`text-${i.color}`:""),tt=p(()=>zt(i.optionValue,"value")),Ue=p(()=>zt(i.optionLabel,"label")),wt=p(()=>zt(i.optionDisable,"disable")),Vt=p(()=>b.value.map(v=>tt.value(v))),pi=p(()=>{const v={onInput:oe,onChange:H,onKeydown:oi,onKeyup:ni,onKeypress:Zt,onFocus:xi,onClick(X){E===!0&&Gt(X)}};return v.onCompositionstart=v.onCompositionupdate=v.onCompositionend=H,v});we(b,v=>{x=v,i.useInput===!0&&i.fillInput===!0&&i.multiple!==!0&&y.innerLoading.value!==!0&&(u.value!==!0&&h.value!==!0||ne.value!==!0)&&(z!==!0&&ft(),(u.value===!0||h.value===!0)&&ve(""))},{immediate:!0}),we(()=>i.fillInput,ft),we(h,ki),we(T,lo);function Yt(v){return i.emitValue===!0?tt.value(v):v}function Dt(v){if(v!==-1&&v<b.value.length)if(i.multiple===!0){const X=i.modelValue.slice();s("remove",{index:v,value:X.splice(v,1)[0]}),s("update:modelValue",X)}else s("update:modelValue",null)}function yi(v){Dt(v),y.focus()}function bi(v,X){const J=Yt(v);if(i.multiple!==!0){i.fillInput===!0&&me(Ue.value(v),!0,!0),s("update:modelValue",J);return}if(b.value.length===0){s("add",{index:0,value:J}),s("update:modelValue",i.multiple===!0?[J]:J);return}if(X===!0&&Ft(v)===!0||i.maxValues!==void 0&&i.modelValue.length>=i.maxValues)return;const _e=i.modelValue.slice();s("add",{index:_e.length,value:J}),_e.push(J),s("update:modelValue",_e)}function lt(v,X){if(y.editable.value!==!0||v===void 0||wt.value(v)===!0)return;const J=tt.value(v);if(i.multiple!==!0){X!==!0&&(me(i.fillInput===!0?Ue.value(v):"",!0,!0),Ot()),Z.value!==null&&Z.value.focus(),(b.value.length===0||on(tt.value(b.value[0]),J)!==!0)&&s("update:modelValue",i.emitValue===!0?J:v);return}if((E!==!0||C.value===!0)&&y.focus(),xi(),b.value.length===0){const Le=i.emitValue===!0?J:v;s("add",{index:0,value:Le}),s("update:modelValue",i.multiple===!0?[Le]:Le);return}const _e=i.modelValue.slice(),Te=Vt.value.findIndex(Le=>on(Le,J));if(Te!==-1)s("remove",{index:Te,value:_e.splice(Te,1)[0]});else{if(i.maxValues!==void 0&&_e.length>=i.maxValues)return;const Le=i.emitValue===!0?J:v;s("add",{index:_e.length,value:Le}),_e.push(Le)}s("update:modelValue",_e)}function it(v){if(d.platform.is.desktop!==!0)return;const X=v!==-1&&v<T.value?v:-1;_.value!==X&&(_.value=X)}function dt(v=1,X){if(h.value===!0){let J=_.value;do J=vr(J+v,-1,T.value-1);while(J!==-1&&J!==_.value&&wt.value(i.options[J])===!0);_.value!==J&&(it(J),te(J),X!==!0&&i.useInput===!0&&i.fillInput===!0&&he(J>=0?Ue.value(i.options[J]):le,!0))}}function wi(v,X){const J=_e=>on(tt.value(_e),v);return i.options.find(J)||X.find(J)||v}function zt(v,X){const J=v!==void 0?v:X;return typeof J=="function"?J:_e=>_e!==null&&typeof _e=="object"&&J in _e?_e[J]:_e}function Ft(v){const X=tt.value(v);return Vt.value.find(J=>on(J,X))!==void 0}function xi(v){i.useInput===!0&&Z.value!==null&&(v===void 0||Z.value===v.target&&v.target.value===K.value)&&Z.value.select()}function _t(v){fn(v,27)===!0&&h.value===!0&&(Gt(v),Ot(),ft()),s("keyup",v)}function ni(v){const{value:X}=v.target;if(v.keyCode!==void 0){_t(v);return}if(v.target.value="",w!==null&&(clearTimeout(w),w=null),D!==null&&(clearTimeout(D),D=null),ft(),typeof X=="string"&&X.length!==0){const J=X.toLocaleLowerCase(),_e=Le=>{const je=i.options.find(Oe=>Le.value(Oe).toLocaleLowerCase()===J);return je===void 0?!1:(b.value.indexOf(je)===-1?lt(je):Ot(),!0)},Te=Le=>{_e(tt)!==!0&&(_e(Ue)===!0||Le===!0||ve(X,!0,()=>Te(!0)))};Te()}else y.clearValue(v)}function Zt(v){s("keypress",v)}function oi(v){if(s("keydown",v),Er(v)===!0)return;const X=g.value.length!==0&&(i.newValueMode!==void 0||i.onNewValue!==void 0),J=v.shiftKey!==!0&&i.multiple!==!0&&(_.value!==-1||X===!0);if(v.keyCode===27){Ct(v);return}if(v.keyCode===9&&J===!1){Nt();return}if(v.target===void 0||v.target.id!==y.targetUid.value||y.editable.value!==!0)return;if(v.keyCode===40&&y.innerLoading.value!==!0&&h.value===!1){et(v),Bt();return}if(v.keyCode===8&&(i.useChips===!0||i.clearable===!0)&&i.hideSelected!==!0&&g.value.length===0){i.multiple===!0&&Array.isArray(i.modelValue)===!0?Dt(i.modelValue.length-1):i.multiple!==!0&&i.modelValue!==null&&s("update:modelValue",null);return}(v.keyCode===35||v.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(et(v),_.value=-1,dt(v.keyCode===36?1:-1,i.multiple)),(v.keyCode===33||v.keyCode===34)&&ye.value!==void 0&&(et(v),_.value=Math.max(-1,Math.min(T.value,_.value+(v.keyCode===33?-1:1)*ye.value.view)),dt(v.keyCode===33?1:-1,i.multiple)),(v.keyCode===38||v.keyCode===40)&&(et(v),dt(v.keyCode===38?-1:1,i.multiple));const _e=T.value;if((R===void 0||N<Date.now())&&(R=""),_e>0&&i.useInput!==!0&&v.key!==void 0&&v.key.length===1&&v.altKey===!1&&v.ctrlKey===!1&&v.metaKey===!1&&(v.keyCode!==32||R.length!==0)){h.value!==!0&&Bt(v);const Te=v.key.toLocaleLowerCase(),Le=R.length===1&&R[0]===Te;N=Date.now()+1500,Le===!1&&(et(v),R+=Te);const je=new RegExp("^"+R.split("").map(Ht=>Iu.indexOf(Ht)!==-1?"\\"+Ht:Ht).join(".*"),"i");let Oe=_.value;if(Le===!0||Oe<0||je.test(Ue.value(i.options[Oe]))!==!0)do Oe=vr(Oe+1,-1,_e-1);while(Oe!==_.value&&(wt.value(i.options[Oe])===!0||je.test(Ue.value(i.options[Oe]))!==!0));_.value!==Oe&&Ve(()=>{it(Oe),te(Oe),Oe>=0&&i.useInput===!0&&i.fillInput===!0&&he(Ue.value(i.options[Oe]),!0)});return}if(!(v.keyCode!==13&&(v.keyCode!==32||i.useInput===!0||R!=="")&&(v.keyCode!==9||J===!1))){if(v.keyCode!==9&&et(v),_.value!==-1&&_.value<_e){lt(i.options[_.value]);return}if(X===!0){const Te=(Le,je)=>{if(je){if(_r(je)!==!0)return}else je=i.newValueMode;if(me("",i.multiple!==!0,!0),Le==null)return;(je==="toggle"?lt:bi)(Le,je==="add-unique"),i.multiple!==!0&&(Z.value!==null&&Z.value.focus(),Ot())};if(i.onNewValue!==void 0?s("newValue",g.value,Te):Te(g.value),i.multiple!==!0)return}h.value===!0?Nt():y.innerLoading.value!==!0&&Bt()}}function ai(){return E===!0?O.value:Y.value!==null&&Y.value.contentEl!==null?Y.value.contentEl:void 0}function Si(){return ai()}function $i(){return i.hideSelected===!0?[]:r["selected-item"]!==void 0?st.value.map(v=>r["selected-item"](v)).slice():r.selected!==void 0?[].concat(r.selected()):i.useChips===!0?st.value.map((v,X)=>S(Fr,{key:"option-"+X,removable:y.editable.value===!0&&wt.value(v.opt)!==!0,dense:!0,textColor:i.color,tabindex:We.value,onRemove(){v.removeAtIndex(X)}},()=>S("span",{class:"ellipsis",[v.html===!0?"innerHTML":"textContent"]:Ue.value(v.opt)}))):[S("span",{[at.value===!0?"innerHTML":"textContent"]:ke.value})]}function Pi(){if(ge.value===!0)return r["no-option"]!==void 0?r["no-option"]({inputValue:g.value}):void 0;const v=r.option!==void 0?r.option:J=>S(nu,{key:J.index,...J.itemProps},()=>S(ou,()=>S(au,()=>S("span",{[J.html===!0?"innerHTML":"textContent"]:J.label}))));let X=W("div",mt.value.map(v));return r["before-options"]!==void 0&&(X=r["before-options"]().concat(X)),io(r["after-options"],X)}function B(v,X){const J=X===!0?{...Mt.value,...y.splitAttrs.attributes.value}:void 0,_e={ref:X===!0?Z:void 0,key:"i_t",class:q.value,style:i.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...J,id:X===!0?y.targetUid.value:void 0,maxlength:i.maxlength,autocomplete:i.autocomplete,"data-autofocus":v===!0||i.autofocus===!0||void 0,disabled:i.disable===!0,readonly:i.readonly===!0,...pi.value};return v!==!0&&E===!0&&(Array.isArray(_e.class)===!0?_e.class=[..._e.class,"no-pointer-events"]:_e.class+=" no-pointer-events"),S("input",_e)}function oe(v){w!==null&&(clearTimeout(w),w=null),D!==null&&(clearTimeout(D),D=null),!(v&&v.target&&v.target.qComposing===!0)&&(he(v.target.value||""),z=!0,le=g.value,y.focused.value!==!0&&(E!==!0||C.value===!0)&&y.focus(),i.onFilter!==void 0&&(w=setTimeout(()=>{w=null,ve(g.value)},i.inputDebounce)))}function he(v,X){g.value!==v&&(g.value=v,X===!0||i.inputDebounce===0||i.inputDebounce==="0"?s("inputValue",v):D=setTimeout(()=>{D=null,s("inputValue",v)},i.inputDebounce))}function me(v,X,J){z=J!==!0,i.useInput===!0&&(he(v,!0),(X===!0||J!==!0)&&(le=v),X!==!0&&ve(v))}function ve(v,X,J){if(i.onFilter===void 0||X!==!0&&y.focused.value!==!0)return;y.innerLoading.value===!0?s("filterAbort"):(y.innerLoading.value=!0,m.value=!0),v!==""&&i.multiple!==!0&&b.value.length!==0&&z!==!0&&v===Ue.value(b.value[0])&&(v="");const _e=setTimeout(()=>{h.value===!0&&(h.value=!1)},10);I!==null&&clearTimeout(I),I=_e,s("filter",v,(Te,Le)=>{(X===!0||y.focused.value===!0)&&I===_e&&(clearTimeout(I),typeof Te=="function"&&Te(),m.value=!1,Ve(()=>{y.innerLoading.value=!1,y.editable.value===!0&&(X===!0?h.value===!0&&Ot():h.value===!0?ki(!0):h.value=!0),typeof Le=="function"&&Ve(()=>{Le(c)}),typeof J=="function"&&Ve(()=>{J(c)})}))},()=>{y.focused.value===!0&&I===_e&&(clearTimeout(I),y.innerLoading.value=!1,m.value=!1),h.value===!0&&(h.value=!1)})}function Be(){return S(Su,{ref:Y,class:G.value,style:i.popupContentStyle,modelValue:h.value,fit:i.menuShrink!==!0,cover:i.optionsCover===!0&&ge.value!==!0&&i.useInput!==!0,anchor:i.menuAnchor,self:i.menuSelf,offset:i.menuOffset,dark:re.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:i.popupNoRouteDismiss,square:ii.value,transitionShow:i.transitionShow,transitionHide:i.transitionHide,transitionDuration:i.transitionDuration,separateClosePopup:!0,...rt.value,onScrollPassive:M,onBeforeShow:pn,onBeforeHide:Me,onShow:ht},Pi)}function Me(v){yn(v),Nt()}function ht(){$()}function Ke(v){Gt(v),Z.value!==null&&Z.value.focus(),C.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Qe(v){Gt(v),Ve(()=>{C.value=!1})}function se(){const v=[S(tu,{class:`col-auto ${y.fieldClass.value}`,...U.value,for:y.targetUid.value,dark:re.value,square:!0,loading:m.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...y.splitAttrs.listeners.value,onFocus:Ke,onBlur:Qe},{...r,rawControl:()=>y.getControl(!0),before:void 0,after:void 0})];return h.value===!0&&v.push(S("div",{ref:O,class:G.value+" scroll",style:i.popupContentStyle,...rt.value,onClick:Ct,onScrollPassive:M},Pi())),S(ts,{ref:ce,modelValue:u.value,position:i.useInput===!0?"top":void 0,transitionShow:A,transitionHide:i.transitionHide,transitionDuration:i.transitionDuration,noRouteDismiss:i.popupNoRouteDismiss,onBeforeShow:pn,onBeforeHide:Ci,onHide:vn,onShow:_n},()=>S("div",{class:"q-select__dialog"+(re.value===!0?" q-select__dialog--dark q-dark":"")+(C.value===!0?" q-select__dialog--focused":"")},v))}function Ci(v){yn(v),ce.value!==null&&ce.value.__updateRefocusTarget(y.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),y.focused.value=!1}function vn(v){Ot(),y.focused.value===!1&&s("blur",v),ft()}function _n(){const v=document.activeElement;(v===null||v.id!==y.targetUid.value)&&Z.value!==null&&Z.value!==v&&Z.value.focus(),$()}function Nt(){u.value!==!0&&(_.value=-1,h.value===!0&&(h.value=!1),y.focused.value===!1&&(I!==null&&(clearTimeout(I),I=null),y.innerLoading.value===!0&&(s("filterAbort"),y.innerLoading.value=!1,m.value=!1)))}function Bt(v){y.editable.value===!0&&(E===!0?(y.onControlFocusin(v),u.value=!0,Ve(()=>{y.focus()})):y.focus(),i.onFilter!==void 0?ve(g.value):(ge.value!==!0||r["no-option"]!==void 0)&&(h.value=!0))}function Ot(){u.value=!1,Nt()}function ft(){i.useInput===!0&&me(i.multiple!==!0&&i.fillInput===!0&&b.value.length!==0&&Ue.value(b.value[0])||"",!0,!0)}function ki(v){let X=-1;if(v===!0){if(b.value.length!==0){const J=tt.value(b.value[0]);X=i.options.findIndex(_e=>on(tt.value(_e),J))}ee(X)}it(X)}function lo(v,X){h.value===!0&&y.innerLoading.value===!1&&(ee(-1,!0),Ve(()=>{h.value===!0&&y.innerLoading.value===!1&&(v>X?ee():ki(!0))}))}function gn(){u.value===!1&&Y.value!==null&&Y.value.updatePosition()}function pn(v){v!==void 0&&Gt(v),s("popupShow",v),y.hasPopupOpen=!0,y.onControlFocusin(v)}function yn(v){v!==void 0&&Gt(v),s("popupHide",v),y.hasPopupOpen=!1,y.onControlFocusout(v)}function Wi(){E=d.platform.is.mobile!==!0&&i.behavior!=="dialog"?!1:i.behavior!=="menu"&&(i.useInput===!0?r["no-option"]!==void 0||i.onFilter!==void 0||ge.value===!1:!0),A=d.platform.is.ios===!0&&E===!0&&i.useInput===!0?"fade":i.transitionShow}return kr(Wi),gl(gn),Wi(),ot(()=>{w!==null&&clearTimeout(w),D!==null&&clearTimeout(D)}),Object.assign(c,{showPopup:Bt,hidePopup:Ot,removeAtIndex:Dt,add:bi,toggleOption:lt,getOptionIndex:()=>_.value,setOptionIndex:it,moveOptionSelection:dt,filter:ve,updateMenuPosition:gn,updateInputValue:me,isOptionSelected:Ft,getEmittingOptionValue:Yt,isOptionDisabled:(...v)=>wt.value.apply(null,v)===!0,getOptionValue:(...v)=>tt.value.apply(null,v),getOptionLabel:(...v)=>Ue.value.apply(null,v)}),Object.assign(y,{innerValue:b,fieldClass:p(()=>`q-select q-field--auto-height q-select--with${i.useInput!==!0?"out":""}-input q-select--with${i.useChips!==!0?"out":""}-chips q-select--${i.multiple===!0?"multiple":"single"}`),inputRef:Q,targetRef:Z,hasValue:ne,showPopup:Bt,floatingLabel:p(()=>i.hideSelected!==!0&&ne.value===!0||typeof g.value=="number"||g.value.length!==0||gi(i.displayValue)),getControlChild:()=>{if(y.editable.value!==!1&&(u.value===!0||ge.value!==!0||r["no-option"]!==void 0))return E===!0?se():Be();y.hasPopupOpen===!0&&(y.hasPopupOpen=!1)},controlEvents:{onFocusin(v){y.onControlFocusin(v)},onFocusout(v){y.onControlFocusout(v,()=>{ft(),Nt()})},onClick(v){if(Ct(v),E!==!0&&h.value===!0){Nt(),Z.value!==null&&Z.value.focus();return}Bt(v)}},getControl:v=>{const X=$i(),J=v===!0||u.value!==!0||E!==!0;if(i.useInput===!0)X.push(B(v,J));else if(y.editable.value===!0){const Te=J===!0?Mt.value:void 0;X.push(S("input",{ref:J===!0?Z:void 0,key:"d_t",class:"q-select__focus-target",id:J===!0?y.targetUid.value:void 0,value:ke.value,readonly:!0,"data-autofocus":v===!0||i.autofocus===!0||void 0,...Te,onKeydown:oi,onKeyup:_t,onKeypress:Zt})),J===!0&&typeof i.autocomplete=="string"&&i.autocomplete.length!==0&&X.push(S("input",{class:"q-select__autocomplete-input",autocomplete:i.autocomplete,tabindex:-1,onKeyup:ni}))}if(V.value!==void 0&&i.disable!==!0&&Vt.value.length!==0){const Te=Vt.value.map(Le=>S("option",{value:Le,selected:!0}));X.push(S("select",{class:"hidden",name:V.value,multiple:i.multiple},Te))}const _e=i.useInput===!0||J!==!0?void 0:y.splitAttrs.attributes.value;return S("div",{class:"q-field__native row items-center",..._e,...y.splitAttrs.listeners.value},X)},getInnerAppend:()=>i.loading!==!0&&m.value!==!0&&i.hideDropdownIcon!==!0?[S(Je,{class:"q-select__dropdown-icon"+(h.value===!0?" rotate-180":""),name:vt.value})]:null}),ro(y)}});const Vu={xs:2,sm:4,md:6,lg:10,xl:14};function gr(i,r,s){return{transform:r===!0?`translateX(${s.lang.rtl===!0?"-":""}100%) scale3d(${-i},1,1)`:`scale3d(${i},1,1)`}}var Du=Ae({name:"QLinearProgress",props:{...Lt,...Xo,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(i,{slots:r}){const{proxy:s}=Ce(),c=Tt(i,s.$q),d=Jo(i,Vu),h=p(()=>i.indeterminate===!0||i.query===!0),u=p(()=>i.reverse!==i.query),_=p(()=>({...d.value!==null?d.value:{},"--q-linear-progress-speed":`${i.animationSpeed}ms`})),g=p(()=>"q-linear-progress"+(i.color!==void 0?` text-${i.color}`:"")+(i.reverse===!0||i.query===!0?" q-linear-progress--reverse":"")+(i.rounded===!0?" rounded-borders":"")),C=p(()=>gr(i.buffer!==void 0?i.buffer:1,u.value,s.$q)),m=p(()=>`with${i.instantFeedback===!0?"out":""}-transition`),w=p(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${m.value} q-linear-progress__track--${c.value===!0?"dark":"light"}`+(i.trackColor!==void 0?` bg-${i.trackColor}`:"")),D=p(()=>gr(h.value===!0?1:i.value,u.value,s.$q)),x=p(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${m.value} q-linear-progress__model--${h.value===!0?"in":""}determinate`),E=p(()=>({width:`${i.value*100}%`})),z=p(()=>`q-linear-progress__stripe absolute-${i.reverse===!0?"right":"left"} q-linear-progress__stripe--${m.value}`);return()=>{const I=[S("div",{class:w.value,style:C.value}),S("div",{class:x.value,style:D.value})];return i.stripe===!0&&h.value===!1&&I.push(S("div",{class:z.value,style:E.value})),S("div",{class:g.value,style:_.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":i.indeterminate===!0?void 0:i.value},io(r.default,I))}}});function Fu(i,r){const s=j(null),c=p(()=>i.disable===!0?null:S("span",{ref:s,class:"no-outline",tabindex:-1}));function d(h){const u=r.value;h!==void 0&&h.type.indexOf("key")===0?u!==null&&document.activeElement!==u&&u.contains(document.activeElement)===!0&&u.focus():s.value!==null&&(h===void 0||u!==null&&u.contains(h.target)===!0)&&s.value.focus()}return{refocusTargetEl:c,refocusTarget:d}}var Zu={xs:30,sm:35,md:40,lg:50,xl:60};const Nu={...Lt,...Xo,...so,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:i=>i==="tf"||i==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Hu=["update:modelValue"];function $u(i,r){const{props:s,slots:c,emit:d,proxy:h}=Ce(),{$q:u}=h,_=Tt(s,u),g=j(null),{refocusTargetEl:C,refocusTarget:m}=Fu(s,g),w=Jo(s,Zu),D=p(()=>s.val!==void 0&&Array.isArray(s.modelValue)),x=p(()=>{const T=qi(s.val);return D.value===!0?s.modelValue.findIndex(ue=>qi(ue)===T):-1}),E=p(()=>D.value===!0?x.value!==-1:qi(s.modelValue)===qi(s.trueValue)),z=p(()=>D.value===!0?x.value===-1:qi(s.modelValue)===qi(s.falseValue)),I=p(()=>E.value===!1&&z.value===!1),le=p(()=>s.disable===!0?-1:s.tabindex||0),A=p(()=>`q-${i} cursor-pointer no-outline row inline no-wrap items-center`+(s.disable===!0?" disabled":"")+(_.value===!0?` q-${i}--dark`:"")+(s.dense===!0?` q-${i}--dense`:"")+(s.leftLabel===!0?" reverse":"")),R=p(()=>{const T=E.value===!0?"truthy":z.value===!0?"falsy":"indet",ue=s.color!==void 0&&(s.keepColor===!0||(i==="toggle"?E.value===!0:z.value!==!0))?` text-${s.color}`:"";return`q-${i}__inner relative-position non-selectable q-${i}__inner--${T}${ue}`}),N=p(()=>{const T={type:"checkbox"};return s.name!==void 0&&Object.assign(T,{".checked":E.value,"^checked":E.value===!0?"checked":void 0,name:s.name,value:D.value===!0?s.val:s.trueValue}),T}),Q=Eu(N),Z=p(()=>{const T={tabindex:le.value,role:i==="toggle"?"switch":"checkbox","aria-label":s.label,"aria-checked":I.value===!0?"mixed":E.value===!0?"true":"false"};return s.disable===!0&&(T["aria-disabled"]="true"),T});function Y(T){T!==void 0&&(et(T),m(T)),s.disable!==!0&&d("update:modelValue",ce(),T)}function ce(){if(D.value===!0){if(E.value===!0){const T=s.modelValue.slice();return T.splice(x.value,1),T}return s.modelValue.concat([s.val])}if(E.value===!0){if(s.toggleOrder!=="ft"||s.toggleIndeterminate===!1)return s.falseValue}else if(z.value===!0){if(s.toggleOrder==="ft"||s.toggleIndeterminate===!1)return s.trueValue}else return s.toggleOrder!=="ft"?s.trueValue:s.falseValue;return s.indeterminateValue}function O(T){(T.keyCode===13||T.keyCode===32)&&et(T)}function V(T){(T.keyCode===13||T.keyCode===32)&&Y(T)}const H=r(E,I);return Object.assign(h,{toggle:Y}),()=>{const T=H();s.disable!==!0&&Q(T,"unshift",` q-${i}__native absolute q-ma-none q-pa-none`);const ue=[S("div",{class:R.value,style:w.value,"aria-hidden":"true"},T)];C.value!==null&&ue.push(C.value);const ae=s.label!==void 0?io(c.default,[s.label]):He(c.default);return ae!==void 0&&ue.push(S("div",{class:`q-${i}__label q-anchor--skip`},ae)),S("div",{ref:g,class:A.value,...Z.value,onClick:Y,onKeydown:O,onKeyup:V},ue)}}const Wu=S("div",{key:"svg",class:"q-checkbox__bg absolute"},[S("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[S("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),S("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var dn=Ae({name:"QCheckbox",props:Nu,emits:Hu,setup(i){function r(s,c){const d=p(()=>(s.value===!0?i.checkedIcon:c.value===!0?i.indeterminateIcon:i.uncheckedIcon)||null);return()=>d.value!==null?[S("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[S(Je,{class:"q-checkbox__icon",name:d.value})])]:[Wu]}return $u("checkbox",r)}});let un=0;const ju={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Uu=["update:fullscreen","fullscreen"];function Ku(){const i=Ce(),{props:r,emit:s,proxy:c}=i;let d,h,u;const _=j(!1);Tr(i)===!0&&we(()=>c.$route.fullPath,()=>{r.noRouteFullscreenExit!==!0&&m()}),we(()=>r.fullscreen,w=>{_.value!==w&&g()}),we(_,w=>{s("update:fullscreen",w),s("fullscreen",w)});function g(){_.value===!0?m():C()}function C(){_.value!==!0&&(_.value=!0,u=c.$el.parentNode,u.replaceChild(h,c.$el),document.body.appendChild(c.$el),un++,un===1&&document.body.classList.add("q-body--fullscreen-mixin"),d={handler:m},Kn.add(d))}function m(){_.value===!0&&(d!==void 0&&(Kn.remove(d),d=void 0),u.replaceChild(c.$el,h),_.value=!1,un=Math.max(0,un-1),un===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),c.$el.scrollIntoView!==void 0&&setTimeout(()=>{c.$el.scrollIntoView()})))}return Yo(()=>{h=document.createElement("span")}),Rt(()=>{r.fullscreen===!0&&C()}),ot(m),Object.assign(c,{toggleFullscreen:g,setFullscreen:C,exitFullscreen:m}),{inFullscreen:_,toggleFullscreen:g}}function Gu(i,r){return new Date(i)-new Date(r)}const Qu={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:i=>i==="ad"||i==="da",default:"ad"}};function Yu(i,r,s,c){const d=p(()=>{const{sortBy:_}=r.value;return _&&s.value.find(g=>g.name===_)||null}),h=p(()=>i.sortMethod!==void 0?i.sortMethod:(_,g,C)=>{const m=s.value.find(x=>x.name===g);if(m===void 0||m.field===void 0)return _;const w=C===!0?-1:1,D=typeof m.field=="function"?x=>m.field(x):x=>x[m.field];return _.sort((x,E)=>{let z=D(x),I=D(E);return m.rawSort!==void 0?m.rawSort(z,I,x,E)*w:z==null?-1*w:I==null?1*w:m.sort!==void 0?m.sort(z,I,x,E)*w:jo(z)===!0&&jo(I)===!0?(z-I)*w:Wa(z)===!0&&Wa(I)===!0?Gu(z,I)*w:typeof z=="boolean"&&typeof I=="boolean"?(z-I)*w:([z,I]=[z,I].map(le=>(le+"").toLocaleString().toLowerCase()),z<I?-1*w:z===I?0:w)})});function u(_){let g=i.columnSortOrder;if(pl(_)===!0)_.sortOrder&&(g=_.sortOrder),_=_.name;else{const w=s.value.find(D=>D.name===_);w!==void 0&&w.sortOrder&&(g=w.sortOrder)}let{sortBy:C,descending:m}=r.value;C!==_?(C=_,m=g==="da"):i.binaryStateSort===!0?m=!m:m===!0?g==="ad"?C=null:m=!1:g==="ad"?m=!0:C=null,c({sortBy:C,descending:m,page:1})}return{columnToSort:d,computedSortMethod:h,sort:u}}const Xu={filter:[String,Object],filterMethod:Function};function Ju(i,r){const s=p(()=>i.filterMethod!==void 0?i.filterMethod:(c,d,h,u)=>{const _=d?d.toLowerCase():"";return c.filter(g=>h.some(C=>{const m=u(C,g)+"";return(m==="undefined"||m==="null"?"":m.toLowerCase()).indexOf(_)!==-1}))});return we(()=>i.filter,()=>{Ve(()=>{r({page:1},!0)})},{deep:!0}),{computedFilterMethod:s}}function ec(i,r){for(const s in r)if(r[s]!==i[s])return!1;return!0}function pr(i){return i.page<1&&(i.page=1),i.rowsPerPage!==void 0&&i.rowsPerPage<1&&(i.rowsPerPage=0),i}const tc={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ic(i,r){const{props:s,emit:c}=i,d=j(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:s.rowsPerPageOptions.length!==0?s.rowsPerPageOptions[0]:5},s.pagination)),h=p(()=>{const m=s["onUpdate:pagination"]!==void 0?{...d.value,...s.pagination}:d.value;return pr(m)}),u=p(()=>h.value.rowsNumber!==void 0);function _(m){g({pagination:m,filter:s.filter})}function g(m={}){Ve(()=>{c("request",{pagination:m.pagination||h.value,filter:m.filter||s.filter,getCellValue:r})})}function C(m,w){const D=pr({...h.value,...m});if(ec(h.value,D)===!0){u.value===!0&&w===!0&&_(D);return}if(u.value===!0){_(D);return}s.pagination!==void 0&&s["onUpdate:pagination"]!==void 0?c("update:pagination",D):d.value=D}return{innerPagination:d,computedPagination:h,isServerSide:u,requestServerInteraction:g,setPagination:C}}function nc(i,r,s,c,d,h){const{props:u,emit:_,proxy:{$q:g}}=i,C=p(()=>c.value===!0?s.value.rowsNumber||0:h.value),m=p(()=>{const{page:N,rowsPerPage:Q}=s.value;return(N-1)*Q}),w=p(()=>{const{page:N,rowsPerPage:Q}=s.value;return N*Q}),D=p(()=>s.value.page===1),x=p(()=>s.value.rowsPerPage===0?1:Math.max(1,Math.ceil(C.value/s.value.rowsPerPage))),E=p(()=>w.value===0?!0:s.value.page>=x.value),z=p(()=>(u.rowsPerPageOptions.includes(r.value.rowsPerPage)?u.rowsPerPageOptions:[r.value.rowsPerPage].concat(u.rowsPerPageOptions)).map(Q=>({label:Q===0?g.lang.table.allRows:""+Q,value:Q})));we(x,(N,Q)=>{if(N===Q)return;const Z=s.value.page;N&&!Z?d({page:1}):N<Z&&d({page:N})});function I(){d({page:1})}function le(){const{page:N}=s.value;N>1&&d({page:N-1})}function A(){const{page:N,rowsPerPage:Q}=s.value;w.value>0&&N*Q<C.value&&d({page:N+1})}function R(){d({page:x.value})}return u["onUpdate:pagination"]!==void 0&&_("update:pagination",{...s.value}),{firstRowIndex:m,lastRowIndex:w,isFirstPage:D,isLastPage:E,pagesNumber:x,computedRowsPerPageOptions:z,computedRowsNumber:C,firstPage:I,prevPage:le,nextPage:A,lastPage:R}}const oc={selection:{type:String,default:"none",validator:i=>["single","multiple","none"].includes(i)},selected:{type:Array,default:()=>[]}},ac=["update:selected","selection"];function rc(i,r,s,c){const d=p(()=>{const E={};return i.selected.map(c.value).forEach(z=>{E[z]=!0}),E}),h=p(()=>i.selection!=="none"),u=p(()=>i.selection==="single"),_=p(()=>i.selection==="multiple"),g=p(()=>s.value.length!==0&&s.value.every(E=>d.value[c.value(E)]===!0)),C=p(()=>g.value!==!0&&s.value.some(E=>d.value[c.value(E)]===!0)),m=p(()=>i.selected.length);function w(E){return d.value[E]===!0}function D(){r("update:selected",[])}function x(E,z,I,le){r("selection",{rows:z,added:I,keys:E,evt:le});const A=u.value===!0?I===!0?z:[]:I===!0?i.selected.concat(z):i.selected.filter(R=>E.includes(c.value(R))===!1);r("update:selected",A)}return{hasSelectionMode:h,singleSelection:u,multipleSelection:_,allRowsSelected:g,someRowsSelected:C,rowsSelectedNumber:m,isRowSelected:w,clearSelection:D,updateSelection:x}}function yr(i){return Array.isArray(i)?i.slice():[]}const sc={expanded:Array},lc=["update:expanded"];function uc(i,r){const s=j(yr(i.expanded));we(()=>i.expanded,u=>{s.value=yr(u)});function c(u){return s.value.includes(u)}function d(u){i.expanded!==void 0?r("update:expanded",u):s.value=u}function h(u,_){const g=s.value.slice(),C=g.indexOf(u);_===!0?C===-1&&(g.push(u),d(g)):C!==-1&&(g.splice(C,1),d(g))}return{isRowExpanded:c,setExpanded:d,updateExpanded:h}}const cc={visibleColumns:Array};function dc(i,r,s){const c=p(()=>{if(i.columns!==void 0)return i.columns;const _=i.rows[0];return _!==void 0?Object.keys(_).map(g=>({name:g,label:g.toUpperCase(),field:g,align:jo(_[g])?"right":"left",sortable:!0})):[]}),d=p(()=>{const{sortBy:_,descending:g}=r.value;return(i.visibleColumns!==void 0?c.value.filter(m=>m.required===!0||i.visibleColumns.includes(m.name)===!0):c.value).map(m=>{const w=m.align||"right",D=`text-${w}`;return{...m,align:w,__iconClass:`q-table__sort-icon q-table__sort-icon--${w}`,__thClass:D+(m.headerClasses!==void 0?" "+m.headerClasses:"")+(m.sortable===!0?" sortable":"")+(m.name===_?` sorted ${g===!0?"sort-desc":""}`:""),__tdStyle:m.style!==void 0?typeof m.style!="function"?()=>m.style:m.style:()=>null,__tdClass:m.classes!==void 0?typeof m.classes!="function"?()=>D+" "+m.classes:x=>D+" "+m.classes(x):()=>D}})}),h=p(()=>{const _={};return d.value.forEach(g=>{_[g.name]=g}),_}),u=p(()=>i.tableColspan!==void 0?i.tableColspan:d.value.length+(s.value===!0?1:0));return{colList:c,computedCols:d,computedColsMap:h,computedColspan:u}}const Hn="q-table__bottom row items-center",ns={};Ir.forEach(i=>{ns[i]={}});var hc=Ae({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:i=>["horizontal","vertical","cell","none"].includes(i)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...ns,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Lt,...ju,...cc,...Xu,...tc,...sc,...oc,...Qu},emits:["request","virtualScroll",...Uu,...lc,...ac],setup(i,{slots:r,emit:s}){const c=Ce(),{proxy:{$q:d}}=c,h=Tt(i,d),{inFullscreen:u,toggleFullscreen:_}=Ku(),g=p(()=>typeof i.rowKey=="function"?i.rowKey:B=>B[i.rowKey]),C=j(null),m=j(null),w=p(()=>i.grid!==!0&&i.virtualScroll===!0),D=p(()=>" q-table__card"+(h.value===!0?" q-table__card--dark q-dark":"")+(i.square===!0?" q-table--square":"")+(i.flat===!0?" q-table--flat":"")+(i.bordered===!0?" q-table--bordered":"")),x=p(()=>`q-table__container q-table--${i.separator}-separator column no-wrap`+(i.grid===!0?" q-table--grid":D.value)+(h.value===!0?" q-table--dark":"")+(i.dense===!0?" q-table--dense":"")+(i.wrapCells===!1?" q-table--no-wrap":"")+(u.value===!0?" fullscreen scroll":"")),E=p(()=>x.value+(i.loading===!0?" q-table--loading":""));we(()=>i.tableStyle+i.tableClass+i.tableHeaderStyle+i.tableHeaderClass+x.value,()=>{w.value===!0&&m.value!==null&&m.value.reset()});const{innerPagination:z,computedPagination:I,isServerSide:le,requestServerInteraction:A,setPagination:R}=ic(c,it),{computedFilterMethod:N}=Ju(i,R),{isRowExpanded:Q,setExpanded:Z,updateExpanded:Y}=uc(i,s),ce=p(()=>{let B=i.rows;if(le.value===!0||B.length===0)return B;const{sortBy:oe,descending:he}=I.value;return i.filter&&(B=N.value(B,i.filter,y.value,it)),re.value!==null&&(B=ne.value(i.rows===B?B.slice():B,oe,he)),B}),O=p(()=>ce.value.length),V=p(()=>{let B=ce.value;if(le.value===!0)return B;const{rowsPerPage:oe}=I.value;return oe!==0&&(G.value===0&&i.rows!==B?B.length>ge.value&&(B=B.slice(0,ge.value)):B=B.slice(G.value,ge.value)),B}),{hasSelectionMode:H,singleSelection:T,multipleSelection:ue,allRowsSelected:ae,someRowsSelected:ye,rowsSelectedNumber:ee,isRowSelected:W,clearSelection:M,updateSelection:te}=rc(i,s,V,g),{colList:$,computedCols:y,computedColsMap:b,computedColspan:U}=dc(i,I,H),{columnToSort:re,computedSortMethod:ne,sort:q}=Yu(i,I,$,R),{firstRowIndex:G,lastRowIndex:ge,isFirstPage:K,isLastPage:ke,pagesNumber:$e,computedRowsPerPageOptions:at,computedRowsNumber:We,firstPage:Mt,prevPage:rt,nextPage:st,lastPage:mt}=nc(c,z,I,le,R,O),vt=p(()=>V.value.length===0),ii=p(()=>{const B={};return Ir.forEach(oe=>{B[oe]=i[oe]}),B.virtualScrollItemSize===void 0&&(B.virtualScrollItemSize=i.dense===!0?28:48),B});function Et(){w.value===!0&&m.value.reset()}function tt(){if(i.grid===!0)return Pi();const B=i.hideHeader!==!0?Ft:null;if(w.value===!0){const he=r["top-row"],me=r["bottom-row"],ve={default:Be=>pi(Be.item,r.body,Be.index)};if(he!==void 0){const Be=S("tbody",he({cols:y.value}));ve.before=B===null?()=>Be:()=>[B()].concat(Be)}else B!==null&&(ve.before=B);return me!==void 0&&(ve.after=()=>S("tbody",me({cols:y.value}))),S($l,{ref:m,class:i.tableClass,style:i.tableStyle,...ii.value,scrollTarget:i.virtualScrollTarget,items:V.value,type:"__qtable",tableColspan:U.value,onVirtualScroll:wt},ve)}const oe=[Yt()];return B!==null&&oe.unshift(B()),Or({class:["q-table__middle scroll",i.tableClass],style:i.tableStyle},oe)}function Ue(B,oe){if(m.value!==null){m.value.scrollTo(B,oe);return}B=parseInt(B,10);const he=C.value.querySelector(`tbody tr:nth-of-type(${B+1})`);if(he!==null){const me=C.value.querySelector(".q-table__middle.scroll"),ve=he.offsetTop-i.virtualScrollStickySizeStart,Be=ve<me.scrollTop?"decrease":"increase";me.scrollTop=ve,s("virtualScroll",{index:B,from:0,to:z.value.rowsPerPage-1,direction:Be})}}function wt(B){s("virtualScroll",B)}function Vt(){return[S(Du,{class:"q-table__linear-progress",color:i.color,dark:h.value,indeterminate:!0,trackColor:"transparent"})]}function pi(B,oe,he){const me=g.value(B),ve=W(me);if(oe!==void 0)return oe(Dt({key:me,row:B,pageIndex:he,__trClass:ve?"selected":""}));const Be=r["body-cell"],Me=y.value.map(Ke=>{const Qe=r[`body-cell-${Ke.name}`],se=Qe!==void 0?Qe:Be;return se!==void 0?se(yi({key:me,row:B,pageIndex:he,col:Ke})):S("td",{class:Ke.__tdClass(B),style:Ke.__tdStyle(B)},it(Ke,B))});if(H.value===!0){const Ke=r["body-selection"],Qe=Ke!==void 0?Ke(bi({key:me,row:B,pageIndex:he})):[S(dn,{modelValue:ve,color:i.color,dark:h.value,dense:i.dense,"onUpdate:modelValue":(se,Ci)=>{te([me],[B],se,Ci)}})];Me.unshift(S("td",{class:"q-table--col-auto-width"},Qe))}const ht={key:me,class:{selected:ve}};return i.onRowClick!==void 0&&(ht.class["cursor-pointer"]=!0,ht.onClick=Ke=>{s("rowClick",Ke,B,he)}),i.onRowDblclick!==void 0&&(ht.class["cursor-pointer"]=!0,ht.onDblclick=Ke=>{s("rowDblclick",Ke,B,he)}),i.onRowContextmenu!==void 0&&(ht.class["cursor-pointer"]=!0,ht.onContextmenu=Ke=>{s("rowContextmenu",Ke,B,he)}),S("tr",ht,Me)}function Yt(){const B=r.body,oe=r["top-row"],he=r["bottom-row"];let me=V.value.map((ve,Be)=>pi(ve,B,Be));return oe!==void 0&&(me=oe({cols:y.value}).concat(me)),he!==void 0&&(me=me.concat(he({cols:y.value}))),S("tbody",me)}function Dt(B){return lt(B),B.cols=B.cols.map(oe=>Qt({...oe},"value",()=>it(oe,B.row))),B}function yi(B){return lt(B),Qt(B,"value",()=>it(B.col,B.row)),B}function bi(B){return lt(B),B}function lt(B){Object.assign(B,{cols:y.value,colsMap:b.value,sort:q,rowIndex:G.value+B.pageIndex,color:i.color,dark:h.value,dense:i.dense}),H.value===!0&&Qt(B,"selected",()=>W(B.key),(oe,he)=>{te([B.key],[B.row],oe,he)}),Qt(B,"expand",()=>Q(B.key),oe=>{Y(B.key,oe)})}function it(B,oe){const he=typeof B.field=="function"?B.field(oe):oe[B.field];return B.format!==void 0?B.format(he,oe):he}const dt=p(()=>({pagination:I.value,pagesNumber:$e.value,isFirstPage:K.value,isLastPage:ke.value,firstPage:Mt,prevPage:rt,nextPage:st,lastPage:mt,inFullscreen:u.value,toggleFullscreen:_}));function wi(){const B=r.top,oe=r["top-left"],he=r["top-right"],me=r["top-selection"],ve=H.value===!0&&me!==void 0&&ee.value>0,Be="q-table__top relative-position row items-center";if(B!==void 0)return S("div",{class:Be},[B(dt.value)]);let Me;if(ve===!0?Me=me(dt.value).slice():(Me=[],oe!==void 0?Me.push(S("div",{class:"q-table__control"},[oe(dt.value)])):i.title&&Me.push(S("div",{class:"q-table__control"},[S("div",{class:["q-table__title",i.titleClass]},i.title)]))),he!==void 0&&(Me.push(S("div",{class:"q-table__separator col"})),Me.push(S("div",{class:"q-table__control"},[he(dt.value)]))),Me.length!==0)return S("div",{class:Be},Me)}const zt=p(()=>ye.value===!0?null:ae.value);function Ft(){const B=xi();return i.loading===!0&&r.loading===void 0&&B.push(S("tr",{class:"q-table__progress"},[S("th",{class:"relative-position",colspan:U.value},Vt())])),S("thead",B)}function xi(){const B=r.header,oe=r["header-cell"];if(B!==void 0)return B(_t({header:!0})).slice();const he=y.value.map(me=>{const ve=r[`header-cell-${me.name}`],Be=ve!==void 0?ve:oe,Me=_t({col:me});return Be!==void 0?Be(Me):S(Al,{key:me.name,props:Me},()=>me.label)});if(T.value===!0&&i.grid!==!0)he.unshift(S("th",{class:"q-table--col-auto-width"}," "));else if(ue.value===!0){const me=r["header-selection"],ve=me!==void 0?me(_t({})):[S(dn,{color:i.color,modelValue:zt.value,dark:h.value,dense:i.dense,"onUpdate:modelValue":ni})];he.unshift(S("th",{class:"q-table--col-auto-width"},ve))}return[S("tr",{class:i.tableHeaderClass,style:i.tableHeaderStyle},he)]}function _t(B){return Object.assign(B,{cols:y.value,sort:q,colsMap:b.value,color:i.color,dark:h.value,dense:i.dense}),ue.value===!0&&Qt(B,"selected",()=>zt.value,ni),B}function ni(B){ye.value===!0&&(B=!1),te(V.value.map(g.value),V.value,B)}const Zt=p(()=>{const B=[i.iconFirstPage||d.iconSet.table.firstPage,i.iconPrevPage||d.iconSet.table.prevPage,i.iconNextPage||d.iconSet.table.nextPage,i.iconLastPage||d.iconSet.table.lastPage];return d.lang.rtl===!0?B.reverse():B});function oi(){if(i.hideBottom===!0)return;if(vt.value===!0){if(i.hideNoData===!0)return;const he=i.loading===!0?i.loadingLabel||d.lang.table.loading:i.filter?i.noResultsLabel||d.lang.table.noResults:i.noDataLabel||d.lang.table.noData,me=r["no-data"],ve=me!==void 0?[me({message:he,icon:d.iconSet.table.warning,filter:i.filter})]:[S(Je,{class:"q-table__bottom-nodata-icon",name:d.iconSet.table.warning}),he];return S("div",{class:Hn+" q-table__bottom--nodata"},ve)}const B=r.bottom;if(B!==void 0)return S("div",{class:Hn},[B(dt.value)]);const oe=i.hideSelectedBanner!==!0&&H.value===!0&&ee.value>0?[S("div",{class:"q-table__control"},[S("div",[(i.selectedRowsLabel||d.lang.table.selectedRecords)(ee.value)])])]:[];if(i.hidePagination!==!0)return S("div",{class:Hn+" justify-end"},Si(oe));if(oe.length!==0)return S("div",{class:Hn},oe)}function ai(B){R({page:1,rowsPerPage:B.value})}function Si(B){let oe;const{rowsPerPage:he}=I.value,me=i.paginationLabel||d.lang.table.pagination,ve=r.pagination,Be=i.rowsPerPageOptions.length>1;if(B.push(S("div",{class:"q-table__separator col"})),Be===!0&&B.push(S("div",{class:"q-table__control"},[S("span",{class:"q-table__bottom-item"},[i.rowsPerPageLabel||d.lang.table.recordsPerPage]),S(Kt,{class:"q-table__select inline q-table__bottom-item",color:i.color,modelValue:he,options:at.value,displayValue:he===0?d.lang.table.allRows:he,dark:h.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":ai})])),ve!==void 0)oe=ve(dt.value);else if(oe=[S("span",he!==0?{class:"q-table__bottom-item"}:{},[he?me(G.value+1,Math.min(ge.value,We.value),We.value):me(1,O.value,We.value)])],he!==0&&$e.value>1){const Me={color:i.color,round:!0,dense:!0,flat:!0};i.dense===!0&&(Me.size="sm"),$e.value>2&&oe.push(S(Ie,{key:"pgFirst",...Me,icon:Zt.value[0],disable:K.value,onClick:Mt})),oe.push(S(Ie,{key:"pgPrev",...Me,icon:Zt.value[1],disable:K.value,onClick:rt}),S(Ie,{key:"pgNext",...Me,icon:Zt.value[2],disable:ke.value,onClick:st})),$e.value>2&&oe.push(S(Ie,{key:"pgLast",...Me,icon:Zt.value[3],disable:ke.value,onClick:mt}))}return B.push(S("div",{class:"q-table__control"},oe)),B}function $i(){const B=i.gridHeader===!0?[S("table",{class:"q-table"},[Ft()])]:i.loading===!0&&r.loading===void 0?Vt():void 0;return S("div",{class:"q-table__middle"},B)}function Pi(){const B=r.item!==void 0?r.item:oe=>{const he=oe.cols.map(ve=>S("div",{class:"q-table__grid-item-row"},[S("div",{class:"q-table__grid-item-title"},[ve.label]),S("div",{class:"q-table__grid-item-value"},[ve.value])]));if(H.value===!0){const ve=r["body-selection"],Be=ve!==void 0?ve(oe):[S(dn,{modelValue:oe.selected,color:i.color,dark:h.value,dense:i.dense,"onUpdate:modelValue":(Me,ht)=>{te([oe.key],[oe.row],Me,ht)}})];he.unshift(S("div",{class:"q-table__grid-item-row"},Be),S(Il,{dark:h.value}))}const me={class:["q-table__grid-item-card"+D.value,i.cardClass],style:i.cardStyle};return(i.onRowClick!==void 0||i.onRowDblclick!==void 0)&&(me.class[0]+=" cursor-pointer",i.onRowClick!==void 0&&(me.onClick=ve=>{s("RowClick",ve,oe.row,oe.pageIndex)}),i.onRowDblclick!==void 0&&(me.onDblclick=ve=>{s("RowDblclick",ve,oe.row,oe.pageIndex)})),S("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(oe.selected===!0?" q-table__grid-item--selected":"")},[S("div",me,he)])};return S("div",{class:["q-table__grid-content row",i.cardContainerClass],style:i.cardContainerStyle},V.value.map((oe,he)=>B(Dt({key:g.value(oe),row:oe,pageIndex:he}))))}return Object.assign(c.proxy,{requestServerInteraction:A,setPagination:R,firstPage:Mt,prevPage:rt,nextPage:st,lastPage:mt,isRowSelected:W,clearSelection:M,isRowExpanded:Q,setExpanded:Z,sort:q,resetVirtualScroll:Et,scrollTo:Ue,getCellValue:it}),yl(c.proxy,{filteredSortedRows:()=>ce.value,computedRows:()=>V.value,computedRowsNumber:()=>We.value}),()=>{const B=[wi()],oe={ref:C,class:E.value};return i.grid===!0?B.push($i()):Object.assign(oe,{class:[oe.class,i.cardClass],style:i.cardStyle}),B.push(tt(),oi()),i.loading===!0&&r.loading!==void 0&&B.push(r.loading()),S("div",oe,B)}}}),fc=Ae({name:"QCardActions",props:{...bl,vertical:Boolean},setup(i,{slots:r}){const s=wl(i),c=p(()=>`q-card__actions ${s.value} q-card__actions--${i.vertical===!0?"vert column":"horiz row"}`);return()=>S("div",{class:c.value},He(r.default))}}),$n=Ae({name:"QCard",props:{...Lt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(i,{slots:r}){const{proxy:{$q:s}}=Ce(),c=Tt(i,s),d=p(()=>"q-card"+(c.value===!0?" q-card--dark q-dark":"")+(i.bordered===!0?" q-card--bordered":"")+(i.square===!0?" q-card--square no-border-radius":"")+(i.flat===!0?" q-card--flat no-shadow":""));return()=>S(i.tag,{class:d.value},He(r.default))}});const br={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Jn={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:i=>i.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:i=>i.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:i=>i.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:i=>i.toLocaleLowerCase()}},os=Object.keys(Jn);os.forEach(i=>{Jn[i].regex=new RegExp(Jn[i].pattern)});const mc=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+os.join("")+"])|(.)","g"),wr=/[.*+?^${}()|[\]\\]/g,Ne=String.fromCharCode(1),vc={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function _c(i,r,s,c){let d,h,u,_,g,C;const m=j(null),w=j(x());function D(){return i.autogrow===!0||["textarea","text","search","url","tel","password"].includes(i.type)}we(()=>i.type+i.autogrow,z),we(()=>i.mask,O=>{if(O!==void 0)I(w.value,!0);else{const V=Y(w.value);z(),i.modelValue!==V&&r("update:modelValue",V)}}),we(()=>i.fillMask+i.reverseFillMask,()=>{m.value===!0&&I(w.value,!0)}),we(()=>i.unmaskedValue,()=>{m.value===!0&&I(w.value)});function x(){if(z(),m.value===!0){const O=Q(Y(i.modelValue));return i.fillMask!==!1?ce(O):O}return i.modelValue}function E(O){if(O<d.length)return d.slice(-O);let V="",H=d;const T=H.indexOf(Ne);if(T!==-1){for(let ue=O-H.length;ue>0;ue--)V+=Ne;H=H.slice(0,T)+V+H.slice(T)}return H}function z(){if(m.value=i.mask!==void 0&&i.mask.length!==0&&D(),m.value===!1){_=void 0,d="",h="";return}const O=br[i.mask]===void 0?i.mask:br[i.mask],V=typeof i.fillMask=="string"&&i.fillMask.length!==0?i.fillMask.slice(0,1):"_",H=V.replace(wr,"\\$&"),T=[],ue=[],ae=[];let ye=i.reverseFillMask===!0,ee="",W="";O.replace(mc,(y,b,U,re,ne)=>{if(re!==void 0){const q=Jn[re];ae.push(q),W=q.negate,ye===!0&&(ue.push("(?:"+W+"+)?("+q.pattern+"+)?(?:"+W+"+)?("+q.pattern+"+)?"),ye=!1),ue.push("(?:"+W+"+)?("+q.pattern+")?")}else if(U!==void 0)ee="\\"+(U==="\\"?"":U),ae.push(U),T.push("([^"+ee+"]+)?"+ee+"?");else{const q=b!==void 0?b:ne;ee=q==="\\"?"\\\\\\\\":q.replace(wr,"\\\\$&"),ae.push(q),T.push("([^"+ee+"]+)?"+ee+"?")}});const M=new RegExp("^"+T.join("")+"("+(ee===""?".":"[^"+ee+"]")+"+)?"+(ee===""?"":"["+ee+"]*")+"$"),te=ue.length-1,$=ue.map((y,b)=>b===0&&i.reverseFillMask===!0?new RegExp("^"+H+"*"+y):b===te?new RegExp("^"+y+"("+(W===""?".":W)+"+)?"+(i.reverseFillMask===!0?"$":H+"*")):new RegExp("^"+y));u=ae,_=y=>{const b=M.exec(i.reverseFillMask===!0?y:y.slice(0,ae.length+1));b!==null&&(y=b.slice(1).join(""));const U=[],re=$.length;for(let ne=0,q=y;ne<re;ne++){const G=$[ne].exec(q);if(G===null)break;q=q.slice(G.shift().length),U.push(...G)}return U.length!==0?U.join(""):y},d=ae.map(y=>typeof y=="string"?y:Ne).join(""),h=d.split(Ne).join(V)}function I(O,V,H){const T=c.value,ue=T.selectionEnd,ae=T.value.length-ue,ye=Y(O);V===!0&&z();const ee=Q(ye),W=i.fillMask!==!1?ce(ee):ee,M=w.value!==W;T.value!==W&&(T.value=W),M===!0&&(w.value=W),document.activeElement===T&&Ve(()=>{if(W===h){const $=i.reverseFillMask===!0?h.length:0;T.setSelectionRange($,$,"forward");return}if(H==="insertFromPaste"&&i.reverseFillMask!==!0){const $=T.selectionEnd;let y=ue-1;for(let b=g;b<=y&&b<$;b++)d[b]!==Ne&&y++;A.right(T,y);return}if(["deleteContentBackward","deleteContentForward"].indexOf(H)!==-1){const $=i.reverseFillMask===!0?ue===0?W.length>ee.length?1:0:Math.max(0,W.length-(W===h?0:Math.min(ee.length,ae)+1))+1:ue;T.setSelectionRange($,$,"forward");return}if(i.reverseFillMask===!0)if(M===!0){const $=Math.max(0,W.length-(W===h?0:Math.min(ee.length,ae+1)));$===1&&ue===1?T.setSelectionRange($,$,"forward"):A.rightReverse(T,$)}else{const $=W.length-ae;T.setSelectionRange($,$,"backward")}else if(M===!0){const $=Math.max(0,d.indexOf(Ne),Math.min(ee.length,ue)-1);A.right(T,$)}else{const $=ue-1;A.right(T,$)}});const te=i.unmaskedValue===!0?Y(W):W;String(i.modelValue)!==te&&(i.modelValue!==null||te!=="")&&s(te,!0)}function le(O,V,H){const T=Q(Y(O.value));V=Math.max(0,d.indexOf(Ne),Math.min(T.length,V)),g=V,O.setSelectionRange(V,H,"forward")}const A={left(O,V){const H=d.slice(V-1).indexOf(Ne)===-1;let T=Math.max(0,V-1);for(;T>=0;T--)if(d[T]===Ne){V=T,H===!0&&V++;break}if(T<0&&d[V]!==void 0&&d[V]!==Ne)return A.right(O,0);V>=0&&O.setSelectionRange(V,V,"backward")},right(O,V){const H=O.value.length;let T=Math.min(H,V+1);for(;T<=H;T++)if(d[T]===Ne){V=T;break}else d[T-1]===Ne&&(V=T);if(T>H&&d[V-1]!==void 0&&d[V-1]!==Ne)return A.left(O,H);O.setSelectionRange(V,V,"forward")},leftReverse(O,V){const H=E(O.value.length);let T=Math.max(0,V-1);for(;T>=0;T--)if(H[T-1]===Ne){V=T;break}else if(H[T]===Ne&&(V=T,T===0))break;if(T<0&&H[V]!==void 0&&H[V]!==Ne)return A.rightReverse(O,0);V>=0&&O.setSelectionRange(V,V,"backward")},rightReverse(O,V){const H=O.value.length,T=E(H),ue=T.slice(0,V+1).indexOf(Ne)===-1;let ae=Math.min(H,V+1);for(;ae<=H;ae++)if(T[ae-1]===Ne){V=ae,V>0&&ue===!0&&V--;break}if(ae>H&&T[V-1]!==void 0&&T[V-1]!==Ne)return A.leftReverse(O,H);O.setSelectionRange(V,V,"forward")}};function R(O){r("click",O),C=void 0}function N(O){if(r("keydown",O),Er(O)===!0||O.altKey===!0)return;const V=c.value,H=V.selectionStart,T=V.selectionEnd;if(O.shiftKey||(C=void 0),O.keyCode===37||O.keyCode===39){O.shiftKey&&C===void 0&&(C=V.selectionDirection==="forward"?H:T);const ue=A[(O.keyCode===39?"right":"left")+(i.reverseFillMask===!0?"Reverse":"")];if(O.preventDefault(),ue(V,C===H?T:H),O.shiftKey){const ae=V.selectionStart;V.setSelectionRange(Math.min(C,ae),Math.max(C,ae),"forward")}}else O.keyCode===8&&i.reverseFillMask!==!0&&H===T?(A.left(V,H),V.setSelectionRange(V.selectionStart,T,"backward")):O.keyCode===46&&i.reverseFillMask===!0&&H===T&&(A.rightReverse(V,T),V.setSelectionRange(H,V.selectionEnd,"forward"))}function Q(O){if(O==null||O==="")return"";if(i.reverseFillMask===!0)return Z(O);const V=u;let H=0,T="";for(let ue=0;ue<V.length;ue++){const ae=O[H],ye=V[ue];if(typeof ye=="string")T+=ye,ae===ye&&H++;else if(ae!==void 0&&ye.regex.test(ae))T+=ye.transform!==void 0?ye.transform(ae):ae,H++;else return T}return T}function Z(O){const V=u,H=d.indexOf(Ne);let T=O.length-1,ue="";for(let ae=V.length-1;ae>=0&&T!==-1;ae--){const ye=V[ae];let ee=O[T];if(typeof ye=="string")ue=ye+ue,ee===ye&&T--;else if(ee!==void 0&&ye.regex.test(ee))do ue=(ye.transform!==void 0?ye.transform(ee):ee)+ue,T--,ee=O[T];while(H===ae&&ee!==void 0&&ye.regex.test(ee));else return ue}return ue}function Y(O){return typeof O!="string"||_===void 0?typeof O=="number"?_(""+O):O:_(O)}function ce(O){return h.length-O.length<=0?O:i.reverseFillMask===!0&&O.length!==0?h.slice(0,-O.length)+O:O+h.slice(O.length)}return{innerValue:w,hasMask:m,moveCursorForPaste:le,updateMaskValue:I,onMaskedKeydown:N,onMaskedClick:R}}function as(i,r){function s(){const c=i.modelValue;try{const d="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(c)===c&&("length"in c?Array.from(c):[c]).forEach(h=>{d.items.add(h)}),{files:d.files}}catch{return{files:void 0}}}return r===!0?p(()=>{if(i.type==="file")return s()}):p(s)}var Vi=Ae({name:"QInput",inheritAttrs:!1,props:{...no,...vc,...so,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...oo,"paste","change","keydown","click","animationend"],setup(i,{emit:r,attrs:s}){const{proxy:c}=Ce(),{$q:d}=c,h={};let u=NaN,_,g,C=null,m;const w=j(null),D=ta(i),{innerValue:x,hasMask:E,moveCursorForPaste:z,updateMaskValue:I,onMaskedKeydown:le,onMaskedClick:A}=_c(i,r,ee,w),R=as(i,!0),N=p(()=>gi(x.value)),Q=is(ae),Z=ao({changeEvent:!0}),Y=p(()=>i.type==="textarea"||i.autogrow===!0),ce=p(()=>Y.value===!0||["text","search","url","tel","password"].includes(i.type)),O=p(()=>{const b={...Z.splitAttrs.listeners.value,onInput:ae,onPaste:ue,onChange:M,onBlur:te,onFocus:Gt};return b.onCompositionstart=b.onCompositionupdate=b.onCompositionend=Q,E.value===!0&&(b.onKeydown=le,b.onClick=A),i.autogrow===!0&&(b.onAnimationend=ye),b}),V=p(()=>{const b={tabindex:0,"data-autofocus":i.autofocus===!0||void 0,rows:i.type==="textarea"?6:void 0,"aria-label":i.label,name:D.value,...Z.splitAttrs.attributes.value,id:Z.targetUid.value,maxlength:i.maxlength,disabled:i.disable===!0,readonly:i.readonly===!0};return Y.value===!1&&(b.type=i.type),i.autogrow===!0&&(b.rows=1),b});we(()=>i.type,()=>{w.value&&(w.value.value=i.modelValue)}),we(()=>i.modelValue,b=>{if(E.value===!0){if(g===!0&&(g=!1,String(b)===u))return;I(b)}else x.value!==b&&(x.value=b,i.type==="number"&&h.hasOwnProperty("value")===!0&&(_===!0?_=!1:delete h.value));i.autogrow===!0&&Ve(W)}),we(()=>i.autogrow,b=>{b===!0?Ve(W):w.value!==null&&s.rows>0&&(w.value.style.height="auto")}),we(()=>i.dense,()=>{i.autogrow===!0&&Ve(W)});function H(){mn(()=>{const b=document.activeElement;w.value!==null&&w.value!==b&&(b===null||b.id!==Z.targetUid.value)&&w.value.focus({preventScroll:!0})})}function T(){w.value!==null&&w.value.select()}function ue(b){if(E.value===!0&&i.reverseFillMask!==!0){const U=b.target;z(U,U.selectionStart,U.selectionEnd)}r("paste",b)}function ae(b){if(!b||!b.target)return;if(i.type==="file"){r("update:modelValue",b.target.files);return}const U=b.target.value;if(b.target.qComposing===!0){h.value=U;return}if(E.value===!0)I(U,!1,b.inputType);else if(ee(U),ce.value===!0&&b.target===document.activeElement){const{selectionStart:re,selectionEnd:ne}=b.target;re!==void 0&&ne!==void 0&&Ve(()=>{b.target===document.activeElement&&U.indexOf(b.target.value)===0&&b.target.setSelectionRange(re,ne)})}i.autogrow===!0&&W()}function ye(b){r("animationend",b),W()}function ee(b,U){m=()=>{C=null,i.type!=="number"&&h.hasOwnProperty("value")===!0&&delete h.value,i.modelValue!==b&&u!==b&&(u=b,U===!0&&(g=!0),r("update:modelValue",b),Ve(()=>{u===b&&(u=NaN)})),m=void 0},i.type==="number"&&(_=!0,h.value=b),i.debounce!==void 0?(C!==null&&clearTimeout(C),h.value=b,C=setTimeout(m,i.debounce)):m()}function W(){requestAnimationFrame(()=>{const b=w.value;if(b!==null){const U=b.parentNode.style,{scrollTop:re}=b,{overflowY:ne,maxHeight:q}=d.platform.is.firefox===!0?{}:window.getComputedStyle(b),G=ne!==void 0&&ne!=="scroll";G===!0&&(b.style.overflowY="hidden"),U.marginBottom=b.scrollHeight-1+"px",b.style.height="1px",b.style.height=b.scrollHeight+"px",G===!0&&(b.style.overflowY=parseInt(q,10)<b.scrollHeight?"auto":"hidden"),U.marginBottom="",b.scrollTop=re}})}function M(b){Q(b),C!==null&&(clearTimeout(C),C=null),m!==void 0&&m(),r("change",b.target.value)}function te(b){b!==void 0&&Gt(b),C!==null&&(clearTimeout(C),C=null),m!==void 0&&m(),_=!1,g=!1,delete h.value,i.type!=="file"&&setTimeout(()=>{w.value!==null&&(w.value.value=x.value!==void 0?x.value:"")})}function $(){return h.hasOwnProperty("value")===!0?h.value:x.value!==void 0?x.value:""}ot(()=>{te()}),Rt(()=>{i.autogrow===!0&&W()}),Object.assign(Z,{innerValue:x,fieldClass:p(()=>`q-${Y.value===!0?"textarea":"input"}`+(i.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:p(()=>i.type!=="file"&&typeof i.shadowText=="string"&&i.shadowText.length!==0),inputRef:w,emitValue:ee,hasValue:N,floatingLabel:p(()=>N.value===!0&&(i.type!=="number"||isNaN(x.value)===!1)||gi(i.displayValue)),getControl:()=>S(Y.value===!0?"textarea":"input",{ref:w,class:["q-field__native q-placeholder",i.inputClass],style:i.inputStyle,...V.value,...O.value,...i.type!=="file"?{value:$()}:R.value}),getShadowControl:()=>S("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(Y.value===!0?"":" text-no-wrap")},[S("span",{class:"invisible"},$()),S("span",i.shadowText)])});const y=ro(Z);return Object.assign(c,{focus:H,select:T,getNativeElement:()=>w.value}),Qt(c,"nativeEl",()=>w.value),y}}),gc=Ae({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(i,{slots:r,emit:s}){const c=Ce(),d=j(null);let h=0;const u=[];function _(x){const E=typeof x=="boolean"?x:i.noErrorFocus!==!0,z=++h,I=(R,N)=>{s(`validation${R===!0?"Success":"Error"}`,N)},le=R=>{const N=R.validate();return typeof N.then=="function"?N.then(Q=>({valid:Q,comp:R}),Q=>({valid:!1,comp:R,err:Q})):Promise.resolve({valid:N,comp:R})};return(i.greedy===!0?Promise.all(u.map(le)).then(R=>R.filter(N=>N.valid!==!0)):u.reduce((R,N)=>R.then(()=>le(N).then(Q=>{if(Q.valid===!1)return Promise.reject(Q)})),Promise.resolve()).catch(R=>[R])).then(R=>{if(R===void 0||R.length===0)return z===h&&I(!0),!0;if(z===h){const{comp:N,err:Q}=R[0];if(Q!==void 0&&console.error(Q),I(!1,N),E===!0){const Z=R.find(({comp:Y})=>typeof Y.focus=="function"&&ea(Y.$)===!1);Z!==void 0&&Z.comp.focus()}}return!1})}function g(){h++,u.forEach(x=>{typeof x.resetValidation=="function"&&x.resetValidation()})}function C(x){x!==void 0&&et(x);const E=h+1;_().then(z=>{E===h&&z===!0&&(i.onSubmit!==void 0?s("submit",x):x!==void 0&&x.target!==void 0&&typeof x.target.submit=="function"&&x.target.submit())})}function m(x){x!==void 0&&et(x),s("reset"),Ve(()=>{g(),i.autofocus===!0&&i.noResetFocus!==!0&&w()})}function w(){mn(()=>{if(d.value===null)return;const x=d.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),E=>E.tabIndex!==-1);x!=null&&x.focus({preventScroll:!0})})}xl(Lr,{bindComponent(x){u.push(x)},unbindComponent(x){const E=u.indexOf(x);E!==-1&&u.splice(E,1)}});let D=!1;return Hi(()=>{D=!0}),to(()=>{D===!0&&i.autofocus===!0&&w()}),Rt(()=>{i.autofocus===!0&&w()}),Object.assign(c.proxy,{validate:_,resetValidation:g,submit:C,reset:m,focus:w,getValidationComponents:()=>u}),()=>S("form",{class:"q-form",ref:d,onSubmit:C,onReset:m},He(r.default))}});function Di(i,r,s,c){const d=[];return i.forEach(h=>{c(h)===!0?d.push(h):r.push({failedPropValidation:s,file:h})}),d}function Wn(i){i&&i.dataTransfer&&(i.dataTransfer.dropEffect="copy"),et(i)}const pc={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},yc=["rejected"];function bc({editable:i,dnd:r,getFileInput:s,addFilesToQueue:c}){const{props:d,emit:h,proxy:u}=Ce(),_=j(null),g=p(()=>d.accept!==void 0?d.accept.split(",").map(A=>(A=A.trim(),A==="*"?"*/":(A.endsWith("/*")&&(A=A.slice(0,A.length-1)),A.toUpperCase()))):null),C=p(()=>parseInt(d.maxFiles,10)),m=p(()=>parseInt(d.maxTotalSize,10));function w(A){if(i.value)if(A!==Object(A)&&(A={target:null}),A.target!==null&&A.target.matches('input[type="file"]')===!0)A.clientX===0&&A.clientY===0&&Gt(A);else{const R=s();R&&R!==A.target&&R.click(A)}}function D(A){i.value&&A&&c(null,A)}function x(A,R,N,Q){let Z=Array.from(R||A.target.files);const Y=[],ce=()=>{Y.length!==0&&h("rejected",Y)};if(d.accept!==void 0&&g.value.indexOf("*/")===-1&&(Z=Di(Z,Y,"accept",O=>g.value.some(V=>O.type.toUpperCase().startsWith(V)||O.name.toUpperCase().endsWith(V))),Z.length===0))return ce();if(d.maxFileSize!==void 0){const O=parseInt(d.maxFileSize,10);if(Z=Di(Z,Y,"max-file-size",V=>V.size<=O),Z.length===0)return ce()}if(d.multiple!==!0&&Z.length!==0&&(Z=[Z[0]]),Z.forEach(O=>{O.__key=O.webkitRelativePath+O.lastModified+O.name+O.size}),Q===!0){const O=N.map(V=>V.__key);Z=Di(Z,Y,"duplicate",V=>O.includes(V.__key)===!1)}if(Z.length===0)return ce();if(d.maxTotalSize!==void 0){let O=Q===!0?N.reduce((V,H)=>V+H.size,0):0;if(Z=Di(Z,Y,"max-total-size",V=>(O+=V.size,O<=m.value)),Z.length===0)return ce()}if(typeof d.filter=="function"){const O=d.filter(Z);Z=Di(Z,Y,"filter",V=>O.includes(V))}if(d.maxFiles!==void 0){let O=Q===!0?N.length:0;if(Z=Di(Z,Y,"max-files",()=>(O++,O<=C.value)),Z.length===0)return ce()}if(ce(),Z.length!==0)return Z}function E(A){Wn(A),r.value!==!0&&(r.value=!0)}function z(A){et(A),(A.relatedTarget!==null||kt.is.safari!==!0?A.relatedTarget!==_.value:document.elementsFromPoint(A.clientX,A.clientY).includes(_.value)===!1)===!0&&(r.value=!1)}function I(A){Wn(A);const R=A.dataTransfer.files;R.length!==0&&c(null,R),r.value=!1}function le(A){if(r.value===!0)return S("div",{ref:_,class:`q-${A}__dnd absolute-full`,onDragenter:Wn,onDragover:Wn,onDragleave:z,onDrop:I})}return Object.assign(u,{pickFiles:w,addFiles:D}),{pickFiles:w,addFiles:D,onDragover:E,onDragleave:z,processFiles:x,getDndNode:le,maxFilesNumber:C,maxTotalSizeNumber:m}}var wc=Ae({name:"QFile",inheritAttrs:!1,props:{...Dr,...so,...pc,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...oo,...yc],setup(i,{slots:r,emit:s,attrs:c}){const{proxy:d}=Ce(),h=ao(),u=j(null),_=j(!1),g=ta(i),{pickFiles:C,onDragover:m,onDragleave:w,processFiles:D,getDndNode:x}=bc({editable:h.editable,dnd:_,getFileInput:T,addFilesToQueue:ue}),E=as(i),z=p(()=>Object(i.modelValue)===i.modelValue?"length"in i.modelValue?Array.from(i.modelValue):[i.modelValue]:[]),I=p(()=>gi(z.value)),le=p(()=>z.value.map(W=>W.name).join(", ")),A=p(()=>qu(z.value.reduce((W,M)=>W+M.size,0))),R=p(()=>({totalSize:A.value,filesNumber:z.value.length,maxFiles:i.maxFiles})),N=p(()=>({tabindex:-1,type:"file",title:"",accept:i.accept,capture:i.capture,name:g.value,...c,id:h.targetUid.value,disabled:h.editable.value!==!0})),Q=p(()=>"q-file q-field--auto-height"+(_.value===!0?" q-file--dnd":"")),Z=p(()=>i.multiple===!0&&i.append===!0);function Y(W){const M=z.value.slice();M.splice(W,1),O(M)}function ce(W){const M=z.value.indexOf(W);M!==-1&&Y(M)}function O(W){s("update:modelValue",i.multiple===!0?W:W[0])}function V(W){W.keyCode===13&&Ct(W)}function H(W){(W.keyCode===13||W.keyCode===32)&&C(W)}function T(){return u.value}function ue(W,M){const te=D(W,M,z.value,Z.value),$=T();$!=null&&($.value=""),te!==void 0&&((i.multiple===!0?i.modelValue&&te.every(y=>z.value.includes(y)):i.modelValue===te[0])||O(Z.value===!0?z.value.concat(te):te))}function ae(){return[S("input",{class:[i.inputClass,"q-file__filler"],style:i.inputStyle})]}function ye(){if(r.file!==void 0)return z.value.length===0?ae():z.value.map((M,te)=>r.file({index:te,file:M,ref:this}));if(r.selected!==void 0)return z.value.length===0?ae():r.selected({files:z.value,ref:this});if(i.useChips===!0)return z.value.length===0?ae():z.value.map((M,te)=>S(Fr,{key:"file-"+te,removable:h.editable.value,dense:!0,textColor:i.color,tabindex:i.tabindex,onRemove:()=>{Y(te)}},()=>S("span",{class:"ellipsis",textContent:M.name})));const W=i.displayValue!==void 0?i.displayValue:le.value;return W.length!==0?[S("div",{class:i.inputClass,style:i.inputStyle,textContent:W})]:ae()}function ee(){const W={ref:u,...N.value,...E.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:ue};return i.multiple===!0&&(W.multiple=!0),S("input",W)}return Object.assign(h,{fieldClass:Q,emitValue:O,hasValue:I,inputRef:u,innerValue:z,floatingLabel:p(()=>I.value===!0||gi(i.displayValue)),computedCounter:p(()=>{if(i.counterLabel!==void 0)return i.counterLabel(R.value);const W=i.maxFiles;return`${z.value.length}${W!==void 0?" / "+W:""} (${A.value})`}),getControlChild:()=>x("file"),getControl:()=>{const W={ref:h.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:i.tabindex};return h.editable.value===!0&&Object.assign(W,{onDragover:m,onDragleave:w,onKeydown:V,onKeyup:H}),S("div",W,[ee()].concat(ye()))}}),Object.assign(d,{removeAtIndex:Y,removeFile:ce,getNativeElement:()=>u.value}),Qt(d,"nativeEl",()=>u.value),ro(h)}}),xc=Ae({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(i,{slots:r}){const{proxy:{$q:s}}=Ce(),c=Wo(Sl,Ii);if(c===Ii)return console.error("QPage needs to be a deep child of QLayout"),Ii;if(Wo(Pl,Ii)===Ii)return console.error("QPage needs to be child of QPageContainer"),Ii;const h=p(()=>{const _=(c.header.space===!0?c.header.size:0)+(c.footer.space===!0?c.footer.size:0);if(typeof i.styleFn=="function"){const g=c.isContainer.value===!0?c.containerHeight.value:s.screen.height;return i.styleFn(_,g)}return{minHeight:c.isContainer.value===!0?c.containerHeight.value-_+"px":s.screen.height===0?_!==0?`calc(100vh - ${_}px)`:"100vh":s.screen.height-_+"px"}}),u=p(()=>`q-page${i.padding===!0?" q-layout-padding":""}`);return()=>S("main",{class:u.value,style:h.value},He(r.default))}});function xr(i){if(i===!1)return 0;if(i===!0||i===void 0)return 1;const r=parseInt(i,10);return isNaN(r)?0:r}var Sr=Cl({name:"close-popup",beforeMount(i,{value:r}){const s={depth:xr(r),handler(c){s.depth!==0&&setTimeout(()=>{const d=du(i);d!==void 0&&hu(d,c,s.depth)})},handlerKey(c){fn(c,13)===!0&&s.handler(c)}};i.__qclosepopup=s,i.addEventListener("click",s.handler),i.addEventListener("keyup",s.handlerKey)},updated(i,{value:r,oldValue:s}){r!==s&&(i.__qclosepopup.depth=xr(r))},beforeUnmount(i){const r=i.__qclosepopup;i.removeEventListener("click",r.handler),i.removeEventListener("keyup",r.handlerKey),delete i.__qclosepopup}});var Sc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},eo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,r){(function(s,c){c(r)})(Sc,function(s){var c="1.9.4";function d(e){var t,n,o,a;for(n=1,o=arguments.length;n<o;n++){a=arguments[n];for(t in a)e[t]=a[t]}return e}var h=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function u(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var o=n.call(arguments,2);return function(){return e.apply(t,o.length?o.concat(n.call(arguments)):arguments)}}var _=0;function g(e){return"_leaflet_id"in e||(e._leaflet_id=++_),e._leaflet_id}function C(e,t,n){var o,a,l,f;return f=function(){o=!1,a&&(l.apply(n,a),a=!1)},l=function(){o?a=arguments:(e.apply(n,arguments),setTimeout(f,t),o=!0)},l}function m(e,t,n){var o=t[1],a=t[0],l=o-a;return e===o&&n?e:((e-a)%l+l)%l+a}function w(){return!1}function D(e,t){if(t===!1)return e;var n=Math.pow(10,t===void 0?6:t);return Math.round(e*n)/n}function x(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E(e){return x(e).split(/\s+/)}function z(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?h(e.options):{});for(var n in t)e.options[n]=t[n];return e.options}function I(e,t,n){var o=[];for(var a in e)o.push(encodeURIComponent(n?a.toUpperCase():a)+"="+encodeURIComponent(e[a]));return(!t||t.indexOf("?")===-1?"?":"&")+o.join("&")}var le=/\{ *([\w_ -]+) *\}/g;function A(e,t){return e.replace(le,function(n,o){var a=t[o];if(a===void 0)throw new Error("No value provided for variable "+n);return typeof a=="function"&&(a=a(t)),a})}var R=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function N(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Y=0;function ce(e){var t=+new Date,n=Math.max(0,16-(t-Y));return Y=t+n,window.setTimeout(e,n)}var O=window.requestAnimationFrame||Z("RequestAnimationFrame")||ce,V=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function H(e,t,n){if(n&&O===ce)e.call(t);else return O.call(window,u(e,t))}function T(e){e&&V.call(window,e)}var ue={__proto__:null,extend:d,create:h,bind:u,get lastId(){return _},stamp:g,throttle:C,wrapNum:m,falseFn:w,formatNum:D,trim:x,splitWords:E,setOptions:z,getParamString:I,template:A,isArray:R,indexOf:N,emptyImageUrl:Q,requestFn:O,cancelFn:V,requestAnimFrame:H,cancelAnimFrame:T};function ae(){}ae.extend=function(e){var t=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=t.__super__=this.prototype,o=h(n);o.constructor=t,t.prototype=o;for(var a in this)Object.prototype.hasOwnProperty.call(this,a)&&a!=="prototype"&&a!=="__super__"&&(t[a]=this[a]);return e.statics&&d(t,e.statics),e.includes&&(ye(e.includes),d.apply(null,[o].concat(e.includes))),d(o,e),delete o.statics,delete o.includes,o.options&&(o.options=n.options?h(n.options):{},d(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var l=0,f=o._initHooks.length;l<f;l++)o._initHooks[l].call(this)}},t},ae.include=function(e){var t=this.prototype.options;return d(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},ae.mergeOptions=function(e){return d(this.prototype.options,e),this},ae.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function ye(e){if(!(typeof L=="undefined"||!L||!L.Mixin)){e=R(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ee={on:function(e,t,n){if(typeof e=="object")for(var o in e)this._on(o,e[o],t);else{e=E(e);for(var a=0,l=e.length;a<l;a++)this._on(e[a],t,n)}return this},off:function(e,t,n){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var o in e)this._off(o,e[o],t);else{e=E(e);for(var a=arguments.length===1,l=0,f=e.length;l<f;l++)a?this._off(e[l]):this._off(e[l],t,n)}return this},_on:function(e,t,n,o){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,n)===!1){n===this&&(n=void 0);var a={fn:t,ctx:n};o&&(a.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(a)}},_off:function(e,t,n){var o,a,l;if(!!this._events&&(o=this._events[e],!!o)){if(arguments.length===1){if(this._firingCount)for(a=0,l=o.length;a<l;a++)o[a].fn=w;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var f=this._listens(e,t,n);if(f!==!1){var P=o[f];this._firingCount&&(P.fn=w,this._events[e]=o=o.slice()),o.splice(f,1)}}},fire:function(e,t,n){if(!this.listens(e,n))return this;var o=d({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var l=0,f=a.length;l<f;l++){var P=a[l],k=P.fn;P.once&&this.off(e,k,P.ctx),k.call(P.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(e,t,n,o){typeof e!="string"&&console.warn('"string" type argument expected');var a=t;typeof t!="function"&&(o=!!t,a=void 0,n=void 0);var l=this._events&&this._events[e];if(l&&l.length&&this._listens(e,a,n)!==!1)return!0;if(o){for(var f in this._eventParents)if(this._eventParents[f].listens(e,t,n,o))return!0}return!1},_listens:function(e,t,n){if(!this._events)return!1;var o=this._events[e]||[];if(!t)return!!o.length;n===this&&(n=void 0);for(var a=0,l=o.length;a<l;a++)if(o[a].fn===t&&o[a].ctx===n)return a;return!1},once:function(e,t,n){if(typeof e=="object")for(var o in e)this._on(o,e[o],t,!0);else{e=E(e);for(var a=0,l=e.length;a<l;a++)this._on(e[a],t,n,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[g(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[g(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,d({layer:e.target,propagatedFrom:e.target},e),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var W=ae.extend(ee);function M(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var te=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};M.prototype={clone:function(){return new M(this.x,this.y)},add:function(e){return this.clone()._add($(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract($(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new M(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new M(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(e){e=$(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=$(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=$(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function $(e,t,n){return e instanceof M?e:R(e)?new M(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new M(e.x,e.y):new M(e,t,n)}function y(e,t){if(!!e)for(var n=t?[e,t]:e,o=0,a=n.length;o<a;o++)this.extend(n[o])}y.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof M||typeof e[0]=="number"||"x"in e)t=n=$(e);else if(e=b(e),t=e.min,n=e.max,!t||!n)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=n.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(e){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return typeof e[0]=="number"||e instanceof M?e=$(e):e=b(e),e instanceof y?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=b(e);var t=this.min,n=this.max,o=e.min,a=e.max,l=a.x>=t.x&&o.x<=n.x,f=a.y>=t.y&&o.y<=n.y;return l&&f},overlaps:function(e){e=b(e);var t=this.min,n=this.max,o=e.min,a=e.max,l=a.x>t.x&&o.x<n.x,f=a.y>t.y&&o.y<n.y;return l&&f},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,n=this.max,o=Math.abs(t.x-n.x)*e,a=Math.abs(t.y-n.y)*e;return b($(t.x-o,t.y-a),$(n.x+o,n.y+a))},equals:function(e){return e?(e=b(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function b(e,t){return!e||e instanceof y?e:new y(e,t)}function U(e,t){if(!!e)for(var n=t?[e,t]:e,o=0,a=n.length;o<a;o++)this.extend(n[o])}U.prototype={extend:function(e){var t=this._southWest,n=this._northEast,o,a;if(e instanceof ne)o=e,a=e;else if(e instanceof U){if(o=e._southWest,a=e._northEast,!o||!a)return this}else return e?this.extend(q(e)||re(e)):this;return!t&&!n?(this._southWest=new ne(o.lat,o.lng),this._northEast=new ne(a.lat,a.lng)):(t.lat=Math.min(o.lat,t.lat),t.lng=Math.min(o.lng,t.lng),n.lat=Math.max(a.lat,n.lat),n.lng=Math.max(a.lng,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,o=Math.abs(t.lat-n.lat)*e,a=Math.abs(t.lng-n.lng)*e;return new U(new ne(t.lat-o,t.lng-a),new ne(n.lat+o,n.lng+a))},getCenter:function(){return new ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ne||"lat"in e?e=q(e):e=re(e);var t=this._southWest,n=this._northEast,o,a;return e instanceof U?(o=e.getSouthWest(),a=e.getNorthEast()):o=a=e,o.lat>=t.lat&&a.lat<=n.lat&&o.lng>=t.lng&&a.lng<=n.lng},intersects:function(e){e=re(e);var t=this._southWest,n=this._northEast,o=e.getSouthWest(),a=e.getNorthEast(),l=a.lat>=t.lat&&o.lat<=n.lat,f=a.lng>=t.lng&&o.lng<=n.lng;return l&&f},overlaps:function(e){e=re(e);var t=this._southWest,n=this._northEast,o=e.getSouthWest(),a=e.getNorthEast(),l=a.lat>t.lat&&o.lat<n.lat,f=a.lng>t.lng&&o.lng<n.lng;return l&&f},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=re(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(e,t){return e instanceof U?e:new U(e,t)}function ne(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,n!==void 0&&(this.alt=+n)}ne.prototype={equals:function(e,t){if(!e)return!1;e=q(e);var n=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return n<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+D(this.lat,e)+", "+D(this.lng,e)+")"},distanceTo:function(e){return ge.distance(this,q(e))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return re([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new ne(this.lat,this.lng,this.alt)}};function q(e,t,n){return e instanceof ne?e:R(e)&&typeof e[0]!="object"?e.length===3?new ne(e[0],e[1],e[2]):e.length===2?new ne(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ne(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new ne(e,t,n)}var G={latLngToPoint:function(e,t){var n=this.projection.project(e),o=this.scale(t);return this.transformation._transform(n,o)},pointToLatLng:function(e,t){var n=this.scale(t),o=this.transformation.untransform(e,n);return this.projection.unproject(o)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e),o=this.transformation.transform(t.min,n),a=this.transformation.transform(t.max,n);return new y(o,a)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?m(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?m(e.lat,this.wrapLat,!0):e.lat,o=e.alt;return new ne(n,t,o)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),o=t.lat-n.lat,a=t.lng-n.lng;if(o===0&&a===0)return e;var l=e.getSouthWest(),f=e.getNorthEast(),P=new ne(l.lat-o,l.lng-a),k=new ne(f.lat-o,f.lng-a);return new U(P,k)}},ge=d({},G,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,o=e.lat*n,a=t.lat*n,l=Math.sin((t.lat-e.lat)*n/2),f=Math.sin((t.lng-e.lng)*n/2),P=l*l+Math.cos(o)*Math.cos(a)*f*f,k=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*k}}),K=6378137,ke={R:K,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,e.lat),-n),a=Math.sin(o*t);return new M(this.R*e.lng*t,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(e){var t=180/Math.PI;return new ne((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=K*Math.PI;return new y([-e,-e],[e,e])}()};function $e(e,t,n,o){if(R(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=n,this._d=o}$e.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new M((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function at(e,t,n,o){return new $e(e,t,n,o)}var We=d({},ge,{code:"EPSG:3857",projection:ke,transformation:function(){var e=.5/(Math.PI*ke.R);return at(e,.5,-e,.5)}()}),Mt=d({},We,{code:"EPSG:900913"});function rt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function st(e,t){var n="",o,a,l,f,P,k;for(o=0,l=e.length;o<l;o++){for(P=e[o],a=0,f=P.length;a<f;a++)k=P[a],n+=(a?"L":"M")+k.x+" "+k.y;n+=t?se.svg?"z":"x":""}return n||"M0 0"}var mt=document.documentElement.style,vt="ActiveXObject"in window,ii=vt&&!document.addEventListener,Et="msLaunchUri"in navigator&&!("documentMode"in document),tt=Qe("webkit"),Ue=Qe("android"),wt=Qe("android 2")||Qe("android 3"),Vt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pi=Ue&&Qe("Google")&&Vt<537&&!("AudioNode"in window),Yt=!!window.opera,Dt=!Et&&Qe("chrome"),yi=Qe("gecko")&&!tt&&!Yt&&!vt,bi=!Dt&&Qe("safari"),lt=Qe("phantom"),it="OTransition"in mt,dt=navigator.platform.indexOf("Win")===0,wi=vt&&"transition"in mt,zt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!wt,Ft="MozPerspective"in mt,xi=!window.L_DISABLE_3D&&(wi||zt||Ft)&&!it&&!lt,_t=typeof orientation!="undefined"||Qe("mobile"),ni=_t&&tt,Zt=_t&&zt,oi=!window.PointerEvent&&window.MSPointerEvent,ai=!!(window.PointerEvent||oi),Si="ontouchstart"in window||!!window.TouchEvent,$i=!window.L_NO_TOUCH&&(Si||ai),Pi=_t&&Yt,B=_t&&yi,oe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,he=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",w,t),window.removeEventListener("testPassiveEventSupport",w,t)}catch{}return e}(),me=function(){return!!document.createElement("canvas").getContext}(),ve=!!(document.createElementNS&&rt("svg").createSVGRect),Be=!!ve&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Me=!ve&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch{return!1}}(),ht=navigator.platform.indexOf("Mac")===0,Ke=navigator.platform.indexOf("Linux")===0;function Qe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var se={ie:vt,ielt9:ii,edge:Et,webkit:tt,android:Ue,android23:wt,androidStock:pi,opera:Yt,chrome:Dt,gecko:yi,safari:bi,phantom:lt,opera12:it,win:dt,ie3d:wi,webkit3d:zt,gecko3d:Ft,any3d:xi,mobile:_t,mobileWebkit:ni,mobileWebkit3d:Zt,msPointer:oi,pointer:ai,touch:$i,touchNative:Si,mobileOpera:Pi,mobileGecko:B,retina:oe,passiveEvents:he,canvas:me,svg:ve,vml:Me,inlineSvg:Be,mac:ht,linux:Ke},Ci=se.msPointer?"MSPointerDown":"pointerdown",vn=se.msPointer?"MSPointerMove":"pointermove",_n=se.msPointer?"MSPointerUp":"pointerup",Nt=se.msPointer?"MSPointerCancel":"pointercancel",Bt={touchstart:Ci,touchmove:vn,touchend:_n,touchcancel:Nt},Ot={touchstart:J,touchmove:X,touchend:X,touchcancel:X},ft={},ki=!1;function lo(e,t,n){return t==="touchstart"&&v(),Ot[t]?(n=Ot[t].bind(this,n),e.addEventListener(Bt[t],n,!1),n):(console.warn("wrong event specified:",t),w)}function gn(e,t,n){if(!Bt[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(Bt[t],n,!1)}function pn(e){ft[e.pointerId]=e}function yn(e){ft[e.pointerId]&&(ft[e.pointerId]=e)}function Wi(e){delete ft[e.pointerId]}function v(){ki||(document.addEventListener(Ci,pn,!0),document.addEventListener(vn,yn,!0),document.addEventListener(_n,Wi,!0),document.addEventListener(Nt,Wi,!0),ki=!0)}function X(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var n in ft)t.touches.push(ft[n]);t.changedTouches=[t],e(t)}}function J(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ye(t),X(e,t)}function _e(e){var t={},n,o;for(o in e)n=e[o],t[o]=n&&n.bind?n.bind(e):n;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var Te=200;function Le(e,t){e.addEventListener("dblclick",t);var n=0,o;function a(l){if(l.detail!==1){o=l.detail;return}if(!(l.pointerType==="mouse"||l.sourceCapabilities&&!l.sourceCapabilities.firesTouchEvents)){var f=ra(l);if(!(f.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!f.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var P=Date.now();P-n<=Te?(o++,o===2&&t(_e(l))):o=1,n=P}}}return e.addEventListener("click",a),{dblclick:t,simDblclick:a}}function je(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var Oe=xn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ht=xn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ia=Ht==="webkitTransition"||Ht==="OTransition"?Ht+"End":"transitionend";function na(e){return typeof e=="string"?document.getElementById(e):e}function ji(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||n==="auto")&&document.defaultView){var o=document.defaultView.getComputedStyle(e,null);n=o?o[t]:null}return n==="auto"?null:n}function Pe(e,t,n){var o=document.createElement(e);return o.className=t||"",n&&n.appendChild(o),o}function qe(e){var t=e.parentNode;t&&t.removeChild(e)}function bn(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Li(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Ti(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function uo(e,t){if(e.classList!==void 0)return e.classList.contains(t);var n=wn(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function be(e,t){if(e.classList!==void 0)for(var n=E(t),o=0,a=n.length;o<a;o++)e.classList.add(n[o]);else if(!uo(e,t)){var l=wn(e);co(e,(l?l+" ":"")+t)}}function De(e,t){e.classList!==void 0?e.classList.remove(t):co(e,x((" "+wn(e)+" ").replace(" "+t+" "," ")))}function co(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function wn(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function gt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&rs(e,t)}function rs(e,t){var n=!1,o="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(o)}catch{if(t===1)return}t=Math.round(t*100),n?(n.Enabled=t!==100,n.Opacity=t):e.style.filter+=" progid:"+o+"(opacity="+t+")"}function xn(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function ri(e,t,n){var o=t||new M(0,0);e.style[Oe]=(se.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")}function Fe(e,t){e._leaflet_pos=t,se.any3d?ri(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function si(e){return e._leaflet_pos||new M(0,0)}var Ui,Ki,ho;if("onselectstart"in document)Ui=function(){pe(window,"selectstart",Ye)},Ki=function(){Ee(window,"selectstart",Ye)};else{var Gi=xn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ui=function(){if(Gi){var e=document.documentElement.style;ho=e[Gi],e[Gi]="none"}},Ki=function(){Gi&&(document.documentElement.style[Gi]=ho,ho=void 0)}}function fo(){pe(window,"dragstart",Ye)}function mo(){Ee(window,"dragstart",Ye)}var Sn,vo;function _o(e){for(;e.tabIndex===-1;)e=e.parentNode;!e.style||(Pn(),Sn=e,vo=e.style.outlineStyle,e.style.outlineStyle="none",pe(window,"keydown",Pn))}function Pn(){!Sn||(Sn.style.outlineStyle=vo,Sn=void 0,vo=void 0,Ee(window,"keydown",Pn))}function oa(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function go(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var ss={__proto__:null,TRANSFORM:Oe,TRANSITION:Ht,TRANSITION_END:ia,get:na,getStyle:ji,create:Pe,remove:qe,empty:bn,toFront:Li,toBack:Ti,hasClass:uo,addClass:be,removeClass:De,setClass:co,getClass:wn,setOpacity:gt,testProp:xn,setTransform:ri,setPosition:Fe,getPosition:si,get disableTextSelection(){return Ui},get enableTextSelection(){return Ki},disableImageDrag:fo,enableImageDrag:mo,preventOutline:_o,restoreOutline:Pn,getSizedParentNode:oa,getScale:go};function pe(e,t,n,o){if(t&&typeof t=="object")for(var a in t)yo(e,a,t[a],n);else{t=E(t);for(var l=0,f=t.length;l<f;l++)yo(e,t[l],n,o)}return this}var At="_leaflet_events";function Ee(e,t,n,o){if(arguments.length===1)aa(e),delete e[At];else if(t&&typeof t=="object")for(var a in t)bo(e,a,t[a],n);else if(t=E(t),arguments.length===2)aa(e,function(P){return N(t,P)!==-1});else for(var l=0,f=t.length;l<f;l++)bo(e,t[l],n,o);return this}function aa(e,t){for(var n in e[At]){var o=n.split(/\d/)[0];(!t||t(o))&&bo(e,o,null,null,n)}}var po={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yo(e,t,n,o){var a=t+g(n)+(o?"_"+g(o):"");if(e[At]&&e[At][a])return this;var l=function(P){return n.call(o||e,P||window.event)},f=l;!se.touchNative&&se.pointer&&t.indexOf("touch")===0?l=lo(e,t,l):se.touch&&t==="dblclick"?l=Le(e,l):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(po[t]||t,l,se.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(l=function(P){P=P||window.event,xo(e,P)&&f(P)},e.addEventListener(po[t],l,!1)):e.addEventListener(t,f,!1):e.attachEvent("on"+t,l),e[At]=e[At]||{},e[At][a]=l}function bo(e,t,n,o,a){a=a||t+g(n)+(o?"_"+g(o):"");var l=e[At]&&e[At][a];if(!l)return this;!se.touchNative&&se.pointer&&t.indexOf("touch")===0?gn(e,t,l):se.touch&&t==="dblclick"?je(e,l):"removeEventListener"in e?e.removeEventListener(po[t]||t,l,!1):e.detachEvent("on"+t,l),e[At][a]=null}function li(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function wo(e){return yo(e,"wheel",li),this}function Qi(e){return pe(e,"mousedown touchstart dblclick contextmenu",li),e._leaflet_disable_click=!0,this}function Ye(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function ui(e){return Ye(e),li(e),this}function ra(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function sa(e,t){if(!t)return new M(e.clientX,e.clientY);var n=go(t),o=n.boundingClientRect;return new M((e.clientX-o.left)/n.x-t.clientLeft,(e.clientY-o.top)/n.y-t.clientTop)}var ls=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function la(e){return se.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/ls:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function xo(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch{return!1}return n!==e}var us={__proto__:null,on:pe,off:Ee,stopPropagation:li,disableScrollPropagation:wo,disableClickPropagation:Qi,preventDefault:Ye,stop:ui,getPropagationPath:ra,getMousePosition:sa,getWheelDelta:la,isExternalTarget:xo,addListener:pe,removeListener:Ee},ua=W.extend({run:function(e,t,n,o){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=si(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=this._duration*1e3;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Fe(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Se=W.extend({options:{crs:We,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=z(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(q(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ht&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pe(this._proxy,ia,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(q(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom=d({animate:n.animate},n.zoom),n.pan=d({animate:n.animate,duration:n.duration},n.pan));var o=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,n.pan&&n.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var o=this.getZoomScale(t),a=this.getSize().divideBy(2),l=e instanceof M?e:this.latLngToContainerPoint(e),f=l.subtract(a).multiplyBy(1-1/o),P=this.containerPointToLatLng(a.add(f));return this.setView(P,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():re(e);var n=$(t.paddingTopLeft||t.padding||[0,0]),o=$(t.paddingBottomRight||t.padding||[0,0]),a=this.getBoundsZoom(e,!1,n.add(o));if(a=typeof t.maxZoom=="number"?Math.min(t.maxZoom,a):a,a===1/0)return{center:e.getCenter(),zoom:a};var l=o.subtract(n).divideBy(2),f=this.project(e.getSouthWest(),a),P=this.project(e.getNorthEast(),a),k=this.unproject(f.add(P).divideBy(2).add(l),a);return{center:k,zoom:a}},fitBounds:function(e,t){if(e=re(e),!e.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=$(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ua,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){be(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(n=n||{},n.animate===!1||!se.any3d)return this.setView(e,t,n);this._stop();var o=this.project(this.getCenter()),a=this.project(e),l=this.getSize(),f=this._zoom;e=q(e),t=t===void 0?f:t;var P=Math.max(l.x,l.y),k=P*this.getZoomScale(f,t),F=a.distanceTo(o)||1,ie=1.42,fe=ie*ie;function xe(Ze){var In=Ze?-1:1,Ys=Ze?k:P,Xs=k*k-P*P+In*fe*fe*F*F,Js=2*Ys*fe*F,Oo=Xs/Js,Ha=Math.sqrt(Oo*Oo+1)-Oo,el=Ha<1e-9?-18:Math.log(Ha);return el}function nt(Ze){return(Math.exp(Ze)-Math.exp(-Ze))/2}function Ge(Ze){return(Math.exp(Ze)+Math.exp(-Ze))/2}function yt(Ze){return nt(Ze)/Ge(Ze)}var ut=xe(0);function Ai(Ze){return P*(Ge(ut)/Ge(ut+ie*Ze))}function Us(Ze){return P*(Ge(ut)*yt(ut+ie*Ze)-nt(ut))/fe}function Ks(Ze){return 1-Math.pow(1-Ze,1.5)}var Gs=Date.now(),Za=(xe(1)-ut)/ie,Qs=n.duration?1e3*n.duration:1e3*Za*.8;function Na(){var Ze=(Date.now()-Gs)/Qs,In=Ks(Ze)*Za;Ze<=1?(this._flyToFrame=H(Na,this),this._move(this.unproject(o.add(a.subtract(o).multiplyBy(Us(In)/F)),f),this.getScaleZoom(P/Ai(In),f),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),Na.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=re(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),o=this._limitCenter(n,this._zoom,re(e));return n.equals(o)||this.panTo(o,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var n=$(t.paddingTopLeft||t.padding||[0,0]),o=$(t.paddingBottomRight||t.padding||[0,0]),a=this.project(this.getCenter()),l=this.project(e),f=this.getPixelBounds(),P=b([f.min.add(n),f.max.subtract(o)]),k=P.getSize();if(!P.contains(l)){this._enforcingBounds=!0;var F=l.subtract(P.getCenter()),ie=P.extend(l).getSize().subtract(k);a.x+=F.x<0?-ie.x:ie.x,a.y+=F.y<0?-ie.y:ie.y,this.panTo(this.unproject(a),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=d({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=t.divideBy(2).round(),a=n.divideBy(2).round(),l=o.subtract(a);return!l.x&&!l.y?this:(e.animate&&e.pan?this.panBy(l):(e.pan&&this._rawPanBy(l),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=d({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=u(this._handleGeolocationResponse,this),n=u(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(!!this._container._leaflet_id){var t=e.code,n=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(!!this._container._leaflet_id){var t=e.coords.latitude,n=e.coords.longitude,o=new ne(t,n),a=o.toBounds(e.coords.accuracy*2),l=this._locateOptions;if(l.setView){var f=this.getBoundsZoom(a);this.setView(o,l.maxZoom?Math.min(f,l.maxZoom):f)}var P={latlng:o,bounds:a,timestamp:e.timestamp};for(var k in e.coords)typeof e.coords[k]=="number"&&(P[k]=e.coords[k]);this.fire("locationfound",P)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)qe(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),o=Pe("div",n,t||this._mapPane);return e&&(this._panes[e]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),n=this.unproject(e.getTopRight());return new U(t,n)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=re(e),n=$(n||[0,0]);var o=this.getZoom()||0,a=this.getMinZoom(),l=this.getMaxZoom(),f=e.getNorthWest(),P=e.getSouthEast(),k=this.getSize().subtract(n),F=b(this.project(P,o),this.project(f,o)).getSize(),ie=se.any3d?this.options.zoomSnap:1,fe=k.x/F.x,xe=k.y/F.y,nt=t?Math.max(fe,xe):Math.min(fe,xe);return o=this.getScaleZoom(nt,o),ie&&(o=Math.round(o/(ie/100))*(ie/100),o=t?Math.ceil(o/ie)*ie:Math.floor(o/ie)*ie),Math.max(a,Math.min(l,o))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new y(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=t===void 0?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=t===void 0?this._zoom:t;var o=n.zoom(e*n.scale(t));return isNaN(o)?1/0:o},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(q(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng($(e),t)},layerPointToLatLng:function(e){var t=$(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(q(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(q(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(re(e))},distance:function(e,t){return this.options.crs.distance(q(e),q(t))},containerPointToLayerPoint:function(e){return $(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return $(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint($(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(e)))},mouseEventToContainerPoint:function(e){return sa(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=na(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pe(t,"scroll",this._onScroll,this),this._containerId=g(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,be(e,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ji(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&t!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fe(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(e.markerPane,"leaflet-zoom-hide"),be(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Fe(this._mapPane,new M(0,0));var o=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var a=this._zoom!==t;this._moveStart(a,n)._move(e,t)._moveEnd(a),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,o){t===void 0&&(t=this._zoom);var a=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),o?n&&n.pinch&&this.fire("zoom",n):((a||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Fe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[g(this._container)]=this;var t=e?Ee:pe;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n=[],o,a=t==="mouseout"||t==="mouseover",l=e.target||e.srcElement,f=!1;l;){if(o=this._targets[g(l)],o&&(t==="click"||t==="preclick")&&this._draggableMoved(o)){f=!0;break}if(o&&o.listens(t,!0)&&(a&&!xo(l,e)||(n.push(o),a))||l===this._container)break;l=l.parentNode}return!n.length&&!f&&!a&&this.listens(t,!0)&&(n=[this]),n},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var n=e.type;n==="mousedown"&&_o(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if(e.type==="click"){var o=d({},e);o.type="preclick",this._fireDOMEvent(o,o.type,n)}var a=this._findEventTargets(e,t);if(n){for(var l=[],f=0;f<n.length;f++)n[f].listens(t,!0)&&l.push(n[f]);a=l.concat(a)}if(!!a.length){t==="contextmenu"&&Ye(e);var P=a[0],k={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var F=P.getLatLng&&(!P._radius||P._radius<=10);k.containerPoint=F?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(e),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=F?P.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(f=0;f<a.length;f++)if(a[f].fire(t,k,!0),k.originalEvent._stopped||a[f].options.bubblingMouseEvents===!1&&N(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return si(this._mapPane)||new M(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var n=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var o=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(o)},_latLngBoundsToNewLayerBounds:function(e,t,n){var o=this._getNewPixelOrigin(n,t);return b([this.project(e.getSouthWest(),t)._subtract(o),this.project(e.getNorthWest(),t)._subtract(o),this.project(e.getSouthEast(),t)._subtract(o),this.project(e.getNorthEast(),t)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var o=this.project(e,t),a=this.getSize().divideBy(2),l=new y(o.subtract(a),o.add(a)),f=this._getBoundsOffset(l,n,t);return Math.abs(f.x)<=1&&Math.abs(f.y)<=1?e:this.unproject(o.add(f),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),o=new y(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(o,t))},_getBoundsOffset:function(e,t,n){var o=b(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),a=o.min.subtract(e.min),l=o.max.subtract(e.max),f=this._rebound(a.x,-l.x),P=this._rebound(a.y,-l.y);return new M(f,P)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),o=se.any3d?this.options.zoomSnap:1;return o&&(e=Math.round(e/o)*o),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){De(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=Pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var n=Oe,o=this._proxy.style[n];ri(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),o===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();ri(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(t),a=this._getCenterOffset(e)._divideBy(1-1/o);return n.animate!==!0&&!this.getSize().contains(a)?!1:(H(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,o){!this._mapPane||(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&De(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function cs(e,t){return new Se(e,t)}var xt=ae.extend({options:{position:"topright"},initialize:function(e){z(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),o=e._controlCorners[n];return be(t,"leaflet-control"),n.indexOf("bottom")!==-1?o.insertBefore(t,o.firstChild):o.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Yi=function(e){return new xt(e)};Se.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=Pe("div",t+"control-container",this._container);function o(a,l){var f=t+a+" "+t+l;e[a+l]=Pe("div",f,n)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)qe(this._controlCorners[e]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ca=xt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,o){return n<o?-1:o<n?1:0}},initialize:function(e,t,n){z(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var o in e)this._addLayer(e[o],o);for(o in t)this._addLayer(t[o],o,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return xt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(g(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):De(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return De(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=Pe("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Qi(t),wo(t);var o=this._section=Pe("section",e+"-list");n&&(this._map.on("click",this.collapse,this),pe(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var a=this._layersLink=Pe("a",e+"-toggle",t);a.href="#",a.title="Layers",a.setAttribute("role","button"),pe(a,{keydown:function(l){l.keyCode===13&&this._expandSafely()},click:function(l){Ye(l),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=Pe("div",e+"-base",o),this._separator=Pe("div",e+"-separator",o),this._overlaysList=Pe("div",e+"-overlays",o),t.appendChild(o)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&g(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(u(function(o,a){return this.options.sortFunction(o.layer,a.layer,o.name,a.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bn(this._baseLayersList),bn(this._overlaysList),this._layerControlInputs=[];var e,t,n,o,a=0;for(n=0;n<this._layers.length;n++)o=this._layers[n],this._addItem(o),t=t||o.overlay,e=e||!o.overlay,a+=o.overlay?0:1;return this.options.hideSingleBase&&(e=e&&a>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(g(e.target)),n=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(e){var t=document.createElement("label"),n=this._map.hasLayer(e.layer),o;e.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=n):o=this._createRadioElement("leaflet-base-layers_"+g(this),n),this._layerControlInputs.push(o),o.layerId=g(e.layer),pe(o,"click",this._onInputClick,this);var a=document.createElement("span");a.innerHTML=" "+e.name;var l=document.createElement("span");t.appendChild(l),l.appendChild(o),l.appendChild(a);var f=e.overlay?this._overlaysList:this._baseLayersList;return f.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,n,o=[],a=[];this._handlingClick=!0;for(var l=e.length-1;l>=0;l--)t=e[l],n=this._getLayer(t.layerId).layer,t.checked?o.push(n):t.checked||a.push(n);for(l=0;l<a.length;l++)this._map.hasLayer(a[l])&&this._map.removeLayer(a[l]);for(l=0;l<o.length;l++)this._map.hasLayer(o[l])||this._map.addLayer(o[l]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,n,o=this._map.getZoom(),a=e.length-1;a>=0;a--)t=e[a],n=this._getLayer(t.layerId).layer,t.disabled=n.options.minZoom!==void 0&&o<n.options.minZoom||n.options.maxZoom!==void 0&&o>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,pe(e,"click",Ye),this.expand();var t=this;setTimeout(function(){Ee(e,"click",Ye),t._preventClick=!1})}}),ds=function(e,t,n){return new ca(e,t,n)},So=xt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=Pe("div",t+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,o,a){var l=Pe("a",n,o);return l.innerHTML=e,l.href="#",l.title=t,l.setAttribute("role","button"),l.setAttribute("aria-label",t),Qi(l),pe(l,"click",ui),pe(l,"click",a,this),pe(l,"click",this._refocusOnMap,this),l},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";De(this._zoomInButton,t),De(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(be(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(be(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new So,this.addControl(this.zoomControl))});var hs=function(e){return new So(e)},da=xt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=Pe("div",t),o=this.options;return this._addScales(o,t+"-line",n),e.on(o.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=Pe("div",t,n)),e.imperial&&(this._iScale=Pe("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t=e*3.2808399,n,o,a;t>5280?(n=t/5280,o=this._getRoundNum(n),this._updateScale(this._iScale,o+" mi",o/n)):(a=this._getRoundNum(t),this._updateScale(this._iScale,a+" ft",a/t))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),fs=function(e){return new da(e)},ms='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Po=xt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?ms+" ":"")+"Leaflet</a>"},initialize:function(e){z(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Pe("div","leaflet-control-attribution"),Qi(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(!!this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new Po().addTo(this)});var vs=function(e){return new Po(e)};xt.Layers=ca,xt.Zoom=So,xt.Scale=da,xt.Attribution=Po,Yi.layers=ds,Yi.zoom=hs,Yi.scale=fs,Yi.attribution=vs;var qt=ae.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qt.addTo=function(e,t){return e.addHandler(t,this),this};var _s={Events:ee},ha=se.touch?"touchstart mousedown":"mousedown",Xt=W.extend({options:{clickTolerance:3},initialize:function(e,t,n,o){z(this,o),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(pe(this._dragStartTarget,ha,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Xt._dragging===this&&this.finishDrag(!0),Ee(this._dragStartTarget,ha,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!!this._enabled&&(this._moved=!1,!uo(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Xt._dragging===this&&this.finishDrag();return}if(!(Xt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Xt._dragging=this,this._preventOutline&&_o(this._element),fo(),Ui(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=oa(this._element);this._startPoint=new M(t.clientX,t.clientY),this._startPos=si(this._element),this._parentScale=go(n);var o=e.type==="mousedown";pe(document,o?"mousemove":"touchmove",this._onMove,this),pe(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(!!this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,n=new M(t.clientX,t.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ye(e),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Fe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(e){De(document.body,"leaflet-dragging"),this._lastTarget&&(De(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ee(document,"mousemove touchmove",this._onMove,this),Ee(document,"mouseup touchend touchcancel",this._onUp,this),mo(),Ki();var t=this._moved&&this._moving;this._moving=!1,Xt._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function fa(e,t,n){var o,a=[1,4,2,8],l,f,P,k,F,ie,fe,xe;for(l=0,ie=e.length;l<ie;l++)e[l]._code=ci(e[l],t);for(P=0;P<4;P++){for(fe=a[P],o=[],l=0,ie=e.length,f=ie-1;l<ie;f=l++)k=e[l],F=e[f],k._code&fe?F._code&fe||(xe=Cn(F,k,fe,t,n),xe._code=ci(xe,t),o.push(xe)):(F._code&fe&&(xe=Cn(F,k,fe,t,n),xe._code=ci(xe,t),o.push(xe)),o.push(k));e=o}return e}function ma(e,t){var n,o,a,l,f,P,k,F,ie;if(!e||e.length===0)throw new Error("latlngs not passed");pt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var fe=q([0,0]),xe=re(e),nt=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());nt<1700&&(fe=Co(e));var Ge=e.length,yt=[];for(n=0;n<Ge;n++){var ut=q(e[n]);yt.push(t.project(q([ut.lat-fe.lat,ut.lng-fe.lng])))}for(P=k=F=0,n=0,o=Ge-1;n<Ge;o=n++)a=yt[n],l=yt[o],f=a.y*l.x-l.y*a.x,k+=(a.x+l.x)*f,F+=(a.y+l.y)*f,P+=f*3;P===0?ie=yt[0]:ie=[k/P,F/P];var Ai=t.unproject($(ie));return q([Ai.lat+fe.lat,Ai.lng+fe.lng])}function Co(e){for(var t=0,n=0,o=0,a=0;a<e.length;a++){var l=q(e[a]);t+=l.lat,n+=l.lng,o++}return q([t/o,n/o])}var gs={__proto__:null,clipPolygon:fa,polygonCenter:ma,centroid:Co};function va(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=bs(e,n),e=ys(e,n),e}function _a(e,t,n){return Math.sqrt(Xi(e,t,n,!0))}function ps(e,t,n){return Xi(e,t,n)}function ys(e,t){var n=e.length,o=typeof Uint8Array!=void 0+""?Uint8Array:Array,a=new o(n);a[0]=a[n-1]=1,ko(e,a,t,0,n-1);var l,f=[];for(l=0;l<n;l++)a[l]&&f.push(e[l]);return f}function ko(e,t,n,o,a){var l=0,f,P,k;for(P=o+1;P<=a-1;P++)k=Xi(e[P],e[o],e[a],!0),k>l&&(f=P,l=k);l>n&&(t[f]=1,ko(e,t,n,o,f),ko(e,t,n,f,a))}function bs(e,t){for(var n=[e[0]],o=1,a=0,l=e.length;o<l;o++)ws(e[o],e[a])>t&&(n.push(e[o]),a=o);return a<l-1&&n.push(e[l-1]),n}var ga;function pa(e,t,n,o,a){var l=o?ga:ci(e,n),f=ci(t,n),P,k,F;for(ga=f;;){if(!(l|f))return[e,t];if(l&f)return!1;P=l||f,k=Cn(e,t,P,n,a),F=ci(k,n),P===l?(e=k,l=F):(t=k,f=F)}}function Cn(e,t,n,o,a){var l=t.x-e.x,f=t.y-e.y,P=o.min,k=o.max,F,ie;return n&8?(F=e.x+l*(k.y-e.y)/f,ie=k.y):n&4?(F=e.x+l*(P.y-e.y)/f,ie=P.y):n&2?(F=k.x,ie=e.y+f*(k.x-e.x)/l):n&1&&(F=P.x,ie=e.y+f*(P.x-e.x)/l),new M(F,ie,a)}function ci(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function ws(e,t){var n=t.x-e.x,o=t.y-e.y;return n*n+o*o}function Xi(e,t,n,o){var a=t.x,l=t.y,f=n.x-a,P=n.y-l,k=f*f+P*P,F;return k>0&&(F=((e.x-a)*f+(e.y-l)*P)/k,F>1?(a=n.x,l=n.y):F>0&&(a+=f*F,l+=P*F)),f=e.x-a,P=e.y-l,o?f*f+P*P:new M(a,l)}function pt(e){return!R(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]!="undefined"}function ya(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pt(e)}function ba(e,t){var n,o,a,l,f,P,k,F;if(!e||e.length===0)throw new Error("latlngs not passed");pt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var ie=q([0,0]),fe=re(e),xe=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());xe<1700&&(ie=Co(e));var nt=e.length,Ge=[];for(n=0;n<nt;n++){var yt=q(e[n]);Ge.push(t.project(q([yt.lat-ie.lat,yt.lng-ie.lng])))}for(n=0,o=0;n<nt-1;n++)o+=Ge[n].distanceTo(Ge[n+1])/2;if(o===0)F=Ge[0];else for(n=0,l=0;n<nt-1;n++)if(f=Ge[n],P=Ge[n+1],a=f.distanceTo(P),l+=a,l>o){k=(l-o)/a,F=[P.x-k*(P.x-f.x),P.y-k*(P.y-f.y)];break}var ut=t.unproject($(F));return q([ut.lat+ie.lat,ut.lng+ie.lng])}var xs={__proto__:null,simplify:va,pointToSegmentDistance:_a,closestPointOnSegment:ps,clipSegment:pa,_getEdgeIntersection:Cn,_getBitCode:ci,_sqClosestPointOnSegment:Xi,isFlat:pt,_flat:ya,polylineCenter:ba},Lo={project:function(e){return new M(e.lng,e.lat)},unproject:function(e){return new ne(e.y,e.x)},bounds:new y([-180,-90],[180,90])},To={R:6378137,R_MINOR:6356752314245179e-9,bounds:new y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,n=this.R,o=e.lat*t,a=this.R_MINOR/n,l=Math.sqrt(1-a*a),f=l*Math.sin(o),P=Math.tan(Math.PI/4-o/2)/Math.pow((1-f)/(1+f),l/2);return o=-n*Math.log(Math.max(P,1e-10)),new M(e.lng*t*n,o)},unproject:function(e){for(var t=180/Math.PI,n=this.R,o=this.R_MINOR/n,a=Math.sqrt(1-o*o),l=Math.exp(-e.y/n),f=Math.PI/2-2*Math.atan(l),P=0,k=.1,F;P<15&&Math.abs(k)>1e-7;P++)F=a*Math.sin(f),F=Math.pow((1-F)/(1+F),a/2),k=Math.PI/2-2*Math.atan(l*F)-f,f+=k;return new ne(f*t,e.x*t/n)}},Ss={__proto__:null,LonLat:Lo,Mercator:To,SphericalMercator:ke},Ps=d({},ge,{code:"EPSG:3395",projection:To,transformation:function(){var e=.5/(Math.PI*To.R);return at(e,.5,-e,.5)}()}),wa=d({},ge,{code:"EPSG:4326",projection:Lo,transformation:at(1/180,1,-1/180,.5)}),Cs=d({},G,{projection:Lo,transformation:at(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,o=t.lat-e.lat;return Math.sqrt(n*n+o*o)},infinite:!0});G.Earth=ge,G.EPSG3395=Ps,G.EPSG3857=We,G.EPSG900913=Mt,G.EPSG4326=wa,G.Simple=Cs;var St=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[g(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[g(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(!!t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=g(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=g(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return g(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?R(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[g(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=g(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var a=this._zoomBoundLayers[o].options;e=a.minZoom===void 0?e:Math.min(e,a.minZoom),t=a.maxZoom===void 0?t:Math.max(t,a.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mi=St.extend({initialize:function(e,t){z(this,t),this._layers={};var n,o;if(e)for(n=0,o=e.length;n<o;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),n,o;for(n in this._layers)o=this._layers[n],o[e]&&o[e].apply(o,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return g(e)}}),ks=function(e,t){return new Mi(e,t)},$t=Mi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Mi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Mi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new U;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Ls=function(e,t){return new $t(e,t)},Ei=ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){z(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(n,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(o,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o},_setIconStyles:function(e,t){var n=this.options,o=n[t+"Size"];typeof o=="number"&&(o=[o,o]);var a=$(o),l=$(t==="shadow"&&n.shadowAnchor||n.iconAnchor||a&&a.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),l&&(e.style.marginLeft=-l.x+"px",e.style.marginTop=-l.y+"px"),a&&(e.style.width=a.x+"px",e.style.height=a.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return se.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Ts(e){return new Ei(e)}var Ji=Ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Ji.imagePath!="string"&&(Ji.imagePath=this._detectIconPath()),(this.options.imagePath||Ji.imagePath)+Ei.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(n,o,a){var l=o.exec(n);return l&&l[a]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Pe("div","leaflet-default-icon-path",document.body),t=ji(e,"background-image")||ji(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),xa=qt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Xt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&De(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,o=this._marker.options.autoPanSpeed,a=this._marker.options.autoPanPadding,l=si(t._icon),f=n.getPixelBounds(),P=n.getPixelOrigin(),k=b(f.min._subtract(P).add(a),f.max._subtract(P).subtract(a));if(!k.contains(l)){var F=$((Math.max(k.max.x,l.x)-k.max.x)/(f.max.x-k.max.x)-(Math.min(k.min.x,l.x)-k.min.x)/(f.min.x-k.min.x),(Math.max(k.max.y,l.y)-k.max.y)/(f.max.y-k.max.y)-(Math.min(k.min.y,l.y)-k.min.y)/(f.min.y-k.min.y)).multiplyBy(o);n.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),Fe(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=H(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,o=si(t._icon),a=t._map.layerPointToLatLng(o);n&&Fe(n,o),t._latlng=a,e.latlng=a,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),kn=St.extend({options:{icon:new Ji,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){z(this,t),this._latlng=q(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=q(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,e.title&&(n.title=e.title),n.tagName==="IMG"&&(n.alt=e.alt||"")),be(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pe(n,"focus",this._panOnFocus,this);var a=e.icon.createShadow(this._shadow),l=!1;a!==this._shadow&&(this._removeShadow(),l=!0),a&&(be(a,t),a.alt=""),this._shadow=a,e.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&l&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Fe(this._icon,e),this._shadow&&Fe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(!!this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xa)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xa(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&gt(this._icon,e),this._shadow&&gt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(!!e){var t=this.options.icon.options,n=t.iconSize?$(t.iconSize):$(0,0),o=t.iconAnchor?$(t.iconAnchor):$(0,0);e.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:n.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ms(e,t){return new kn(e,t)}var Jt=St.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return z(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ln=Jt.extend({options:{fill:!0,radius:10},initialize:function(e,t){z(this,t),this._latlng=q(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=q(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Jt.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),o=[e+n,t+n];this._pxBounds=new y(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Es(e,t){return new Ln(e,t)}var Mo=Ln.extend({initialize:function(e,t,n){if(typeof t=="number"&&(t=d({},n,{radius:t})),z(this,t),this._latlng=q(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new U(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Jt.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,o=n.options.crs;if(o.distance===ge.distance){var a=Math.PI/180,l=this._mRadius/ge.R/a,f=n.project([t+l,e]),P=n.project([t-l,e]),k=f.add(P).divideBy(2),F=n.unproject(k).lat,ie=Math.acos((Math.cos(l*a)-Math.sin(t*a)*Math.sin(F*a))/(Math.cos(t*a)*Math.cos(F*a)))/a;(isNaN(ie)||ie===0)&&(ie=l/Math.cos(Math.PI/180*t)),this._point=k.subtract(n.getPixelOrigin()),this._radius=isNaN(ie)?0:k.x-n.project([F,e-ie]).x,this._radiusY=k.y-f.y}else{var fe=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(fe).x}this._updateBounds()}});function zs(e,t,n){return new Mo(e,t,n)}var Wt=Jt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){z(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,n=null,o=Xi,a,l,f=0,P=this._parts.length;f<P;f++)for(var k=this._parts[f],F=1,ie=k.length;F<ie;F++){a=k[F-1],l=k[F];var fe=o(e,a,l,!0);fe<t&&(t=fe,n=o(e,a,l))}return n&&(n.distance=Math.sqrt(t)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ba(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=q(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new U,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=pt(e),o=0,a=e.length;o<a;o++)n?(t[o]=q(e[o]),this._bounds.extend(t[o])):t[o]=this._convertLatLngs(e[o]);return t},_project:function(){var e=new y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new M(e,e);!this._rawPxBounds||(this._pxBounds=new y([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var o=e[0]instanceof ne,a=e.length,l,f;if(o){for(f=[],l=0;l<a;l++)f[l]=this._map.latLngToLayerPoint(e[l]),n.extend(f[l]);t.push(f)}else for(l=0;l<a;l++)this._projectLatlngs(e[l],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,n,o,a,l,f,P,k;for(n=0,a=0,l=this._rings.length;n<l;n++)for(k=this._rings[n],o=0,f=k.length;o<f-1;o++)P=pa(k[o],k[o+1],e,o,!0),P&&(t[a]=t[a]||[],t[a].push(P[0]),(P[1]!==k[o+1]||o===f-2)&&(t[a].push(P[1]),a++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,o=e.length;n<o;n++)e[n]=va(e[n],t)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,o,a,l,f,P,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,l=this._parts.length;n<l;n++)for(P=this._parts[n],o=0,f=P.length,a=f-1;o<f;a=o++)if(!(!t&&o===0)&&_a(e,P[a],P[o])<=k)return!0;return!1}});function Bs(e,t){return new Wt(e,t)}Wt._flat=ya;var zi=Wt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ma(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=Wt.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof ne&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Wt.prototype._setLatLngs.call(this,e),pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new M(t,t);if(e=new y(e.min.subtract(n),e.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var o=0,a=this._rings.length,l;o<a;o++)l=fa(this._rings[o],e,!0),l.length&&this._parts.push(l)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,n,o,a,l,f,P,k,F;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(l=0,k=this._parts.length;l<k;l++)for(n=this._parts[l],f=0,F=n.length,P=F-1;f<F;P=f++)o=n[f],a=n[P],o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(t=!t);return t||Wt.prototype._containsPoint.call(this,e,!0)}});function Os(e,t){return new zi(e,t)}var jt=$t.extend({initialize:function(e,t){z(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=R(e)?e:e.features,n,o,a;if(t){for(n=0,o=t.length;n<o;n++)a=t[n],(a.geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var l=this.options;if(l.filter&&!l.filter(e))return this;var f=Tn(e,l);return f?(f.feature=zn(e),f.defaultOptions=f.options,this.resetStyle(f),l.onEachFeature&&l.onEachFeature(e,f),this.addLayer(f)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=d({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function Tn(e,t){var n=e.type==="Feature"?e.geometry:e,o=n?n.coordinates:null,a=[],l=t&&t.pointToLayer,f=t&&t.coordsToLatLng||Eo,P,k,F,ie;if(!o&&!n)return null;switch(n.type){case"Point":return P=f(o),Sa(l,e,P,t);case"MultiPoint":for(F=0,ie=o.length;F<ie;F++)P=f(o[F]),a.push(Sa(l,e,P,t));return new $t(a);case"LineString":case"MultiLineString":return k=Mn(o,n.type==="LineString"?0:1,f),new Wt(k,t);case"Polygon":case"MultiPolygon":return k=Mn(o,n.type==="Polygon"?1:2,f),new zi(k,t);case"GeometryCollection":for(F=0,ie=n.geometries.length;F<ie;F++){var fe=Tn({geometry:n.geometries[F],type:"Feature",properties:e.properties},t);fe&&a.push(fe)}return new $t(a);case"FeatureCollection":for(F=0,ie=n.features.length;F<ie;F++){var xe=Tn(n.features[F],t);xe&&a.push(xe)}return new $t(a);default:throw new Error("Invalid GeoJSON object.")}}function Sa(e,t,n,o){return e?e(t,n):new kn(n,o&&o.markersInheritOptions&&o)}function Eo(e){return new ne(e[1],e[0],e[2])}function Mn(e,t,n){for(var o=[],a=0,l=e.length,f;a<l;a++)f=t?Mn(e[a],t-1,n):(n||Eo)(e[a]),o.push(f);return o}function zo(e,t){return e=q(e),e.alt!==void 0?[D(e.lng,t),D(e.lat,t),D(e.alt,t)]:[D(e.lng,t),D(e.lat,t)]}function En(e,t,n,o){for(var a=[],l=0,f=e.length;l<f;l++)a.push(t?En(e[l],pt(e[l])?0:t-1,n,o):zo(e[l],o));return!t&&n&&a.length>0&&a.push(a[0].slice()),a}function Bi(e,t){return e.feature?d({},e.feature,{geometry:t}):zn(t)}function zn(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Bo={toGeoJSON:function(e){return Bi(this,{type:"Point",coordinates:zo(this.getLatLng(),e)})}};kn.include(Bo),Mo.include(Bo),Ln.include(Bo),Wt.include({toGeoJSON:function(e){var t=!pt(this._latlngs),n=En(this._latlngs,t?1:0,!1,e);return Bi(this,{type:(t?"Multi":"")+"LineString",coordinates:n})}}),zi.include({toGeoJSON:function(e){var t=!pt(this._latlngs),n=t&&!pt(this._latlngs[0]),o=En(this._latlngs,n?2:t?1:0,!0,e);return t||(o=[o]),Bi(this,{type:(n?"Multi":"")+"Polygon",coordinates:o})}}),Mi.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),Bi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var n=t==="GeometryCollection",o=[];return this.eachLayer(function(a){if(a.toGeoJSON){var l=a.toGeoJSON(e);if(n)o.push(l.geometry);else{var f=zn(l);f.type==="FeatureCollection"?o.push.apply(o,f.features):o.push(f)}}}),n?Bi(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});function Pa(e,t){return new jt(e,t)}var As=Pa,Bn=St.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=re(t),z(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Li(this._image),this},bringToBack:function(){return this._map&&Ti(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=re(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:Pe("img");if(be(t,"leaflet-image-layer"),this._zoomAnimated&&be(t,"leaflet-zoom-animated"),this.options.className&&be(t,this.options.className),t.onselectstart=w,t.onmousemove=w,t.onload=u(this.fire,this,"load"),t.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;ri(this._image,n,t)},_reset:function(){var e=this._image,t=new y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Fe(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),qs=function(e,t,n){return new Bn(e,t,n)},Ca=Bn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:Pe("video");if(be(t,"leaflet-image-layer"),this._zoomAnimated&&be(t,"leaflet-zoom-animated"),this.options.className&&be(t,this.options.className),t.onselectstart=w,t.onmousemove=w,t.onloadeddata=u(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),o=[],a=0;a<n.length;a++)o.push(n[a].src);this._url=n.length>0?o:[t.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var l=0;l<this._url.length;l++){var f=Pe("source");f.src=this._url[l],t.appendChild(f)}}});function Is(e,t,n){return new Ca(e,t,n)}var ka=Bn.extend({_initImage:function(){var e=this._image=this._url;be(e,"leaflet-image-layer"),this._zoomAnimated&&be(e,"leaflet-zoom-animated"),this.options.className&&be(e,this.options.className),e.onselectstart=w,e.onmousemove=w}});function Rs(e,t,n){return new ka(e,t,n)}var It=St.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof ne||R(e))?(this._latlng=q(e),z(this,t)):(z(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&gt(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(u(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(De(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=q(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Li(this._container),this},bringToBack:function(){return this._map&&Ti(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof $t){t=null;var n=this._source._layers;for(var o in n)if(n[o]._map){t=n[o];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=$(this.options.offset),n=this._getAnchor();this._zoomAnimated?Fe(this._container,e.add(n)):t=t.add(e).add(n);var o=this._containerBottom=-t.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=o+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(e,t,n,o){var a=t;return a instanceof e||(a=new e(o).setContent(t)),n&&a.setLatLng(n),a}}),St.include({_initOverlay:function(e,t,n,o){var a=n;return a instanceof e?(z(a,o),a._source=this):(a=t&&!o?t:new e(o,this),a.setContent(n)),a}});var On=It.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,It.prototype.openOn.call(this,e)},onAdd:function(e){It.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Jt||this._source.on("preclick",li))},onRemove:function(e){It.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Jt||this._source.off("preclick",li))},getEvents:function(){var e=It.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=Pe("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=Pe("div",e+"-content-wrapper",t);if(this._contentNode=Pe("div",e+"-content",n),Qi(t),wo(this._contentNode),pe(t,"contextmenu",li),this._tipContainer=Pe("div",e+"-tip-container",t),this._tip=Pe("div",e+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=Pe("a",e+"-close-button",t);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',pe(o,"click",function(a){Ye(a),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var o=e.offsetHeight,a=this.options.maxHeight,l="leaflet-popup-scrolled";a&&o>a?(t.height=a+"px",be(e,l)):De(e,l),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Fe(this._container,t.add(n))},_adjustPan:function(){if(!!this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt(ji(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,o=this._containerWidth,a=new M(this._containerLeft,-n-this._containerBottom);a._add(si(this._container));var l=e.layerPointToContainerPoint(a),f=$(this.options.autoPanPadding),P=$(this.options.autoPanPaddingTopLeft||f),k=$(this.options.autoPanPaddingBottomRight||f),F=e.getSize(),ie=0,fe=0;l.x+o+k.x>F.x&&(ie=l.x+o-F.x+k.x),l.x-ie-P.x<0&&(ie=l.x-P.x),l.y+n+k.y>F.y&&(fe=l.y+n-F.y+k.y),l.y-fe-P.y<0&&(fe=l.y-P.y),(ie||fe)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([ie,fe]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Vs=function(e,t){return new On(e,t)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(e,t,n){return this._initOverlay(On,e,t,n).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),St.include({bindPopup:function(e,t){return this._popup=this._initOverlay(On,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){ui(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof Jt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var An=It.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){It.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){It.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=It.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pe("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,o=this._map,a=this._container,l=o.latLngToContainerPoint(o.getCenter()),f=o.layerPointToContainerPoint(e),P=this.options.direction,k=a.offsetWidth,F=a.offsetHeight,ie=$(this.options.offset),fe=this._getAnchor();P==="top"?(t=k/2,n=F):P==="bottom"?(t=k/2,n=0):P==="center"?(t=k/2,n=F/2):P==="right"?(t=0,n=F/2):P==="left"?(t=k,n=F/2):f.x<l.x?(P="right",t=0,n=F/2):(P="left",t=k+(ie.x+fe.x)*2,n=F/2),e=e.subtract($(t,n,!0)).add(ie).add(fe),De(a,"leaflet-tooltip-right"),De(a,"leaflet-tooltip-left"),De(a,"leaflet-tooltip-top"),De(a,"leaflet-tooltip-bottom"),be(a,"leaflet-tooltip-"+P),Fe(a,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&gt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ds=function(e,t){return new An(e,t)};Se.include({openTooltip:function(e,t,n){return this._initOverlay(An,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),St.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(An,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&(pe(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),pe(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,n,o;this._tooltip.options.sticky&&e.originalEvent&&(n=this._map.mouseEventToContainerPoint(e.originalEvent),o=this._map.containerPointToLayerPoint(n),t=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(t)}});var La=Ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(bn(t),t.appendChild(n.html)):t.innerHTML=n.html!==!1?n.html:"",n.bgPos){var o=$(n.bgPos);t.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Fs(e){return new La(e)}Ei.Default=Ji;var en=St.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){z(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),qe(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ti(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=C(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof M?e:new M(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,n=-e(-1/0,1/0),o=0,a=t.length,l;o<a;o++)l=t[o].style.zIndex,t[o]!==this._container&&l&&(n=e(n,+l));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!se.ielt9){gt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var o in this._tiles){var a=this._tiles[o];if(!(!a.current||!a.loaded)){var l=Math.min(1,(e-a.loaded)/200);gt(a.el,l),l<1?t=!0:(a.active?n=!0:this._onOpaqueTile(a),a.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(T(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(qe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var o=this._levels[e],a=this._map;return o||(o=this._levels[e]={},o.el=Pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=t,o.origin=a.project(a.unproject(a.getPixelOrigin()),e).round(),o.zoom=e,this._setZoomTransform(o,a.getCenter(),a.getZoom()),w(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(!!this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var o=t.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)qe(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,o){var a=Math.floor(e/2),l=Math.floor(t/2),f=n-1,P=new M(+a,+l);P.z=+f;var k=this._tileCoordsToKey(P),F=this._tiles[k];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),f>o?this._retainParent(a,l,f,o):!1)},_retainChildren:function(e,t,n,o){for(var a=2*e;a<2*e+2;a++)for(var l=2*t;l<2*t+2;l++){var f=new M(a,l);f.z=n+1;var P=this._tileCoordsToKey(f),k=this._tiles[P];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);n+1<o&&this._retainChildren(a,l,n+1,o)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,o){var a=Math.round(t);this.options.maxZoom!==void 0&&a>this.options.maxZoom||this.options.minZoom!==void 0&&a<this.options.minZoom?a=void 0:a=this._clampZoom(a);var l=this.options.updateWhenZooming&&a!==this._tileZoom;(!o||l)&&(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),a!==void 0&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var o=this._map.getZoomScale(n,e.zoom),a=e.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(t,n)).round();se.any3d?ri(e.el,a,o):Fe(e.el,a)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),o=this._tileZoom,a=this._map.getPixelWorldBounds(this._tileZoom);a&&(this._globalTileRange=this._pxBoundsToTileRange(a)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],o).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],o).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],o).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],o).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),o=t.getZoomScale(n,this._tileZoom),a=t.project(e,this._tileZoom).floor(),l=t.getSize().divideBy(o*2);return new y(a.subtract(l),a.add(l))},_update:function(e){var t=this._map;if(!!t){var n=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var o=this._getTiledPixelBounds(e),a=this._pxBoundsToTileRange(o),l=a.getCenter(),f=[],P=this.options.keepBuffer,k=new y(a.getBottomLeft().subtract([P,-P]),a.getTopRight().add([P,-P]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var ie=this._tiles[F].coords;(ie.z!==this._tileZoom||!k.contains(new M(ie.x,ie.y)))&&(this._tiles[F].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(e,n);return}for(var fe=a.min.y;fe<=a.max.y;fe++)for(var xe=a.min.x;xe<=a.max.x;xe++){var nt=new M(xe,fe);if(nt.z=this._tileZoom,!!this._isValidTile(nt)){var Ge=this._tiles[this._tileCoordsToKey(nt)];Ge?Ge.current=!0:f.push(nt)}}if(f.sort(function(ut,Ai){return ut.distanceTo(l)-Ai.distanceTo(l)}),f.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yt=document.createDocumentFragment();for(xe=0;xe<f.length;xe++)this._addTile(f[xe],yt);this._level.el.appendChild(yt)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(e);return re(this.options.bounds).overlaps(o)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),o=e.scaleBy(n),a=o.add(n),l=t.unproject(o,e.z),f=t.unproject(a,e.z);return[l,f]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new U(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new M(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];!t||(qe(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){be(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=w,e.onmousemove=w,se.ielt9&&this.options.opacity<1&&gt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),o=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),u(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&H(u(this._tileReady,this,e,null,a)),Fe(a,n),this._tiles[o]={el:a,coords:e,current:!0},t.appendChild(a),this.fire("tileloadstart",{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var o=this._tileCoordsToKey(e);n=this._tiles[o],n&&(n.loaded=+new Date,this._map._fadeAnimated?(gt(n.el,0),T(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(be(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new M(this._wrapX?m(e.x,this._wrapX):e.x,this._wrapY?m(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new y(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Zs(e){return new en(e)}var Oi=en.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=z(this,t),t.detectRetina&&se.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return pe(n,"load",u(this._tileOnLoad,this,t,n)),pe(n,"error",u(this._tileOnError,this,t,n)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:se.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return A(this._url,d(t,this.options))},_tileOnLoad:function(e,t){se.ielt9?setTimeout(u(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var o=this.options.errorTileUrl;o&&t.getAttribute("src")!==o&&(t.src=o),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,o=this.options.zoomOffset;return n&&(e=t-e),e+o},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=w,t.onerror=w,!t.complete)){t.src=Q;var n=this._tiles[e].coords;qe(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(!!t)return t.el.setAttribute("src",Q),en.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(!(!this._map||n&&n.getAttribute("src")===Q))return en.prototype._tileReady.call(this,e,t,n)}});function Ta(e,t){return new Oi(e,t)}var Ma=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=d({},this.defaultWmsParams);for(var o in t)o in this.options||(n[o]=t[o]);t=z(this,t);var a=t.detectRetina&&se.retina?2:1,l=this.getTileSize();n.width=l.x*a,n.height=l.y*a,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Oi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,o=b(n.project(t[0]),n.project(t[1])),a=o.min,l=o.max,f=(this._wmsVersion>=1.3&&this._crs===wa?[a.y,a.x,l.y,l.x]:[a.x,a.y,l.x,l.y]).join(","),P=Oi.prototype.getTileUrl.call(this,e);return P+I(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+f},setParams:function(e,t){return d(this.wmsParams,e),t||this.redraw(),this}});function Ns(e,t){return new Ma(e,t)}Oi.WMS=Ma,Ta.wms=Ns;var Ut=St.extend({options:{padding:.1},initialize:function(e){z(this,e),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,t),l=o.multiplyBy(-n).add(a).subtract(this._map._getNewPixelOrigin(e,t));se.any3d?ri(this._container,l,n):Fe(this._container,l)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new y(n,n.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ea=Ut.extend({options:{tolerance:0},getEvents:function(){var e=Ut.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ut.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");pe(e,"mousemove",this._onMouseMove,this),pe(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pe(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,qe(this._container),Ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ut.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),o=se.retina?2:1;Fe(t,e.min),t.width=o*n.x,t.height=o*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ut.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[g(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,o=t.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete e._order,delete this._layers[g(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),n=[],o,a;for(a=0;a<t.length;a++){if(o=Number(t[a]),isNaN(o))return;n.push(o)}e.options._dashArray=n}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){!this._map||(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new y,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)e=o.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(!!this._drawing){var n,o,a,l,f=e._parts,P=f.length,k=this._ctx;if(!!P){for(k.beginPath(),n=0;n<P;n++){for(o=0,a=f[n].length;o<a;o++)l=f[n][o],k[o?"lineTo":"moveTo"](l.x,l.y);t&&k.closePath()}this._fillStroke(k,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,n=this._ctx,o=Math.max(Math.round(e._radius),1),a=(Math.max(Math.round(e._radiusY),1)||o)/o;a!==1&&(n.save(),n.scale(1,a)),n.beginPath(),n.arc(t.x,t.y/a,o,0,Math.PI*2,!1),a!==1&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&n.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),n,o,a=this._drawFirst;a;a=a.next)n=a.layer,n.options.interactive&&n._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(n))&&(o=n);this._fireEvent(o?[o]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(De(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,o,a=this._drawFirst;a;a=a.next)n=a.layer,n.options.interactive&&n._containsPoint(t)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(e),o&&(be(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseover"),this._hoveredLayer=o)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(!!t){var n=t.next,o=t.prev;if(n)n.prev=o;else return;o?o.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(!!t){var n=t.next,o=t.prev;if(o)o.next=n;else return;n?n.prev=o:o&&(this._drawLast=o),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function za(e){return se.canvas?new Ea(e):null}var tn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hs={_initContainer:function(){this._container=Pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ut.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=tn("shape");be(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=tn("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[g(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;qe(t),e.removeInteractiveTarget(t),delete this._layers[g(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,o=e.options,a=e._container;a.stroked=!!o.stroke,a.filled=!!o.fill,o.stroke?(t||(t=e._stroke=tn("stroke")),a.appendChild(t),t.weight=o.weight+"px",t.color=o.color,t.opacity=o.opacity,o.dashArray?t.dashStyle=R(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=o.lineCap.replace("butt","flat"),t.joinstyle=o.lineJoin):t&&(a.removeChild(t),e._stroke=null),o.fill?(n||(n=e._fill=tn("fill")),a.appendChild(n),n.color=o.fillColor||o.color,n.opacity=o.fillOpacity):n&&(a.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),o=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+o+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){Li(e._container)},_bringToBack:function(e){Ti(e._container)}},qn=se.vml?tn:rt,nn=Ut.extend({_initContainer:function(){this._container=qn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),Ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ut.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Fe(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=qn("path");e.options.className&&be(t,e.options.className),e.options.interactive&&be(t,"leaflet-interactive"),this._updateStyle(e),this._layers[g(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){qe(e._path),e.removeInteractiveTarget(e._path),delete this._layers[g(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;!t||(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,st(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),o=Math.max(Math.round(e._radiusY),1)||n,a="a"+n+","+o+" 0 1,0 ",l=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+a+n*2+",0 "+a+-n*2+",0 ";this._setPath(e,l)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){Li(e._path)},_bringToBack:function(e){Ti(e._path)}});se.vml&&nn.include(Hs);function Ba(e){return se.svg||se.vml?new nn(e):null}Se.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&za(e)||Ba(e)}});var Oa=zi.extend({initialize:function(e,t){zi.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=re(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function $s(e,t){return new Oa(e,t)}nn.create=qn,nn.pointsToPath=st,jt.geometryToLayer=Tn,jt.coordsToLatLng=Eo,jt.coordsToLatLngs=Mn,jt.latLngToCoords=zo,jt.latLngsToCoords=En,jt.getFeature=Bi,jt.asFeature=zn,Se.mergeOptions({boxZoom:!0});var Aa=qt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ui(),fo(),this._startPoint=this._map.mouseEventToContainerPoint(e),pe(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Pe("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new y(this._point,this._startPoint),n=t.getSize();Fe(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(qe(this._box),De(this._container,"leaflet-crosshair")),Ki(),mo(),Ee(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var t=new U(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",Aa),Se.mergeOptions({doubleClickZoom:!0});var qa=qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),o=t.options.zoomDelta,a=e.originalEvent.shiftKey?n-o:n+o;t.options.doubleClickZoom==="center"?t.setZoom(a):t.setZoomAround(e.containerPoint,a)}});Se.addInitHook("addHandler","doubleClickZoom",qa),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ia=qt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Xt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){De(this._map._container,"leaflet-grab"),De(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=re(this._map.options.maxBounds);this._offsetLimit=b(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,o=this._draggable._newPos.x,a=(o-t+n)%e+t-n,l=(o+t+n)%e-t-n,f=Math.abs(a+n)<Math.abs(l+n)?a:l;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=f},_onDragEnd:function(e){var t=this._map,n=t.options,o=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),o)t.fire("moveend");else{this._prunePositions(+new Date);var a=this._lastPos.subtract(this._positions[0]),l=(this._lastTime-this._times[0])/1e3,f=n.easeLinearity,P=a.multiplyBy(f/l),k=P.distanceTo([0,0]),F=Math.min(n.inertiaMaxSpeed,k),ie=P.multiplyBy(F/k),fe=F/(n.inertiaDeceleration*f),xe=ie.multiplyBy(-fe/2).round();!xe.x&&!xe.y?t.fire("moveend"):(xe=t._limitOffset(xe,t.options.maxBounds),H(function(){t.panBy(xe,{duration:fe,easeLinearity:f,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",Ia),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ra=qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),pe(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,o=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(o,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},n=this.keyCodes,o,a;for(o=0,a=n.left.length;o<a;o++)t[n.left[o]]=[-1*e,0];for(o=0,a=n.right.length;o<a;o++)t[n.right[o]]=[e,0];for(o=0,a=n.down.length;o<a;o++)t[n.down[o]]=[0,e];for(o=0,a=n.up.length;o<a;o++)t[n.up[o]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},n=this.keyCodes,o,a;for(o=0,a=n.zoomIn.length;o<a;o++)t[n.zoomIn[o]]=e;for(o=0,a=n.zoomOut.length;o<a;o++)t[n.zoomOut[o]]=-e},_addHooks:function(){pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,n=this._map,o;if(t in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(o=this._panKeys[t],e.shiftKey&&(o=$(o).multiplyBy(3)),n.options.maxBounds&&(o=n._limitOffset($(o),n.options.maxBounds)),n.options.worldCopyJump){var a=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(o)));n.panTo(a)}else n.panBy(o)}else if(t in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;ui(e)}}});Se.addInitHook("addHandler","keyboard",Ra),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Va=qt.extend({addHooks:function(){pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=la(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),o),ui(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var o=this._delta/(this._map.options.wheelPxPerZoomLevel*4),a=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,l=n?Math.ceil(a/n)*n:a,f=e._limitZoom(t+(this._delta>0?l:-l))-t;this._delta=0,this._startTime=null,f&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+f):e.setZoomAround(this._lastMousePos,t+f))}});Se.addInitHook("addHandler","scrollWheelZoom",Va);var Ws=600;Se.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var Da=qt.extend({addHooks:function(){pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new M(t.clientX,t.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(pe(document,"touchend",Ye),pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),Ws),pe(document,"touchend touchcancel contextmenu",this._cancel,this),pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ee(document,"touchend",Ye),Ee(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new M(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});Se.addInitHook("addHandler","tapHold",Da),Se.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var Fa=qt.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){De(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var n=t.mouseEventToContainerPoint(e.touches[0]),o=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),pe(document,"touchmove",this._onTouchMove,this),pe(document,"touchend touchcancel",this._onTouchEnd,this),Ye(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),o=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(o)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,a===1)return}else{var l=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(a===1&&l.x===0&&l.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(l),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var f=u(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(f,this,!0),Ye(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,T(this._animRequest),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",Fa),Se.BoxZoom=Aa,Se.DoubleClickZoom=qa,Se.Drag=Ia,Se.Keyboard=Ra,Se.ScrollWheelZoom=Va,Se.TapHold=Da,Se.TouchZoom=Fa,s.Bounds=y,s.Browser=se,s.CRS=G,s.Canvas=Ea,s.Circle=Mo,s.CircleMarker=Ln,s.Class=ae,s.Control=xt,s.DivIcon=La,s.DivOverlay=It,s.DomEvent=us,s.DomUtil=ss,s.Draggable=Xt,s.Evented=W,s.FeatureGroup=$t,s.GeoJSON=jt,s.GridLayer=en,s.Handler=qt,s.Icon=Ei,s.ImageOverlay=Bn,s.LatLng=ne,s.LatLngBounds=U,s.Layer=St,s.LayerGroup=Mi,s.LineUtil=xs,s.Map=Se,s.Marker=kn,s.Mixin=_s,s.Path=Jt,s.Point=M,s.PolyUtil=gs,s.Polygon=zi,s.Polyline=Wt,s.Popup=On,s.PosAnimation=ua,s.Projection=Ss,s.Rectangle=Oa,s.Renderer=Ut,s.SVG=nn,s.SVGOverlay=ka,s.TileLayer=Oi,s.Tooltip=An,s.Transformation=$e,s.Util=ue,s.VideoOverlay=Ca,s.bind=u,s.bounds=b,s.canvas=za,s.circle=zs,s.circleMarker=Es,s.control=Yi,s.divIcon=Fs,s.extend=d,s.featureGroup=Ls,s.geoJSON=Pa,s.geoJson=As,s.gridLayer=Zs,s.icon=Ts,s.imageOverlay=qs,s.latLng=q,s.latLngBounds=re,s.layerGroup=ks,s.map=cs,s.marker=Ms,s.point=$,s.polygon=Os,s.polyline=Bs,s.popup=Vs,s.rectangle=$s,s.setOptions=z,s.stamp=g,s.svg=Ba,s.svgOverlay=Rs,s.tileLayer=Ta,s.tooltip=Ds,s.transformation=at,s.version=c,s.videoOverlay=Is;var js=window.L;s.noConflict=function(){return window.L=js,this},window.L=s})})(eo,eo.exports);const Pc=[{name:"agreementType",required:!0,label:"\u0422\u0438\u043F \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0430",sortable:!0,field:"agreementType",align:"center"},{name:"agreementNumber",required:!0,label:"\u041D\u043E\u043C\u0435\u0440 \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0430",sortable:!0,field:"agreementNumber",align:"center"},{name:"cadastralNumber",required:!0,label:"\u041A\u0430\u0434\u0430\u0441\u0442\u0440\u043E\u0432\u044B\u0439 \u043D\u043E\u043C\u0435\u0440",sortable:!0,field:"cadastralNumber",align:"center"},{name:"rentStartDate",required:!0,label:"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430 \u0430\u0440\u0435\u043D\u0434\u044B",sortable:!0,field:"rentStartDate",align:"center"},{name:"rentEndDate",required:!0,label:"\u0414\u0430\u0442\u0430 \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F \u0430\u0440\u0435\u043D\u0434\u044B",sortable:!0,field:"rentEndDate",align:"center"},{name:"order",required:!0,label:"\u041F\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435",sortable:!0,field:"order",align:"center"},{name:"delete",label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",field:"",align:"center"}],$o=[{agreementType:"\u0410\u0440\u0435\u043D\u0434\u0430",agreementNumber:"12345",cadastralNumber:"872837",rentStartDate:"01.01.2024",rentEndDate:"01.01.2025",order:"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 1"},{agreementType:"\u0410\u0440\u0435\u043D\u0434\u0430",agreementNumber:"12657",cadastralNumber:"875869",rentStartDate:"01.01.2024",rentEndDate:"01.01.2025",order:"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 1"}],Cc=Ll({name:"MainPage",setup(){const i=j(null),r=["\u0426\u0423\u041C","\u0426\u0435\u0437\u0430\u0440\u044C","Sulpak","\u0410\u044D\u0440\u043E\u0432\u043E\u043A\u0437\u0430\u043B","\u0414\u043E\u043C \u211620","\u0414\u043E\u043C \u211630"],s=["\u041A\u0420\u042D-09 270x220x96","\u0428\u041412-04 606x550x166"],c=["\u0422\u0440\u0430\u043D\u0448\u0435\u044F; 273/308-273/305; 104.800 \u043C.","\u0422\u0440\u0430\u043D\u0448\u0435\u044F; 273/147-273/308; 95.000 \u043C.","\u0422\u0440\u0430\u043D\u0448\u0435\u044F; 279/385-279/2; 73.000 \u043C."],d=["279/311; \u041A\u041A\u0421-4","279/317; \u041A\u041A\u0421-4"],h=["\u0426\u0422 \u0421\u043E\u043B\u0442\u0443\u0441\u0442\u0438\u043A,\u0410\u043B\u0442\u0430\u0439","\u0426\u0422 \u0411\u0430\u0442\u044B\u0441, RASM-8"],u=["\u0428\u0414 ETTH 279/22/11/2*0221","\u0410\u0411 27957/27-\u0440\u0441\u043C"],_=["\u0424\u0430\u0439\u043B 1  .jpeg","\u0424\u0430\u0439\u043B 2  .pdf"];return Rt(()=>{i.value=eo.exports.map("map").setView([43.23,76.9],16),eo.exports.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(i.value);const g=i.value.attributionControl.getContainer();g.parentNode.removeChild(g)}),{initialMap:i,columns:Pc,rows:$o,pageClass:j("page"),agreement:j(!1),objDocs:j(!0),relatedObjects:j(!0),search:j(!1),searchOpt1:j(!1),searchOpt2:j(!1),showSearchResult:j(!1),searchResult:j([]),agreementDeleteDialog:j(!1),chosenAgreement:j(),advancedSearch:j(!1),types:["\u0417\u0434\u0430\u043D\u0438\u044F","\u041E\u043F\u043E\u0440\u044B","\u041F\u041B\u0421","\u041F\u0421\u0423","\u0421\u0442\u0430\u043D\u0446\u0438\u0438","\u041E\u0423"],chosenType:j(""),agreementType:j(""),agreementNumber:j(""),rentStartDate:j(""),rentEndDate:j(""),cadastralNumber:j(""),order:j(""),buildings:r,supports:s,pls:c,psu:d,stantions:h,ou:u,files:_,chosenBuilding:j(""),chosenSupport:j(""),chosenPls:j(""),chosenPsu:j(""),chosenStation:j(""),chosenOu:j(""),chosenFile:j()}},methods:{saveAgreement(){if(this.agreementType!=""&&this.agreementNumber!=""&&this.cadastralNumber!=""&&this.rentStartDate!=""&&this.rentEndDate!=""&&this.order!=""){Ao.create({message:"\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E",position:"center"});const i={agreementType:this.agreementType,agreementNumber:this.agreementNumber,cadastralNumber:this.cadastralNumber,rentStartDate:this.rentStartDate,rentEndDate:this.rentEndDate,order:this.order};$o.push(i),this.agreementType="",this.agreementNumber="",this.cadastralNumber="",this.rentStartDate="",this.rentEndDate="",this.order=""}else Ao.create({message:"\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F",position:"center"})},find(){this.showSearchResult=!0,this.searchResult=$o.filter(i=>i.agreementType.includes(this.agreementType)&&this.agreementType!=""||i.agreementNumber.includes(this.agreementNumber)&&this.agreementNumber!=""||i.cadastralNumber.includes(this.cadastralNumber)&&this.cadastralNumber!=""||i.rentStartDate.includes(this.rentStartDate)&&this.rentStartDate!=""||i.rentEndDate.includes(this.rentEndDate)&&this.rentEndDate!=""||i.order.includes(this.order)&&this.order!="")},removeAgreement(){this.rows=this.rows.filter(i=>i!==this.chosenAgreement),this.searchResult=this.searchResult.filter(i=>i!==this.chosenAgreement)},save(){Ao.create({message:"\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E",position:"center"})},form(){Norify.create({message:"\u0421\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u043E",position:"center"})}}}),kc={class:"q-pa-sm",style:{position:"relative","z-index":"1000"}},Lc={class:"row justify-between"},Tc={style:{"margin-top":"150px","margin-left":"10px"}},Mc=Re("br",null,null,-1),Ec=Re("br",null,null,-1),zc={style:{"margin-inline":"3px"}},Bc={class:"text-center",align:"center"},Oc=Re("span",{class:"q-ml-sm",style:{"font-size":"large"}},"\u0414\u043E\u0433\u043E\u0432\u043E\u0440 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B?",-1),Ac=Re("span",{style:{"margin-inline":"3px"}},"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A \u043F\u043E \u0433. \u0410\u043B\u043C\u0430\u0442\u044B",-1),qc={class:"q-pa-md text-center"},Ic={class:"q-pa-md",align:"left"},Rc=Re("b",null,"\u0412\u0441\u0435\u0433\u043E \u043F\u043E \u0433. \u0410\u043B\u043C\u0430\u0442\u044B:",-1),Vc=Re("br",null,null,-1),Dc=Re("br",null,null,-1),Fc=Re("br",null,null,-1),Zc=Re("span",{style:{"margin-inline":"3px"}},"\u0414\u043E\u0433\u043E\u0432\u043E\u0440",-1),Nc={class:"row items-start q-gutter-md text-center"},Hc={key:0,align:"left"},$c=Re("br",null,null,-1),Wc=Re("br",null,null,-1),jc={key:0},Uc={style:{"margin-inline":"3px","margin-top":"0px","margin-bottom":"0px"}},Kc={class:"text-center"};function Gc(i,r,s,c,d,h){return ei(),Ri(xc,{id:"map"},{default:ze(()=>[Re("div",kc,[Re("div",Lc,[Re("div",Tc,[de(Ie,{onClick:r[0]||(r[0]=ct(u=>i.agreement=!i.agreement,["stop"])),style:{"font-weight":"bolder","max-height":"20px"},label:"\u0414\u043E\u0433\u043E\u0432\u043E\u0440",color:"primary",size:"sm"}),Mc,Ec,de(Ie,{onClick:r[1]||(r[1]=ct(u=>i.advancedSearch=!i.advancedSearch,["stop"])),style:{"font-weight":"bolder","max-height":"20px"},label:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A",color:"primary",size:"sm"})]),i.search&&i.showSearchResult?(ei(),Ri($n,{key:0,onClick:r[4]||(r[4]=ct(()=>{},["stop"])),align:"left",square:"",style:{"max-width":"1200px","max-height":"300px","margin-top":"100px"}},{default:ze(()=>[de(ti,{style:{"background-color":"#1976D2",color:"white","font-size":"12px","font-weight":"bold"}},{default:ze(()=>[de(Ie,{icon:"close",size:"sm",onClick:r[2]||(r[2]=u=>i.showSearchResult=!1),style:{"margin-inline":"3px"},ripple:!1,dense:"",flat:""}),Re("span",zc,"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432 \u043F\u043E\u0438\u0441\u043A\u0430 - "+qo(i.searchResult.length),1)]),_:1}),Re("div",Bc,[de(hc,{flat:"",rows:i.searchResult,columns:i.columns,"row-key":"agreementNumber",sorting:!0,"rows-per-page-label":"\u041E\u0431\u044A\u0435\u043A\u0442\u044B","no-data":!0,"no-results":!0,style:{"max-width":"1200px"}},{"body-cell-delete":ze(u=>[de(Ol,{props:u},{default:ze(()=>[de(Ie,{dense:"",round:"",color:"primary",size:"sm",icon:"remove",onClick:ct(_=>{i.agreementDeleteDialog=!0,i.chosenAgreement=u.row},["stop","prevent"])},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]),de(Ie,{onClick:i.save,label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",style:{"font-size":"12px","margin-top":"10px","margin-bottom":"-5px","background-color":"#1976D2",color:"white"},dense:"",flat:""},null,8,["onClick"])]),de(ts,{modelValue:i.agreementDeleteDialog,"onUpdate:modelValue":r[3]||(r[3]=u=>i.agreementDeleteDialog=u)},{default:ze(()=>[de($n,null,{default:ze(()=>[de(ti,{class:"row items-center"},{default:ze(()=>[de(Tl,{icon:"description",color:"primary","text-color":"white"}),Oc]),_:1}),de(fc,{align:"right"},{default:ze(()=>[Rn(de(Ie,{flat:"",label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",color:"red",onClick:ct(i.removeAgreement,["stop","prevent"])},null,8,["onClick"]),[[Sr]]),Rn(de(Ie,{flat:"",label:"\u041E\u0442\u043C\u0435\u043D\u0430",color:"primary"},null,512),[[Sr]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):an("",!0),i.advancedSearch?(ei(),Ri($n,{key:1,onClick:r[7]||(r[7]=ct(()=>{},["stop"])),align:"left",square:"",style:{"max-width":"900px","max-height":"300px",height:"400px","margin-top":"100px"}},{default:ze(()=>[de(ti,{style:{"background-color":"#1976D2",color:"white","font-size":"12px","font-weight":"bold"}},{default:ze(()=>[de(Ie,{icon:"close",title:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",size:"sm",onClick:r[5]||(r[5]=u=>i.advancedSearch=!1),style:{"margin-inline":"3px"},ripple:!1,dense:"",flat:""}),Ac]),_:1}),Re("div",qc,[de(Kt,{label:"\u0422\u0438\u043F",filled:"",dense:"",modelValue:i.chosenType,"onUpdate:modelValue":r[6]||(r[6]=u=>i.chosenType=u),options:i.types},null,8,["modelValue","options"]),Re("p",Ic,[Rc,rn(),Vc,rn(' -\u041E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u043E 1800 \u043E\u0431\u044A\u0435\u043A\u0442\u043E\u0432 "'+qo(i.chosenType)+'" ',1),Dc,rn(' -\u041D\u0435 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u043E 200 \u043E\u0431\u044A\u0435\u043A\u0442\u043E\u0432 "'+qo(i.chosenType)+'", ',1),Fc,rn(" \u0447\u0442\u043E \u0441\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u0442 10% \u043E\u0442 \u043E\u0431\u0449\u0435\u0433\u043E \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u0430 ")]),de(Ie,{onClick:i.save,label:"\u0421\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u0442\u044C",style:{"font-size":"12px","margin-top":"10px","margin-bottom":"-5px","margin-inline":"5px","background-color":"#1976D2",color:"white"},dense:"",flat:""},null,8,["onClick"]),de(Ie,{onClick:i.form,label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",style:{"font-size":"12px","margin-top":"10px","margin-bottom":"-5px","margin-inline":"5px","background-color":"#1976D2",color:"white"},dense:"",flat:""},null,8,["onClick"])])]),_:1})):an("",!0),i.agreement?(ei(),Ri($n,{key:2,onClick:r[38]||(r[38]=ct(()=>{},["stop"])),align:"left",square:"",style:{"max-width":"350px"}},{default:ze(()=>[de(ti,{style:{"background-color":"#1976D2",color:"white","font-size":"12px","font-weight":"bold"}},{default:ze(()=>[de(Ie,{icon:"close",title:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",size:"sm",onClick:r[8]||(r[8]=u=>i.agreement=!1),style:{"margin-inline":"3px"},ripple:!1,dense:"",flat:""}),de(Ie,{icon:"search",title:"\u041F\u043E\u0438\u0441\u043A",size:"sm",onClick:r[9]||(r[9]=u=>i.search=!i.search),style:{"margin-inline":"3px"},ripple:!1,dense:"",flat:""}),de(Ie,{icon:"add",title:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",size:"sm",onClick:r[10]||(r[10]=u=>i.search=!1),style:{"margin-inline":"3px"},ripple:!1,dense:"",flat:""}),de(Ie,{icon:"shuffle",title:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0441\u0432\u044F\u0437\u0430\u043D\u043D\u044B\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u044B",size:"sm",onClick:r[11]||(r[11]=u=>{i.objDocs=!0,i.relatedObjects=!0}),style:{"margin-inline":"3px"},ripple:!1,dense:"",flat:""}),de(Ie,{icon:"description",title:"\u0421\u043A\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B",size:"sm",onClick:r[12]||(r[12]=u=>{i.objDocs=!0,i.relatedObjects=!1}),style:{"margin-inline":"3px"},ripple:!1,dense:"",flat:""}),Zc]),_:1}),de(ti,{style:{"font-size":"16px","font-weight":"bold"}},{default:ze(()=>[Re("div",Nc,[de(gc,{style:{"min-width":"250px","max-width":"300px",margin:"auto","padding-bottom":"0px"}},{default:ze(()=>[de(Vi,{style:{"font-size":"12px"},modelValue:i.agreementType,"onUpdate:modelValue":r[13]||(r[13]=u=>i.agreementType=u),dense:"",square:"",type:"text",label:"\u0422\u0438\u043F \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0430"},null,8,["modelValue"]),de(Vi,{style:{"font-size":"12px"},modelValue:i.agreementNumber,"onUpdate:modelValue":r[14]||(r[14]=u=>i.agreementNumber=u),dense:"",square:"",type:"text",label:"\u041D\u043E\u043C\u0435\u0440 \u0434\u043E\u0433\u043E\u0432\u043E\u0440\u0430"},null,8,["modelValue"]),de(Vi,{style:{"font-size":"12px"},modelValue:i.cadastralNumber,"onUpdate:modelValue":r[15]||(r[15]=u=>i.cadastralNumber=u),dense:"",square:"",type:"text",label:"\u041A\u0430\u0434\u0430\u0441\u0442\u0440\u043E\u0432\u044B\u0439 \u043D\u043E\u043C\u0435\u0440"},null,8,["modelValue"]),de(Vi,{style:{"font-size":"12px"},modelValue:i.rentStartDate,"onUpdate:modelValue":r[16]||(r[16]=u=>i.rentStartDate=u),dense:"",square:"",type:"text",label:"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430 \u0430\u0440\u0435\u043D\u0434\u044B"},null,8,["modelValue"]),de(Vi,{style:{"font-size":"12px"},modelValue:i.rentEndDate,"onUpdate:modelValue":r[17]||(r[17]=u=>i.rentEndDate=u),dense:"",square:"",type:"text",label:"\u0414\u0430\u0442\u0430 \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F \u0430\u0440\u0435\u043D\u0434\u044B"},null,8,["modelValue"]),de(Vi,{style:{"font-size":"12px"},modelValue:i.order,"onUpdate:modelValue":r[18]||(r[18]=u=>i.order=u),dense:"",square:"",type:"text",label:"\u041F\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435"},null,8,["modelValue"]),i.search?(ei(),ja("div",Hc,[de(dn,{modelValue:i.searchOpt1,"onUpdate:modelValue":r[19]||(r[19]=u=>i.searchOpt1=u),disable:i.searchOpt2,style:{"font-size":"12px","font-weight":"normal"},label:"\u041F\u043E\u0438\u0441\u043A \u043F\u043E \u043D\u0435\u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043D\u044B\u043C \u0434\u0430\u043D\u043D\u044B\u043C"},null,8,["modelValue","disable"]),$c,de(dn,{modelValue:i.searchOpt2,"onUpdate:modelValue":r[20]||(r[20]=u=>i.searchOpt2=u),disable:i.searchOpt1,style:{"font-size":"12px","font-weight":"normal"},label:"\u041C\u0435\u043D\u0435\u0435 3-\u0445 \u043C\u0435\u0441\u044F\u0446\u0435\u0432"},null,8,["modelValue","disable"]),Wc])):an("",!0),i.search?(ei(),Ri(Ie,{key:1,onClick:i.find,label:"\u041D\u0430\u0439\u0442\u0438",style:{"font-size":"12px","margin-top":"10px","margin-bottom":"-5px","background-color":"#1976D2",color:"white"},dense:"",flat:""},null,8,["onClick"])):(ei(),Ri(Ie,{key:2,onClick:i.saveAgreement,label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",style:{"font-size":"12px","margin-top":"10px","margin-bottom":"-5px","background-color":"#1976D2",color:"white"},dense:"",flat:""},null,8,["onClick"]))]),_:1})])]),_:1}),i.objDocs?(ei(),ja("div",jc,[de(ti,{style:{"background-color":"#1976D2",color:"white","font-size":"12px","font-weight":"bold"}},{default:ze(()=>[Re("p",Uc,[Re("span",{clickable:"",onClick:r[21]||(r[21]=u=>i.relatedObjects=!0)},"\u0421\u0432\u044F\u0437\u0430\u043D\u043D\u044B\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u044B"),rn(" | "),Re("span",{clickable:"",onClick:r[22]||(r[22]=u=>i.relatedObjects=!1)},"\u0421\u043A\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B")])]),_:1}),Rn(de(ti,{style:{"font-size":"16px","font-weight":"bold"}},{default:ze(()=>[Re("div",Kc,[de(Kt,{label:"\u0417\u0434\u0430\u043D\u0438\u044F",filled:"",dense:"",modelValue:i.chosenBuilding,"onUpdate:modelValue":r[24]||(r[24]=u=>i.chosenBuilding=u),options:i.buildings},di({_:2},[i.chosenBuilding?{name:"append",fn:ze(()=>[de(Je,{name:"cancel",onClick:r[23]||(r[23]=ct(u=>{i.buildings=i.buildings.filter(_=>_!==i.chosenBuilding),i.chosenBuilding=null},["stop","prevent"])),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","options"]),de(Kt,{label:"\u041E\u043F\u043E\u0440\u044B",filled:"",dense:"",modelValue:i.chosenSupport,"onUpdate:modelValue":r[26]||(r[26]=u=>i.chosenSupport=u),options:i.supports},di({_:2},[i.chosenSupport?{name:"append",fn:ze(()=>[de(Je,{name:"cancel",onClick:r[25]||(r[25]=ct(u=>{i.supports=i.supports.filter(_=>_!==i.chosenSupport),i.chosenSupport=null},["stop","prevent"])),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","options"]),de(Kt,{label:"\u041F\u041B\u0421",filled:"",dense:"",modelValue:i.chosenPls,"onUpdate:modelValue":r[28]||(r[28]=u=>i.chosenPls=u),options:i.pls},di({_:2},[i.chosenPls?{name:"append",fn:ze(()=>[de(Je,{name:"cancel",onClick:r[27]||(r[27]=ct(u=>{i.pls=i.pls.filter(_=>_!==i.chosenPls),i.chosenPls=null},["stop","prevent"])),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","options"]),de(Kt,{label:"\u041F\u0421\u0423",filled:"",dense:"",modelValue:i.chosenPsu,"onUpdate:modelValue":r[30]||(r[30]=u=>i.chosenPsu=u),options:i.psu},di({_:2},[i.chosenPsU?{name:"append",fn:ze(()=>[de(Je,{name:"cancel",onClick:r[29]||(r[29]=ct(u=>{i.psu=i.psu.filter(_=>_!==i.chosenPsu),i.chosenPsu=null},["stop","prevent"])),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","options"]),de(Kt,{label:"\u0421\u0442\u0430\u043D\u0446\u0438\u0438",filled:"",dense:"",modelValue:i.chosenStation,"onUpdate:modelValue":r[32]||(r[32]=u=>i.chosenStation=u),options:i.stantions},di({_:2},[i.chosenStation?{name:"append",fn:ze(()=>[de(Je,{name:"cancel",onClick:r[31]||(r[31]=ct(u=>{i.stantions=i.stantions.filter(_=>_!==i.chosenStation),i.chosenStation=null},["stop","prevent"])),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","options"]),de(Kt,{label:"\u041E\u0423",filled:"",dense:"",modelValue:i.chosenOu,"onUpdate:modelValue":r[34]||(r[34]=u=>i.chosenOu=u),options:i.ou},di({_:2},[i.chosenOu?{name:"append",fn:ze(()=>[de(Je,{name:"cancel",onClick:r[33]||(r[33]=ct(u=>{i.ou=i.ou.filter(_=>_!==i.chosenOu),i.chosenOu=null},["stop","prevent"])),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","options"]),de(Ie,{onClick:i.save,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",style:{"font-size":"12px","margin-top":"10px","margin-bottom":"-5px","background-color":"#1976D2",color:"white"},dense:"",flat:""},null,8,["onClick"])])]),_:1},512),[[Ua,i.relatedObjects==!0]]),Rn(de(ti,{class:"text-center",style:{"font-size":"16px","font-weight":"bold"}},{default:ze(()=>[de(Kt,{label:"\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B",filled:"",dense:"",modelValue:i.chosenFile,"onUpdate:modelValue":r[36]||(r[36]=u=>i.chosenFile=u),options:i.files},di({_:2},[i.chosenFile?{name:"append",fn:ze(()=>[de(Je,{name:"cancel",onClick:r[35]||(r[35]=ct(u=>{i.files=i.files.filter(_=>_!==i.chosenFile),i.chosenFile=null},["stop","prevent"])),class:"cursor-pointer"})]),key:"0"}:void 0]),1032,["modelValue","options"]),de(wc,{modelValue:i.files,"onUpdate:modelValue":r[37]||(r[37]=u=>i.files=u),label:"\u041F\u0440\u0438\u043A\u0440\u0435\u043F\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B",filled:"",counter:"","counter-label":i.counterLabelFn,"max-files":"3",multiple:"",style:{"max-width":"300px"}},{prepend:ze(()=>[de(Je,{name:"attach_file"})]),_:1},8,["modelValue","counter-label"]),de(Ie,{onClick:i.save,label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",style:{"font-size":"12px","margin-top":"10px","margin-bottom":"-5px","background-color":"#1976D2",color:"white"},dense:"",flat:""},null,8,["onClick"])]),_:1},512),[[Ua,i.relatedObjects==!1]])])):an("",!0)]),_:1})):an("",!0)])])]),_:1})}var Xc=kl(Cc,[["render",Gc]]);export{Xc as default};
